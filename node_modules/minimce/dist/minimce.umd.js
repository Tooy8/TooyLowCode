(function(ss,Ao){typeof exports=="object"&&typeof module<"u"?Ao(exports,require("vue-demi")):typeof define=="function"&&define.amd?define(["exports","vue-demi"],Ao):(ss=typeof globalThis<"u"?globalThis:ss||self,Ao(ss.minimce={},ss.VueDemi))})(this,function(ss,Ao){"use strict";function hx(g){const _=Array.from(g);return _[0]=_[0].toUpperCase(),_.unshift("n"),_.unshift("o"),_.join("")}function sR(g,_=[]){const D={},X={},_e={},Ae={},We=Array.isArray(_)?_:Object.keys(_);for(const Ke in g)if(Ke.startsWith("@")){const Ee=Ke.substring(1);Ao.isVue3?Ee.startsWith("vnode")?Ae[hx(Ee)]=g[Ke]:_e[hx(Ee)]=g[Ke]:Ee.startsWith("hook:")?Ae[Ee]=g[Ke]:_e[Ee]=g[Ke]}else We.includes(Ke)?D[Ke]=g[Ke]:X[Ke]=g[Ke];return{props:D,attrs:X,listeners:_e,hooks:Ae}}var rR=typeof global=="object"&&global&&global.Object===Object&&global;const yx=rR;var aR=typeof self=="object"&&self&&self.Object===Object&&self,cR=yx||aR||Function("return this")();const fi=cR;var iR=fi.Symbol;const di=iR;var bx=Object.prototype,lR=bx.hasOwnProperty,uR=bx.toString,bp=di?di.toStringTag:void 0;function fR(g){var _=lR.call(g,bp),D=g[bp];try{g[bp]=void 0;var X=!0}catch{}var _e=uR.call(g);return X&&(_?g[bp]=D:delete g[bp]),_e}var dR=Object.prototype,mR=dR.toString;function pR(g){return mR.call(g)}var gR="[object Null]",hR="[object Undefined]",kx=di?di.toStringTag:void 0;function nf(g){return g==null?g===void 0?hR:gR:kx&&kx in Object(g)?fR(g):pR(g)}function mi(g){return g!=null&&typeof g=="object"}var yR="[object Symbol]";function Uk(g){return typeof g=="symbol"||mi(g)&&nf(g)==yR}function bR(g,_){for(var D=-1,X=g==null?0:g.length,_e=Array(X);++D<X;)_e[D]=_(g[D],D,g);return _e}var kR=Array.isArray;const ac=kR;var wR=1/0,wx=di?di.prototype:void 0,_x=wx?wx.toString:void 0;function vx(g){if(typeof g=="string")return g;if(ac(g))return bR(g,vx)+"";if(Uk(g))return _x?_x.call(g):"";var _=g+"";return _=="0"&&1/g==-wR?"-0":_}function pi(g){var _=typeof g;return g!=null&&(_=="object"||_=="function")}function Hk(g){return g}var _R="[object AsyncFunction]",vR="[object Function]",CR="[object GeneratorFunction]",SR="[object Proxy]";function Wk(g){if(!pi(g))return!1;var _=nf(g);return _==vR||_==CR||_==_R||_==SR}var xR=fi["__core-js_shared__"];const qk=xR;var Cx=function(){var g=/[^.]+$/.exec(qk&&qk.keys&&qk.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function ER(g){return!!Cx&&Cx in g}var TR=Function.prototype,zR=TR.toString;function of(g){if(g!=null){try{return zR.call(g)}catch{}try{return g+""}catch{}}return""}var AR=/[\\^$.*+?()[\]{}|]/g,NR=/^\[object .+?Constructor\]$/,RR=Function.prototype,DR=Object.prototype,OR=RR.toString,PR=DR.hasOwnProperty,BR=RegExp("^"+OR.call(PR).replace(AR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $R(g){if(!pi(g)||ER(g))return!1;var _=Wk(g)?BR:NR;return _.test(of(g))}function FR(g,_){return g==null?void 0:g[_]}function sf(g,_){var D=FR(g,_);return $R(D)?D:void 0}var IR=sf(fi,"WeakMap");const Vk=IR;var Sx=Object.create,LR=function(){function g(){}return function(_){if(!pi(_))return{};if(Sx)return Sx(_);g.prototype=_;var D=new g;return g.prototype=void 0,D}}();const MR=LR;function jR(g,_,D){switch(D.length){case 0:return g.call(_);case 1:return g.call(_,D[0]);case 2:return g.call(_,D[0],D[1]);case 3:return g.call(_,D[0],D[1],D[2])}return g.apply(_,D)}function xx(g,_){var D=-1,X=g.length;for(_||(_=Array(X));++D<X;)_[D]=g[D];return _}var UR=800,HR=16,WR=Date.now;function qR(g){var _=0,D=0;return function(){var X=WR(),_e=HR-(X-D);if(D=X,_e>0){if(++_>=UR)return arguments[0]}else _=0;return g.apply(void 0,arguments)}}function VR(g){return function(){return g}}var GR=function(){try{var g=sf(Object,"defineProperty");return g({},"",{}),g}catch{}}();const Nh=GR;var KR=Nh?function(g,_){return Nh(g,"toString",{configurable:!0,enumerable:!1,value:VR(_),writable:!0})}:Hk,YR=qR(KR);const XR=YR;function ZR(g,_){for(var D=-1,X=g==null?0:g.length;++D<X&&_(g[D],D,g)!==!1;);return g}var QR=9007199254740991,JR=/^(?:0|[1-9]\d*)$/;function Gk(g,_){var D=typeof g;return _=_==null?QR:_,!!_&&(D=="number"||D!="symbol"&&JR.test(g))&&g>-1&&g%1==0&&g<_}function Rh(g,_,D){_=="__proto__"&&Nh?Nh(g,_,{configurable:!0,enumerable:!0,value:D,writable:!0}):g[_]=D}function kp(g,_){return g===_||g!==g&&_!==_}var eD=Object.prototype,tD=eD.hasOwnProperty;function Ex(g,_,D){var X=g[_];(!(tD.call(g,_)&&kp(X,D))||D===void 0&&!(_ in g))&&Rh(g,_,D)}function hd(g,_,D,X){var _e=!D;D||(D={});for(var Ae=-1,We=_.length;++Ae<We;){var Ke=_[Ae],Ee=X?X(D[Ke],g[Ke],Ke,D,g):void 0;Ee===void 0&&(Ee=g[Ke]),_e?Rh(D,Ke,Ee):Ex(D,Ke,Ee)}return D}var Tx=Math.max;function nD(g,_,D){return _=Tx(_===void 0?g.length-1:_,0),function(){for(var X=arguments,_e=-1,Ae=Tx(X.length-_,0),We=Array(Ae);++_e<Ae;)We[_e]=X[_+_e];_e=-1;for(var Ke=Array(_+1);++_e<_;)Ke[_e]=X[_e];return Ke[_]=D(We),jR(g,this,Ke)}}function oD(g,_){return XR(nD(g,_,Hk),g+"")}var sD=9007199254740991;function Kk(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=sD}function Dh(g){return g!=null&&Kk(g.length)&&!Wk(g)}function rD(g,_,D){if(!pi(D))return!1;var X=typeof _;return(X=="number"?Dh(D)&&Gk(_,D.length):X=="string"&&_ in D)?kp(D[_],g):!1}function zx(g){return oD(function(_,D){var X=-1,_e=D.length,Ae=_e>1?D[_e-1]:void 0,We=_e>2?D[2]:void 0;for(Ae=g.length>3&&typeof Ae=="function"?(_e--,Ae):void 0,We&&rD(D[0],D[1],We)&&(Ae=_e<3?void 0:Ae,_e=1),_=Object(_);++X<_e;){var Ke=D[X];Ke&&g(_,Ke,X,Ae)}return _})}var aD=Object.prototype;function Yk(g){var _=g&&g.constructor,D=typeof _=="function"&&_.prototype||aD;return g===D}function cD(g,_){for(var D=-1,X=Array(g);++D<g;)X[D]=_(D);return X}var iD="[object Arguments]";function Ax(g){return mi(g)&&nf(g)==iD}var Nx=Object.prototype,lD=Nx.hasOwnProperty,uD=Nx.propertyIsEnumerable,fD=Ax(function(){return arguments}())?Ax:function(g){return mi(g)&&lD.call(g,"callee")&&!uD.call(g,"callee")};const Oh=fD;function dD(){return!1}var Rx=typeof ss=="object"&&ss&&!ss.nodeType&&ss,Dx=Rx&&typeof module=="object"&&module&&!module.nodeType&&module,mD=Dx&&Dx.exports===Rx,Ox=mD?fi.Buffer:void 0,pD=Ox?Ox.isBuffer:void 0,gD=pD||dD;const wp=gD;var hD="[object Arguments]",yD="[object Array]",bD="[object Boolean]",kD="[object Date]",wD="[object Error]",_D="[object Function]",vD="[object Map]",CD="[object Number]",SD="[object Object]",xD="[object RegExp]",ED="[object Set]",TD="[object String]",zD="[object WeakMap]",AD="[object ArrayBuffer]",ND="[object DataView]",RD="[object Float32Array]",DD="[object Float64Array]",OD="[object Int8Array]",PD="[object Int16Array]",BD="[object Int32Array]",$D="[object Uint8Array]",FD="[object Uint8ClampedArray]",ID="[object Uint16Array]",LD="[object Uint32Array]",ws={};ws[RD]=ws[DD]=ws[OD]=ws[PD]=ws[BD]=ws[$D]=ws[FD]=ws[ID]=ws[LD]=!0,ws[hD]=ws[yD]=ws[AD]=ws[bD]=ws[ND]=ws[kD]=ws[wD]=ws[_D]=ws[vD]=ws[CD]=ws[SD]=ws[xD]=ws[ED]=ws[TD]=ws[zD]=!1;function MD(g){return mi(g)&&Kk(g.length)&&!!ws[nf(g)]}function Xk(g){return function(_){return g(_)}}var Px=typeof ss=="object"&&ss&&!ss.nodeType&&ss,_p=Px&&typeof module=="object"&&module&&!module.nodeType&&module,jD=_p&&_p.exports===Px,Zk=jD&&yx.process,UD=function(){try{var g=_p&&_p.require&&_p.require("util").types;return g||Zk&&Zk.binding&&Zk.binding("util")}catch{}}();const yd=UD;var Bx=yd&&yd.isTypedArray,HD=Bx?Xk(Bx):MD;const Qk=HD;var WD=Object.prototype,qD=WD.hasOwnProperty;function $x(g,_){var D=ac(g),X=!D&&Oh(g),_e=!D&&!X&&wp(g),Ae=!D&&!X&&!_e&&Qk(g),We=D||X||_e||Ae,Ke=We?cD(g.length,String):[],Ee=Ke.length;for(var Ie in g)(_||qD.call(g,Ie))&&!(We&&(Ie=="length"||_e&&(Ie=="offset"||Ie=="parent")||Ae&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Gk(Ie,Ee)))&&Ke.push(Ie);return Ke}function Fx(g,_){return function(D){return g(_(D))}}var VD=Fx(Object.keys,Object);const GD=VD;var KD=Object.prototype,YD=KD.hasOwnProperty;function XD(g){if(!Yk(g))return GD(g);var _=[];for(var D in Object(g))YD.call(g,D)&&D!="constructor"&&_.push(D);return _}function vp(g){return Dh(g)?$x(g):XD(g)}function ZD(g){var _=[];if(g!=null)for(var D in Object(g))_.push(D);return _}var QD=Object.prototype,JD=QD.hasOwnProperty;function e5(g){if(!pi(g))return ZD(g);var _=Yk(g),D=[];for(var X in g)X=="constructor"&&(_||!JD.call(g,X))||D.push(X);return D}function bd(g){return Dh(g)?$x(g,!0):e5(g)}var t5=zx(function(g,_,D,X){hd(_,bd(_),g,X)});const n5=t5;var o5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s5=/^\w*$/;function Jk(g,_){if(ac(g))return!1;var D=typeof g;return D=="number"||D=="symbol"||D=="boolean"||g==null||Uk(g)?!0:s5.test(g)||!o5.test(g)||_!=null&&g in Object(_)}var r5=sf(Object,"create");const Cp=r5;function a5(){this.__data__=Cp?Cp(null):{},this.size=0}function c5(g){var _=this.has(g)&&delete this.__data__[g];return this.size-=_?1:0,_}var i5="__lodash_hash_undefined__",l5=Object.prototype,u5=l5.hasOwnProperty;function f5(g){var _=this.__data__;if(Cp){var D=_[g];return D===i5?void 0:D}return u5.call(_,g)?_[g]:void 0}var d5=Object.prototype,m5=d5.hasOwnProperty;function p5(g){var _=this.__data__;return Cp?_[g]!==void 0:m5.call(_,g)}var g5="__lodash_hash_undefined__";function h5(g,_){var D=this.__data__;return this.size+=this.has(g)?0:1,D[g]=Cp&&_===void 0?g5:_,this}function rf(g){var _=-1,D=g==null?0:g.length;for(this.clear();++_<D;){var X=g[_];this.set(X[0],X[1])}}rf.prototype.clear=a5,rf.prototype.delete=c5,rf.prototype.get=f5,rf.prototype.has=p5,rf.prototype.set=h5;function y5(){this.__data__=[],this.size=0}function Ph(g,_){for(var D=g.length;D--;)if(kp(g[D][0],_))return D;return-1}var b5=Array.prototype,k5=b5.splice;function w5(g){var _=this.__data__,D=Ph(_,g);if(D<0)return!1;var X=_.length-1;return D==X?_.pop():k5.call(_,D,1),--this.size,!0}function _5(g){var _=this.__data__,D=Ph(_,g);return D<0?void 0:_[D][1]}function v5(g){return Ph(this.__data__,g)>-1}function C5(g,_){var D=this.__data__,X=Ph(D,g);return X<0?(++this.size,D.push([g,_])):D[X][1]=_,this}function Yi(g){var _=-1,D=g==null?0:g.length;for(this.clear();++_<D;){var X=g[_];this.set(X[0],X[1])}}Yi.prototype.clear=y5,Yi.prototype.delete=w5,Yi.prototype.get=_5,Yi.prototype.has=v5,Yi.prototype.set=C5;var S5=sf(fi,"Map");const Sp=S5;function x5(){this.size=0,this.__data__={hash:new rf,map:new(Sp||Yi),string:new rf}}function E5(g){var _=typeof g;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?g!=="__proto__":g===null}function Bh(g,_){var D=g.__data__;return E5(_)?D[typeof _=="string"?"string":"hash"]:D.map}function T5(g){var _=Bh(this,g).delete(g);return this.size-=_?1:0,_}function z5(g){return Bh(this,g).get(g)}function A5(g){return Bh(this,g).has(g)}function N5(g,_){var D=Bh(this,g),X=D.size;return D.set(g,_),this.size+=D.size==X?0:1,this}function Xi(g){var _=-1,D=g==null?0:g.length;for(this.clear();++_<D;){var X=g[_];this.set(X[0],X[1])}}Xi.prototype.clear=x5,Xi.prototype.delete=T5,Xi.prototype.get=z5,Xi.prototype.has=A5,Xi.prototype.set=N5;var R5="Expected a function";function ew(g,_){if(typeof g!="function"||_!=null&&typeof _!="function")throw new TypeError(R5);var D=function(){var X=arguments,_e=_?_.apply(this,X):X[0],Ae=D.cache;if(Ae.has(_e))return Ae.get(_e);var We=g.apply(this,X);return D.cache=Ae.set(_e,We)||Ae,We};return D.cache=new(ew.Cache||Xi),D}ew.Cache=Xi;var D5=500;function O5(g){var _=ew(g,function(X){return D.size===D5&&D.clear(),X}),D=_.cache;return _}var P5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B5=/\\(\\)?/g,$5=O5(function(g){var _=[];return g.charCodeAt(0)===46&&_.push(""),g.replace(P5,function(D,X,_e,Ae){_.push(_e?Ae.replace(B5,"$1"):X||D)}),_});const F5=$5;function I5(g){return g==null?"":vx(g)}function Ix(g,_){return ac(g)?g:Jk(g,_)?[g]:F5(I5(g))}var L5=1/0;function $h(g){if(typeof g=="string"||Uk(g))return g;var _=g+"";return _=="0"&&1/g==-L5?"-0":_}function Lx(g,_){_=Ix(_,g);for(var D=0,X=_.length;g!=null&&D<X;)g=g[$h(_[D++])];return D&&D==X?g:void 0}function M5(g,_,D){var X=g==null?void 0:Lx(g,_);return X===void 0?D:X}function Mx(g,_){for(var D=-1,X=_.length,_e=g.length;++D<X;)g[_e+D]=_[D];return g}var j5=Fx(Object.getPrototypeOf,Object);const tw=j5;var U5="[object Object]",H5=Function.prototype,W5=Object.prototype,jx=H5.toString,q5=W5.hasOwnProperty,V5=jx.call(Object);function nw(g){if(!mi(g)||nf(g)!=U5)return!1;var _=tw(g);if(_===null)return!0;var D=q5.call(_,"constructor")&&_.constructor;return typeof D=="function"&&D instanceof D&&jx.call(D)==V5}function G5(){this.__data__=new Yi,this.size=0}function K5(g){var _=this.__data__,D=_.delete(g);return this.size=_.size,D}function Y5(g){return this.__data__.get(g)}function X5(g){return this.__data__.has(g)}var Z5=200;function Q5(g,_){var D=this.__data__;if(D instanceof Yi){var X=D.__data__;if(!Sp||X.length<Z5-1)return X.push([g,_]),this.size=++D.size,this;D=this.__data__=new Xi(X)}return D.set(g,_),this.size=D.size,this}function xc(g){var _=this.__data__=new Yi(g);this.size=_.size}xc.prototype.clear=G5,xc.prototype.delete=K5,xc.prototype.get=Y5,xc.prototype.has=X5,xc.prototype.set=Q5;function J5(g,_){return g&&hd(_,vp(_),g)}function e3(g,_){return g&&hd(_,bd(_),g)}var Ux=typeof ss=="object"&&ss&&!ss.nodeType&&ss,Hx=Ux&&typeof module=="object"&&module&&!module.nodeType&&module,t3=Hx&&Hx.exports===Ux,Wx=t3?fi.Buffer:void 0,qx=Wx?Wx.allocUnsafe:void 0;function Vx(g,_){if(_)return g.slice();var D=g.length,X=qx?qx(D):new g.constructor(D);return g.copy(X),X}function n3(g,_){for(var D=-1,X=g==null?0:g.length,_e=0,Ae=[];++D<X;){var We=g[D];_(We,D,g)&&(Ae[_e++]=We)}return Ae}function Gx(){return[]}var o3=Object.prototype,s3=o3.propertyIsEnumerable,Kx=Object.getOwnPropertySymbols,r3=Kx?function(g){return g==null?[]:(g=Object(g),n3(Kx(g),function(_){return s3.call(g,_)}))}:Gx;const ow=r3;function a3(g,_){return hd(g,ow(g),_)}var c3=Object.getOwnPropertySymbols,i3=c3?function(g){for(var _=[];g;)Mx(_,ow(g)),g=tw(g);return _}:Gx;const Yx=i3;function l3(g,_){return hd(g,Yx(g),_)}function Xx(g,_,D){var X=_(g);return ac(g)?X:Mx(X,D(g))}function sw(g){return Xx(g,vp,ow)}function u3(g){return Xx(g,bd,Yx)}var f3=sf(fi,"DataView");const rw=f3;var d3=sf(fi,"Promise");const aw=d3;var m3=sf(fi,"Set");const cw=m3;var Zx="[object Map]",p3="[object Object]",Qx="[object Promise]",Jx="[object Set]",eE="[object WeakMap]",tE="[object DataView]",g3=of(rw),h3=of(Sp),y3=of(aw),b3=of(cw),k3=of(Vk),af=nf;(rw&&af(new rw(new ArrayBuffer(1)))!=tE||Sp&&af(new Sp)!=Zx||aw&&af(aw.resolve())!=Qx||cw&&af(new cw)!=Jx||Vk&&af(new Vk)!=eE)&&(af=function(g){var _=nf(g),D=_==p3?g.constructor:void 0,X=D?of(D):"";if(X)switch(X){case g3:return tE;case h3:return Zx;case y3:return Qx;case b3:return Jx;case k3:return eE}return _});const xp=af;var w3=Object.prototype,_3=w3.hasOwnProperty;function v3(g){var _=g.length,D=new g.constructor(_);return _&&typeof g[0]=="string"&&_3.call(g,"index")&&(D.index=g.index,D.input=g.input),D}var C3=fi.Uint8Array;const Fh=C3;function iw(g){var _=new g.constructor(g.byteLength);return new Fh(_).set(new Fh(g)),_}function S3(g,_){var D=_?iw(g.buffer):g.buffer;return new g.constructor(D,g.byteOffset,g.byteLength)}var x3=/\w*$/;function E3(g){var _=new g.constructor(g.source,x3.exec(g));return _.lastIndex=g.lastIndex,_}var nE=di?di.prototype:void 0,oE=nE?nE.valueOf:void 0;function T3(g){return oE?Object(oE.call(g)):{}}function sE(g,_){var D=_?iw(g.buffer):g.buffer;return new g.constructor(D,g.byteOffset,g.length)}var z3="[object Boolean]",A3="[object Date]",N3="[object Map]",R3="[object Number]",D3="[object RegExp]",O3="[object Set]",P3="[object String]",B3="[object Symbol]",$3="[object ArrayBuffer]",F3="[object DataView]",I3="[object Float32Array]",L3="[object Float64Array]",M3="[object Int8Array]",j3="[object Int16Array]",U3="[object Int32Array]",H3="[object Uint8Array]",W3="[object Uint8ClampedArray]",q3="[object Uint16Array]",V3="[object Uint32Array]";function G3(g,_,D){var X=g.constructor;switch(_){case $3:return iw(g);case z3:case A3:return new X(+g);case F3:return S3(g,D);case I3:case L3:case M3:case j3:case U3:case H3:case W3:case q3:case V3:return sE(g,D);case N3:return new X;case R3:case P3:return new X(g);case D3:return E3(g);case O3:return new X;case B3:return T3(g)}}function rE(g){return typeof g.constructor=="function"&&!Yk(g)?MR(tw(g)):{}}var K3="[object Map]";function Y3(g){return mi(g)&&xp(g)==K3}var aE=yd&&yd.isMap,X3=aE?Xk(aE):Y3;const Z3=X3;var Q3="[object Set]";function J3(g){return mi(g)&&xp(g)==Q3}var cE=yd&&yd.isSet,eO=cE?Xk(cE):J3;const tO=eO;var nO=1,oO=2,sO=4,iE="[object Arguments]",rO="[object Array]",aO="[object Boolean]",cO="[object Date]",iO="[object Error]",lE="[object Function]",lO="[object GeneratorFunction]",uO="[object Map]",fO="[object Number]",uE="[object Object]",dO="[object RegExp]",mO="[object Set]",pO="[object String]",gO="[object Symbol]",hO="[object WeakMap]",yO="[object ArrayBuffer]",bO="[object DataView]",kO="[object Float32Array]",wO="[object Float64Array]",_O="[object Int8Array]",vO="[object Int16Array]",CO="[object Int32Array]",SO="[object Uint8Array]",xO="[object Uint8ClampedArray]",EO="[object Uint16Array]",TO="[object Uint32Array]",gs={};gs[iE]=gs[rO]=gs[yO]=gs[bO]=gs[aO]=gs[cO]=gs[kO]=gs[wO]=gs[_O]=gs[vO]=gs[CO]=gs[uO]=gs[fO]=gs[uE]=gs[dO]=gs[mO]=gs[pO]=gs[gO]=gs[SO]=gs[xO]=gs[EO]=gs[TO]=!0,gs[iO]=gs[lE]=gs[hO]=!1;function Ih(g,_,D,X,_e,Ae){var We,Ke=_&nO,Ee=_&oO,Ie=_&sO;if(D&&(We=_e?D(g,X,_e,Ae):D(g)),We!==void 0)return We;if(!pi(g))return g;var pt=ac(g);if(pt){if(We=v3(g),!Ke)return xx(g,We)}else{var _t=xp(g),$e=_t==lE||_t==lO;if(wp(g))return Vx(g,Ke);if(_t==uE||_t==iE||$e&&!_e){if(We=Ee||$e?{}:rE(g),!Ke)return Ee?l3(g,e3(We,g)):a3(g,J5(We,g))}else{if(!gs[_t])return _e?g:{};We=G3(g,_t,Ke)}}Ae||(Ae=new xc);var Ne=Ae.get(g);if(Ne)return Ne;Ae.set(g,We),tO(g)?g.forEach(function(rt){We.add(Ih(rt,_,D,rt,g,Ae))}):Z3(g)&&g.forEach(function(rt,ae){We.set(ae,Ih(rt,_,D,ae,g,Ae))});var tt=Ie?Ee?u3:sw:Ee?bd:vp,xe=pt?void 0:tt(g);return ZR(xe||g,function(rt,ae){xe&&(ae=rt,rt=g[ae]),Ex(We,ae,Ih(rt,_,D,ae,g,Ae))}),We}var zO=1,AO=4;function NO(g){return Ih(g,zO|AO)}var RO="__lodash_hash_undefined__";function DO(g){return this.__data__.set(g,RO),this}function OO(g){return this.__data__.has(g)}function Lh(g){var _=-1,D=g==null?0:g.length;for(this.__data__=new Xi;++_<D;)this.add(g[_])}Lh.prototype.add=Lh.prototype.push=DO,Lh.prototype.has=OO;function PO(g,_){for(var D=-1,X=g==null?0:g.length;++D<X;)if(_(g[D],D,g))return!0;return!1}function BO(g,_){return g.has(_)}var $O=1,FO=2;function fE(g,_,D,X,_e,Ae){var We=D&$O,Ke=g.length,Ee=_.length;if(Ke!=Ee&&!(We&&Ee>Ke))return!1;var Ie=Ae.get(g),pt=Ae.get(_);if(Ie&&pt)return Ie==_&&pt==g;var _t=-1,$e=!0,Ne=D&FO?new Lh:void 0;for(Ae.set(g,_),Ae.set(_,g);++_t<Ke;){var tt=g[_t],xe=_[_t];if(X)var rt=We?X(xe,tt,_t,_,g,Ae):X(tt,xe,_t,g,_,Ae);if(rt!==void 0){if(rt)continue;$e=!1;break}if(Ne){if(!PO(_,function(ae,ke){if(!BO(Ne,ke)&&(tt===ae||_e(tt,ae,D,X,Ae)))return Ne.push(ke)})){$e=!1;break}}else if(!(tt===xe||_e(tt,xe,D,X,Ae))){$e=!1;break}}return Ae.delete(g),Ae.delete(_),$e}function IO(g){var _=-1,D=Array(g.size);return g.forEach(function(X,_e){D[++_]=[_e,X]}),D}function LO(g){var _=-1,D=Array(g.size);return g.forEach(function(X){D[++_]=X}),D}var MO=1,jO=2,UO="[object Boolean]",HO="[object Date]",WO="[object Error]",qO="[object Map]",VO="[object Number]",GO="[object RegExp]",KO="[object Set]",YO="[object String]",XO="[object Symbol]",ZO="[object ArrayBuffer]",QO="[object DataView]",dE=di?di.prototype:void 0,lw=dE?dE.valueOf:void 0;function JO(g,_,D,X,_e,Ae,We){switch(D){case QO:if(g.byteLength!=_.byteLength||g.byteOffset!=_.byteOffset)return!1;g=g.buffer,_=_.buffer;case ZO:return!(g.byteLength!=_.byteLength||!Ae(new Fh(g),new Fh(_)));case UO:case HO:case VO:return kp(+g,+_);case WO:return g.name==_.name&&g.message==_.message;case GO:case YO:return g==_+"";case qO:var Ke=IO;case KO:var Ee=X&MO;if(Ke||(Ke=LO),g.size!=_.size&&!Ee)return!1;var Ie=We.get(g);if(Ie)return Ie==_;X|=jO,We.set(g,_);var pt=fE(Ke(g),Ke(_),X,_e,Ae,We);return We.delete(g),pt;case XO:if(lw)return lw.call(g)==lw.call(_)}return!1}var eP=1,tP=Object.prototype,nP=tP.hasOwnProperty;function oP(g,_,D,X,_e,Ae){var We=D&eP,Ke=sw(g),Ee=Ke.length,Ie=sw(_),pt=Ie.length;if(Ee!=pt&&!We)return!1;for(var _t=Ee;_t--;){var $e=Ke[_t];if(!(We?$e in _:nP.call(_,$e)))return!1}var Ne=Ae.get(g),tt=Ae.get(_);if(Ne&&tt)return Ne==_&&tt==g;var xe=!0;Ae.set(g,_),Ae.set(_,g);for(var rt=We;++_t<Ee;){$e=Ke[_t];var ae=g[$e],ke=_[$e];if(X)var ge=We?X(ke,ae,$e,_,g,Ae):X(ae,ke,$e,g,_,Ae);if(!(ge===void 0?ae===ke||_e(ae,ke,D,X,Ae):ge)){xe=!1;break}rt||(rt=$e=="constructor")}if(xe&&!rt){var zt=g.constructor,ot=_.constructor;zt!=ot&&"constructor"in g&&"constructor"in _&&!(typeof zt=="function"&&zt instanceof zt&&typeof ot=="function"&&ot instanceof ot)&&(xe=!1)}return Ae.delete(g),Ae.delete(_),xe}var sP=1,mE="[object Arguments]",pE="[object Array]",Mh="[object Object]",rP=Object.prototype,gE=rP.hasOwnProperty;function aP(g,_,D,X,_e,Ae){var We=ac(g),Ke=ac(_),Ee=We?pE:xp(g),Ie=Ke?pE:xp(_);Ee=Ee==mE?Mh:Ee,Ie=Ie==mE?Mh:Ie;var pt=Ee==Mh,_t=Ie==Mh,$e=Ee==Ie;if($e&&wp(g)){if(!wp(_))return!1;We=!0,pt=!1}if($e&&!pt)return Ae||(Ae=new xc),We||Qk(g)?fE(g,_,D,X,_e,Ae):JO(g,_,Ee,D,X,_e,Ae);if(!(D&sP)){var Ne=pt&&gE.call(g,"__wrapped__"),tt=_t&&gE.call(_,"__wrapped__");if(Ne||tt){var xe=Ne?g.value():g,rt=tt?_.value():_;return Ae||(Ae=new xc),_e(xe,rt,D,X,Ae)}}return $e?(Ae||(Ae=new xc),oP(g,_,D,X,_e,Ae)):!1}function uw(g,_,D,X,_e){return g===_?!0:g==null||_==null||!mi(g)&&!mi(_)?g!==g&&_!==_:aP(g,_,D,X,uw,_e)}var cP=1,iP=2;function lP(g,_,D,X){var _e=D.length,Ae=_e,We=!X;if(g==null)return!Ae;for(g=Object(g);_e--;){var Ke=D[_e];if(We&&Ke[2]?Ke[1]!==g[Ke[0]]:!(Ke[0]in g))return!1}for(;++_e<Ae;){Ke=D[_e];var Ee=Ke[0],Ie=g[Ee],pt=Ke[1];if(We&&Ke[2]){if(Ie===void 0&&!(Ee in g))return!1}else{var _t=new xc;if(X)var $e=X(Ie,pt,Ee,g,_,_t);if(!($e===void 0?uw(pt,Ie,cP|iP,X,_t):$e))return!1}}return!0}function hE(g){return g===g&&!pi(g)}function uP(g){for(var _=vp(g),D=_.length;D--;){var X=_[D],_e=g[X];_[D]=[X,_e,hE(_e)]}return _}function yE(g,_){return function(D){return D==null?!1:D[g]===_&&(_!==void 0||g in Object(D))}}function fP(g){var _=uP(g);return _.length==1&&_[0][2]?yE(_[0][0],_[0][1]):function(D){return D===g||lP(D,g,_)}}function dP(g,_){return g!=null&&_ in Object(g)}function mP(g,_,D){_=Ix(_,g);for(var X=-1,_e=_.length,Ae=!1;++X<_e;){var We=$h(_[X]);if(!(Ae=g!=null&&D(g,We)))break;g=g[We]}return Ae||++X!=_e?Ae:(_e=g==null?0:g.length,!!_e&&Kk(_e)&&Gk(We,_e)&&(ac(g)||Oh(g)))}function pP(g,_){return g!=null&&mP(g,_,dP)}var gP=1,hP=2;function yP(g,_){return Jk(g)&&hE(_)?yE($h(g),_):function(D){var X=M5(D,g);return X===void 0&&X===_?pP(D,g):uw(_,X,gP|hP)}}function bP(g){return function(_){return _==null?void 0:_[g]}}function kP(g){return function(_){return Lx(_,g)}}function wP(g){return Jk(g)?bP($h(g)):kP(g)}function _P(g){return typeof g=="function"?g:g==null?Hk:typeof g=="object"?ac(g)?yP(g[0],g[1]):fP(g):wP(g)}function vP(g){return function(_,D,X){for(var _e=-1,Ae=Object(_),We=X(_),Ke=We.length;Ke--;){var Ee=We[g?Ke:++_e];if(D(Ae[Ee],Ee,Ae)===!1)break}return _}}var CP=vP();const bE=CP;function SP(g,_){return g&&bE(g,_,vp)}function fw(g,_,D){(D!==void 0&&!kp(g[_],D)||D===void 0&&!(_ in g))&&Rh(g,_,D)}function xP(g){return mi(g)&&Dh(g)}function dw(g,_){if(!(_==="constructor"&&typeof g[_]=="function")&&_!="__proto__")return g[_]}function EP(g){return hd(g,bd(g))}function TP(g,_,D,X,_e,Ae,We){var Ke=dw(g,D),Ee=dw(_,D),Ie=We.get(Ee);if(Ie){fw(g,D,Ie);return}var pt=Ae?Ae(Ke,Ee,D+"",g,_,We):void 0,_t=pt===void 0;if(_t){var $e=ac(Ee),Ne=!$e&&wp(Ee),tt=!$e&&!Ne&&Qk(Ee);pt=Ee,$e||Ne||tt?ac(Ke)?pt=Ke:xP(Ke)?pt=xx(Ke):Ne?(_t=!1,pt=Vx(Ee,!0)):tt?(_t=!1,pt=sE(Ee,!0)):pt=[]:nw(Ee)||Oh(Ee)?(pt=Ke,Oh(Ke)?pt=EP(Ke):(!pi(Ke)||Wk(Ke))&&(pt=rE(Ee))):_t=!1}_t&&(We.set(Ee,pt),_e(pt,Ee,X,Ae,We),We.delete(Ee)),fw(g,D,pt)}function kE(g,_,D,X,_e){g!==_&&bE(_,function(Ae,We){if(_e||(_e=new xc),pi(Ae))TP(g,_,We,D,kE,X,_e);else{var Ke=X?X(dw(g,We),Ae,We+"",g,_,_e):void 0;Ke===void 0&&(Ke=Ae),fw(g,We,Ke)}},bd)}var zP=zx(function(g,_,D,X){kE(g,_,D,X)});const AP=zP;function NP(g,_){var D={};return _=_P(_),SP(g,function(X,_e,Ae){Rh(D,_(X,_e,Ae),X)}),D}var jh=function(){return jh=Object.assign||function(g){for(var _,D=1,X=arguments.length;D<X;D++){_=arguments[D];for(var _e in _)Object.prototype.hasOwnProperty.call(_,_e)&&(g[_e]=_[_e])}return g},jh.apply(this,arguments)};function RP(g){return g.toLowerCase()}var DP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],OP=/[^A-Z0-9]+/gi;function PP(g,_){_===void 0&&(_={});for(var D=_.splitRegexp,X=D===void 0?DP:D,_e=_.stripRegexp,Ae=_e===void 0?OP:_e,We=_.transform,Ke=We===void 0?RP:We,Ee=_.delimiter,Ie=Ee===void 0?" ":Ee,pt=wE(wE(g,X,"$1\0$2"),Ae,"\0"),_t=0,$e=pt.length;pt.charAt(_t)==="\0";)_t++;for(;pt.charAt($e-1)==="\0";)$e--;return pt.slice(_t,$e).split("\0").map(Ke).join(Ie)}function wE(g,_,D){return _ instanceof RegExp?g.replace(_,D):_.reduce(function(X,_e){return X.replace(_e,D)},g)}function _E(g,_){var D=g.charAt(0),X=g.substr(1).toLowerCase();return _>0&&D>="0"&&D<="9"?"_"+D+X:""+D.toUpperCase()+X}function BP(g,_){return _===void 0&&(_={}),PP(g,jh({delimiter:"",transform:_E},_))}function $P(g,_){return _===0?g.toLowerCase():_E(g,_)}function FP(g,_){return _===void 0&&(_={}),BP(g,jh({transform:$P},_))}function IP(g,_){const D=Object.create(null),X=g.split(",");for(let _e=0;_e<X.length;_e++)D[X[_e]]=!0;return _?_e=>!!D[_e.toLowerCase()]:_e=>!!D[_e]}const LP=IP("String,Number,Boolean,Function,Symbol,BigInt");function MP(g){const _=g&&g.toString().match(/^\s*function (\w+)/);return _?_[1]:g===null?"null":""}function jP(g,_){let D;const X=MP(_);if(LP(X)){const _e=typeof g;D=_e===X.toLowerCase(),!D&&_e==="object"&&(D=g instanceof _)}else X==="Object"?D=pi(g):X==="Array"?D=Array.isArray(g):X==="null"?D=g===null:D=g instanceof _;return{valid:D,expectedType:X}}function UP({prop:g,type:_,validator:D}){if(![void 0,null].includes(g)&&_){let X=!1;const _e=Array.isArray(_)?_:[_],Ae=[];for(let We=0;We<_e.length&&!X;We++){const{valid:Ke,expectedType:Ee}=jP(g,_e[We]);Ae.push(Ee||""),X=Ke}if(!X)throw new Error(`Invalid prop: type check failed, expecting [${Ae.join(", ")}], receiving: ${g}`)}if(D&&!D(g))throw new Error(`Invalid prop: validator check failed, receiving: ${g}`)}function HP(g,{mergeObject:_,mergeFunction:D}){const X=D?(_e,Ae)=>_e instanceof Function&&Ae instanceof Function?D(Ae,_e):void 0:void 0;return _==="deep"?AP(...g,X):n5(...g,X)}function WP(g,{mergeFunction:_}){return g.reduce(_,()=>{})}function Uh(g,_={}){const{type:D,default:X,defaultIsDynamic:_e=!1,required:Ae=!1,validator:We,camelCase:Ke=!0,mergeObjectApplyOnlyToDefault:Ee=!1,mergeFunctionApplyOnlyToDefault:Ie=!0}=_;let{mergeObject:pt="deep",mergeFunction:_t=!1}=_,$e;if(_e){if(!(X instanceof Function))throw new Error(`Invalid option: default. config.default should be Function when config.defaultIsDynamic enabled, receiving: ${X}`);$e=[...g]}else $e=[...g,X];let Ne,tt=!1,xe=!1;for(let rt=0;rt<$e.length;rt++){const ae=$e[rt];if(ae!==void 0){UP({type:D,prop:ae,validator:We});const ke=nw(ae),ge=ae instanceof Function;if(tt=ke,xe=ge,!ke&&!ge)break}}tt?$e=NO($e):(pt=!1,xe||(_t=!1));for(let rt=0;rt<$e.length;rt++){const ae=$e[rt];if(ae!==void 0){rt===$e.length-1?Ne=ae:pt?Ne=HP(Ee?[X,ae]:[...$e].reverse(),{mergeObject:pt,mergeFunction:_t}):_t?Ne=WP(Ie?[ae,X]:$e,{mergeFunction:_t}):Ne=ae;break}}if(Ae&&[void 0,null].includes(Ne))throw new Error("Missing required prop");return _e?Uh(g,{..._,default:X(Ne),defaultIsDynamic:!1}):Ke&&nw(Ne)?NP(Ne,(rt,ae)=>FP(ae,{stripRegexp:/-/g})):Ne}const iY="";let Hh;const qP=new Uint8Array(16);function VP(){if(!Hh&&(Hh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hh(qP)}const Ir=[];for(let g=0;g<256;++g)Ir.push((g+256).toString(16).slice(1));function GP(g,_=0){return(Ir[g[_+0]]+Ir[g[_+1]]+Ir[g[_+2]]+Ir[g[_+3]]+"-"+Ir[g[_+4]]+Ir[g[_+5]]+"-"+Ir[g[_+6]]+Ir[g[_+7]]+"-"+Ir[g[_+8]]+Ir[g[_+9]]+"-"+Ir[g[_+10]]+Ir[g[_+11]]+Ir[g[_+12]]+Ir[g[_+13]]+Ir[g[_+14]]+Ir[g[_+15]]).toLowerCase()}const vE={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function KP(g,_,D){if(vE.randomUUID&&!_&&!g)return vE.randomUUID();g=g||{};const X=g.random||(g.rng||VP)();if(X[6]=X[6]&15|64,X[8]=X[8]&63|128,_){D=D||0;for(let _e=0;_e<16;++_e)_[D+_e]=X[_e];return _}return GP(X)}var YP=typeof global=="object"&&global&&global.Object===Object&&global;const XP=YP;var ZP=typeof self=="object"&&self&&self.Object===Object&&self,QP=XP||ZP||Function("return this")();const CE=QP;var JP=CE.Symbol;const Wh=JP;var SE=Object.prototype,e9=SE.hasOwnProperty,t9=SE.toString,Ep=Wh?Wh.toStringTag:void 0;function n9(g){var _=e9.call(g,Ep),D=g[Ep];try{g[Ep]=void 0;var X=!0}catch{}var _e=t9.call(g);return X&&(_?g[Ep]=D:delete g[Ep]),_e}var o9=Object.prototype,s9=o9.toString;function r9(g){return s9.call(g)}var a9="[object Null]",c9="[object Undefined]",xE=Wh?Wh.toStringTag:void 0;function i9(g){return g==null?g===void 0?c9:a9:xE&&xE in Object(g)?n9(g):r9(g)}function l9(g){return g!=null&&typeof g=="object"}var u9="[object Symbol]";function f9(g){return typeof g=="symbol"||l9(g)&&i9(g)==u9}var d9=/\s/;function m9(g){for(var _=g.length;_--&&d9.test(g.charAt(_)););return _}var p9=/^\s+/;function g9(g){return g&&g.slice(0,m9(g)+1).replace(p9,"")}function mw(g){var _=typeof g;return g!=null&&(_=="object"||_=="function")}var EE=0/0,h9=/^[-+]0x[0-9a-f]+$/i,y9=/^0b[01]+$/i,b9=/^0o[0-7]+$/i,k9=parseInt;function TE(g){if(typeof g=="number")return g;if(f9(g))return EE;if(mw(g)){var _=typeof g.valueOf=="function"?g.valueOf():g;g=mw(_)?_+"":_}if(typeof g!="string")return g===0?g:+g;g=g9(g);var D=y9.test(g);return D||b9.test(g)?k9(g.slice(2),D?2:8):h9.test(g)?EE:+g}var w9=function(){return CE.Date.now()};const pw=w9;var _9="Expected a function",v9=Math.max,C9=Math.min;function S9(g,_,D){var X,_e,Ae,We,Ke,Ee,Ie=0,pt=!1,_t=!1,$e=!0;if(typeof g!="function")throw new TypeError(_9);_=TE(_)||0,mw(D)&&(pt=!!D.leading,_t="maxWait"in D,Ae=_t?v9(TE(D.maxWait)||0,_):Ae,$e="trailing"in D?!!D.trailing:$e);function Ne(le){var it=X,ft=_e;return X=_e=void 0,Ie=le,We=g.apply(ft,it),We}function tt(le){return Ie=le,Ke=setTimeout(ae,_),pt?Ne(le):We}function xe(le){var it=le-Ee,ft=le-Ie,Le=_-it;return _t?C9(Le,Ae-ft):Le}function rt(le){var it=le-Ee,ft=le-Ie;return Ee===void 0||it>=_||it<0||_t&&ft>=Ae}function ae(){var le=pw();if(rt(le))return ke(le);Ke=setTimeout(ae,xe(le))}function ke(le){return Ke=void 0,$e&&X?Ne(le):(X=_e=void 0,We)}function ge(){Ke!==void 0&&clearTimeout(Ke),Ie=0,X=Ee=_e=Ke=void 0}function zt(){return Ke===void 0?We:ke(pw())}function ot(){var le=pw(),it=rt(le);if(X=arguments,_e=this,Ee=le,it){if(Ke===void 0)return tt(Ee);if(_t)return clearTimeout(Ke),Ke=setTimeout(ae,_),Ne(Ee)}return Ke===void 0&&(Ke=setTimeout(ae,_)),We}return ot.cancel=ge,ot.flush=zt,ot}var zE={exports:{}};(function(g){(function(){var _=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},D=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},X=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},_e=function(e,t){return Ae(function(n,o){return e.eq(t(n),t(o))})},Ae=function(e){return{eq:e}},We=Ae(function(e,t){return e===t}),Ke=We,Ee=function(e){return Ae(function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,s=0;s<o;s++)if(!e.eq(t[s],n[s]))return!1;return!0})},Ie=function(e,t){return _e(Ee(e),function(n){return X(n,t)})},pt=function(e){return Ae(function(t,n){var o=Object.keys(t),s=Object.keys(n);if(!Ie(Ke).eq(o,s))return!1;for(var a=o.length,i=0;i<a;i++){var u=o[i];if(!e.eq(t[u],n[u]))return!1}return!0})},_t=Ae(function(e,t){if(e===t)return!0;var n=_(e),o=_(t);return n!==o?!1:D(n)?e===t:n==="array"?Ee(_t).eq(e,t):n==="object"?pt(_t).eq(e,t):!1});const $e=Object.getPrototypeOf,Ne=(e,t,n)=>{var o;return n(e,t.prototype)?!0:((o=e.constructor)===null||o===void 0?void 0:o.name)===t.name},tt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ne(e,String,(n,o)=>o.isPrototypeOf(n))?"string":t},xe=e=>t=>tt(t)===e,rt=e=>t=>typeof t===e,ae=e=>t=>e===t,ke=(e,t)=>zt(e)&&Ne(e,t,(n,o)=>$e(n)===o),ge=xe("string"),zt=xe("object"),ot=e=>ke(e,Object),le=xe("array"),it=ae(null),ft=rt("boolean"),Le=ae(void 0),Ve=e=>e==null,L=e=>!Ve(e),Wt=rt("function"),Je=rt("number"),jt=(e,t)=>{if(le(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},ye=()=>{},Ze=(e,t)=>(...n)=>e(t.apply(null,n)),qt=(e,t)=>n=>e(t(n)),Z=e=>()=>e,Pe=e=>e,yt=(e,t)=>e===t;function et(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const kn=e=>t=>!e(t),Rn=e=>()=>{throw new Error(e)},an=e=>e(),en=e=>{e()},cn=Z(!1),wn=Z(!0);class w{constructor(t,n){this.tag=t,this.value=n}static some(t){return new w(!0,t)}static none(){return w.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?w.some(t(this.value)):w.none()}bind(t){return this.tag?t(this.value):w.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:w.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t!=null?t:"Called getOrDie on None")}static from(t){return L(t)?w.some(t):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const ie=Array.prototype.slice,re=Array.prototype.indexOf,we=Array.prototype.push,J=(e,t)=>re.call(e,t),me=(e,t)=>{const n=J(e,t);return n===-1?w.none():w.some(n)},ce=(e,t)=>J(e,t)>-1,Ce=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];if(t(s,n))return!0}return!1},W=(e,t)=>{const n=e.length,o=new Array(n);for(let s=0;s<n;s++){const a=e[s];o[s]=t(a,s)}return o},M=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];t(s,n)}},Ue=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},kt=(e,t)=>{const n=[],o=[];for(let s=0,a=e.length;s<a;s++){const i=e[s];(t(i,s)?n:o).push(i)}return{pass:n,fail:o}},Qe=(e,t)=>{const n=[];for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)&&n.push(a)}return n},pn=(e,t,n)=>(Ue(e,(o,s)=>{n=t(n,o,s)}),n),En=(e,t,n)=>(M(e,(o,s)=>{n=t(n,o,s)}),n),Eo=(e,t,n)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return w.some(a);if(n(a,o))break}return w.none()},oo=(e,t)=>Eo(e,t,cn),Yn=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];if(t(s,n))return w.some(n)}return w.none()},eo=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!le(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);we.apply(t,e[n])}return t},Xt=(e,t)=>eo(W(e,t)),ro=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const s=e[n];if(t(s,n)!==!0)return!1}return!0},io=e=>{const t=ie.call(e,0);return t.reverse(),t},Fe=(e,t)=>Qe(e,n=>!ce(t,n)),st=(e,t)=>{const n={};for(let o=0,s=e.length;o<s;o++){const a=e[o];n[String(a)]=t(a,o)}return n},Qt=(e,t)=>{const n=ie.call(e,0);return n.sort(t),n},Ut=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none(),Tn=e=>Ut(e,0),Pn=e=>Ut(e,e.length-1),ho=Wt(Array.from)?Array.from:e=>ie.call(e),$o=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()},ue=(e,t)=>{const n=[],o=Wt(t)?s=>Ce(n,a=>t(a,s)):s=>ce(n,s);for(let s=0,a=e.length;s<a;s++){const i=e[s];o(i)||n.push(i)}return n},ze=Object.keys,At=Object.hasOwnProperty,Ot=(e,t)=>{const n=ze(e);for(let o=0,s=n.length;o<s;o++){const a=n[o],i=e[a];t(i,a)}},hn=(e,t)=>No(e,(n,o)=>({k:o,v:t(n,o)})),No=(e,t)=>{const n={};return Ot(e,(o,s)=>{const a=t(o,s);n[a.k]=a.v}),n},Ts=e=>(t,n)=>{e[n]=t},Ns=(e,t,n,o)=>{const s={};return Ot(e,(a,i)=>{(t(a,i)?n:o)(a,i)}),s},To=(e,t)=>{const n={},o={};return Ns(e,t,Ts(n),Ts(o)),{t:n,f:o}},cs=(e,t)=>{const n={};return Ns(e,t,Ts(n),ye),n},wo=(e,t)=>{const n=[];return Ot(e,(o,s)=>{n.push(t(o,s))}),n},rs=e=>wo(e,Pe),Vn=(e,t)=>gn(e,t)?w.from(e[t]):w.none(),gn=(e,t)=>At.call(e,t),Vo=(e,t)=>gn(e,t)&&e[t]!==void 0&&e[t]!==null,lo=(e,t,n=_t)=>pt(n).eq(e,t),Lo=e=>{const t={};return M(e,n=>{t[n]={}}),ze(t)},Xs=Array.isArray,Rs=e=>{if(Xs(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},ls=(e,t,n)=>{let o,s;if(!e)return!1;if(n=n||e,e.length!==void 0){for(o=0,s=e.length;o<s;o++)if(t.call(n,e[o],o,e)===!1)return!1}else for(o in e)if(gn(e,o)&&t.call(n,e[o],o,e)===!1)return!1;return!0},Mo=(e,t)=>{const n=[];return ls(e,(o,s)=>{n.push(t(o,s,e))}),n},Zs=(e,t)=>{const n=[];return ls(e,(o,s)=>{(!t||t(o,s,e))&&n.push(o)}),n},O=(e,t)=>{if(e){for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n}return-1},G=(e,t,n,o)=>{let s=Le(n)?e[0]:n;for(let a=0;a<e.length;a++)s=t.call(o,s,e[a],a);return s},de=(e,t,n)=>{let o,s;for(o=0,s=e.length;o<s;o++)if(t.call(n,e[o],o,e))return o;return-1},dt=e=>e[e.length-1],rn=e=>{let t=!1,n;return(...o)=>(t||(t=!0,n=e.apply(null,o)),n)},Et=(e,t,n,o)=>{const s=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!s,i=e.isiOS()||e.isAndroid(),u=i||o("(pointer:coarse)"),d=s||!a&&i&&o("(min-device-width:768px)"),y=a||i&&!d,v=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,T=!y&&!d&&!v;return{isiPad:Z(s),isiPhone:Z(a),isTablet:Z(d),isPhone:Z(y),isTouch:Z(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Z(v),isDesktop:Z(T)}},An=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},Bo=(e,t)=>{const n=An(e,t);if(!n)return{major:0,minor:0};const o=s=>Number(t.replace(n,"$"+s));return jo(o(1),o(2))},ln=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?jn():Bo(e,n)},jn=()=>jo(0,0),jo=(e,t)=>({major:e,minor:t}),Ro={nu:jo,detect:ln,unknown:jn},q=(e,t)=>$o(t.brands,n=>{const o=n.brand.toLowerCase();return oo(e,s=>{var a;return o===((a=s.brand)===null||a===void 0?void 0:a.toLowerCase())}).map(s=>({current:s.name,version:Ro.nu(parseInt(n.version,10),0)}))}),ee=(e,t)=>{const n=String(t).toLowerCase();return oo(e,o=>o.search(n))},Ge=(e,t)=>ee(e,t).map(n=>{const o=Ro.detect(n.versionRegexes,t);return{current:n.name,version:o}}),St=(e,t)=>ee(e,t).map(n=>{const o=Ro.detect(n.versionRegexes,t);return{current:n.name,version:o}}),vt=(e,t)=>e.substring(t),wt=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,It=(e,t)=>un(e,t)?vt(e,t.length):e,Lt=(e,t)=>e.indexOf(t)!==-1,un=(e,t)=>wt(e,t,0),Xn=(e,t)=>wt(e,t,e.length-t.length),yo=e=>t=>t.replace(e,""),Dn=yo(/^\s+|\s+$/g),ar=yo(/^\s+/g),_s=yo(/\s+$/g),Bn=e=>e.length>0,to=e=>!Bn(e),Jo=(e,t)=>t<=0?"":new Array(t+1).join(e),es=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?w.none():w.some(n)},Ds=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Os=e=>t=>Lt(t,e),Zr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Lt(e,"edge/")&&Lt(e,"chrome")&&Lt(e,"safari")&&Lt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ds],search:e=>Lt(e,"chrome")&&!Lt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Lt(e,"msie")||Lt(e,"trident")},{name:"Opera",versionRegexes:[Ds,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Os("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Os("firefox")},{name:"Safari",versionRegexes:[Ds,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Lt(e,"safari")||Lt(e,"mobile/"))&&Lt(e,"applewebkit")}],Hs=[{name:"Windows",search:Os("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Lt(e,"iphone")||Lt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Os("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Os("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Os("linux"),versionRegexes:[]},{name:"Solaris",search:Os("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Os("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Os("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sr={browsers:Z(Zr),oses:Z(Hs)},cr="Edge",Da="Chromium",xr="IE",Lr="Opera",Qr="Firefox",Mr="Safari",Qs=()=>Oa({current:void 0,version:Ro.unknown()}),Oa=e=>{const t=e.current,n=e.version,o=s=>()=>t===s;return{current:t,version:n,isEdge:o(cr),isChromium:o(Da),isIE:o(xr),isOpera:o(Lr),isFirefox:o(Qr),isSafari:o(Mr)}},ir={unknown:Qs,nu:Oa,edge:Z(cr),chromium:Z(Da),ie:Z(xr),opera:Z(Lr),firefox:Z(Qr),safari:Z(Mr)},Er="Windows",Jr="iOS",us="Android",R="Linux",Q="macOS",fe="Solaris",qe="FreeBSD",bt="ChromeOS",Nn=()=>bo({current:void 0,version:Ro.unknown()}),bo=e=>{const t=e.current,n=e.version,o=s=>()=>t===s;return{current:t,version:n,isWindows:o(Er),isiOS:o(Jr),isAndroid:o(us),isMacOS:o(Q),isLinux:o(R),isSolaris:o(fe),isFreeBSD:o(qe),isChromeOS:o(bt)}},Go={unknown:Nn,nu:bo,windows:Z(Er),ios:Z(Jr),android:Z(us),linux:Z(R),macos:Z(Q),solaris:Z(fe),freebsd:Z(qe),chromeos:Z(bt)},hs={detect:(e,t,n)=>{const o=Sr.browsers(),s=Sr.oses(),a=t.bind(d=>q(o,d)).orThunk(()=>Ge(o,e)).fold(ir.unknown,ir.nu),i=St(s,e).fold(Go.unknown,Go.nu),u=Et(i,a,e,n);return{browser:a,os:i,deviceType:u}}},vs=e=>window.matchMedia(e).matches;let Tr=rn(()=>hs.detect(navigator.userAgent,w.from(navigator.userAgentData),vs));const Do=()=>Tr(),Pa=navigator.userAgent,ba=Do(),lr=ba.browser,ys=ba.os,br=ba.deviceType,zr=Pa.indexOf("Windows Phone")!==-1,Gn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:lr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!lr.isIE(),windowsPhone:zr,browser:{current:lr.current,version:lr.version,isChromium:lr.isChromium,isEdge:lr.isEdge,isFirefox:lr.isFirefox,isIE:lr.isIE,isOpera:lr.isOpera,isSafari:lr.isSafari},os:{current:ys.current,version:ys.version,isAndroid:ys.isAndroid,isChromeOS:ys.isChromeOS,isFreeBSD:ys.isFreeBSD,isiOS:ys.isiOS,isLinux:ys.isLinux,isMacOS:ys.isMacOS,isSolaris:ys.isSolaris,isWindows:ys.isWindows},deviceType:{isDesktop:br.isDesktop,isiPad:br.isiPad,isiPhone:br.isiPhone,isPhone:br.isPhone,isTablet:br.isTablet,isTouch:br.isTouch,isWebView:br.isWebView}},Ps=/^\s*|\s*$/g,Ba=e=>e==null?"":(""+e).replace(Ps,""),ea=(e,t)=>t?t==="array"&&Xs(e)?!0:typeof e===t:e!==void 0,x=(e,t,n)=>{let o;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},o=e.length;o--;)n[e[o]]={};return n},B=gn,K=(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const s in o)if(gn(o,s)){const a=o[s];a!==void 0&&(e[s]=a)}}return e},Re=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),ls(e,(s,a)=>{if(t.call(o,s,a,n)===!1)return!1;Re(s,t,n,o)}))},nt={trim:Ba,isArray:Xs,is:ea,toArray:Rs,makeMap:x,each:ls,map:Mo,grep:Zs,inArray:O,hasOwn:B,extend:K,walk:Re,resolve:(e,t)=>{let n,o;for(t=t||window,e=e.split("."),n=0,o=e.length;n<o&&(t=t[e[n]],!!t);n++);return t},explode:(e,t)=>!e||ea(e,"array")?e:Mo(e.split(t||","),Ba),_addCacheSuffix:e=>{const t=Gn.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Zo=(e,t,n=yt)=>e.exists(o=>n(o,t)),Ar=e=>{const t=[],n=o=>{t.push(o)};for(let o=0;o<e.length;o++)e[o].each(n);return t},zo=(e,t,n)=>e.isSome()&&t.isSome()?w.some(n(e.getOrDie(),t.getOrDie())):w.none(),Nr=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?w.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):w.none(),bs=(e,t)=>e?w.some(t):w.none();typeof window<"u"||Function("return this;")();const $=8,V=9,Te=11,He=1,Zt=3,tn=e=>e.dom.nodeName.toLowerCase(),vo=e=>e.dom.nodeType,Uo=e=>t=>vo(t)===e,Js=e=>vo(e)===$||tn(e)==="#comment",qn=Uo(He),ko=Uo(Zt),er=Uo(V),tr=Uo(Te),Xa=e=>t=>qn(t)&&tn(t)===e,ur=(e,t,n)=>{if(ge(n)||ft(n)||Je(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ao=(e,t,n)=>{ur(e.dom,t,n)},ts=(e,t)=>{const n=e.dom;Ot(t,(o,s)=>{ur(n,s,o)})},Bs=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},ta=(e,t)=>w.from(Bs(e,t)),$a=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},is=(e,t)=>{e.dom.removeAttribute(t)},ka=e=>{const t=e.dom.attributes;return t==null||t.length===0},na=e=>En(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),cc=(e,t)=>{const n=Bs(e,t);return n===void 0||n===""?[]:n.split(" ")},Qi=(e,t,n)=>{const s=cc(e,t).concat([n]);return ao(e,t,s.join(" ")),!0},oa=(e,t,n)=>{const o=Qe(cc(e,t),s=>s!==n);return o.length>0?ao(e,t,o.join(" ")):is(e,t),!1},sa=e=>e.dom.classList!==void 0,Za=e=>cc(e,"class"),ic=(e,t)=>Qi(e,"class",t),Ws=(e,t)=>oa(e,"class",t),Ji=(e,t)=>ce(Za(e),t)?Ws(e,t):ic(e,t),wa=(e,t)=>{sa(e)?e.dom.classList.add(t):ic(e,t)},Ec=e=>{(sa(e)?e.dom.classList:Za(e)).length===0&&is(e,"class")},Tc=(e,t)=>{sa(e)?e.dom.classList.remove(t):Ws(e,t),Ec(e)},gi=(e,t)=>{const n=sa(e)?e.dom.classList.toggle(t):Ji(e,t);return Ec(e),n},zc=(e,t)=>sa(e)&&e.dom.classList.contains(t),ra=e=>e.style!==void 0&&Wt(e.style.getPropertyValue),cf=(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,e),new Error(s)}return fr(o.childNodes[0])},Ac=(e,t)=>{const o=(t||document).createElement(e);return fr(o)},el=(e,t)=>{const o=(t||document).createTextNode(e);return fr(o)},fr=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ne={fromHtml:cf,fromTag:Ac,fromText:el,fromDom:fr,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(fr)},lc=(e,t)=>{const n=[],o=a=>(n.push(a),t(a));let s=t(e);do s=s.bind(o);while(s.isSome());return n},aa=(e,t)=>{const n=e.dom;if(n.nodeType!==He)return!1;{const o=n;if(o.matches!==void 0)return o.matches(t);if(o.msMatchesSelector!==void 0)return o.msMatchesSelector(t);if(o.webkitMatchesSelector!==void 0)return o.webkitMatchesSelector(t);if(o.mozMatchesSelector!==void 0)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},nl=e=>e.nodeType!==He&&e.nodeType!==V&&e.nodeType!==Te||e.childElementCount===0,lf=(e,t)=>{const n=t===void 0?document:t.dom;return nl(n)?[]:W(n.querySelectorAll(e),ne.fromDom)},Gl=(e,t)=>{const n=t===void 0?document:t.dom;return nl(n)?w.none():w.from(n.querySelector(e)).map(ne.fromDom)},_o=(e,t)=>e.dom===t.dom,Cs=(e,t)=>{const n=e.dom,o=t.dom;return n===o?!1:n.contains(o)},hi=e=>ne.fromDom(e.dom.ownerDocument),_a=e=>er(e)?e:hi(e),Kl=e=>ne.fromDom(_a(e).dom.documentElement),Fa=e=>ne.fromDom(_a(e).dom.defaultView),nr=e=>w.from(e.dom.parentNode).map(ne.fromDom),ol=e=>w.from(e.dom.parentElement).map(ne.fromDom),Yl=(e,t)=>{const n=Wt(t)?t:cn;let o=e.dom;const s=[];for(;o.parentNode!==null&&o.parentNode!==void 0;){const a=o.parentNode,i=ne.fromDom(a);if(s.push(i),n(i)===!0)break;o=a}return s},sl=e=>{const t=n=>Qe(n,o=>!_o(e,o));return nr(e).map(ms).map(t).getOr([])},Ia=e=>w.from(e.dom.previousSibling).map(ne.fromDom),yi=e=>w.from(e.dom.nextSibling).map(ne.fromDom),bi=e=>io(lc(e,Ia)),rl=e=>lc(e,yi),ms=e=>W(e.dom.childNodes,ne.fromDom),uc=(e,t)=>{const n=e.dom.childNodes;return w.from(n[t]).map(ne.fromDom)},al=e=>uc(e,0),ki=e=>uc(e,e.dom.childNodes.length-1),cl=e=>e.dom.childNodes.length,Xl=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return ne.fromDom(t)},il=e=>tr(e)&&L(e.dom.host),ll=Wt(Element.prototype.attachShadow)&&Wt(Node.prototype.getRootNode),b=Z(ll),S=ll?e=>ne.fromDom(e.dom.getRootNode()):_a,A=e=>il(e)?e:Xl(_a(e)),te=e=>{const t=S(e);return il(t)?w.some(t):w.none()},be=e=>ne.fromDom(e.dom.host),$t=e=>{if(b()&&L(e.target)){const t=ne.fromDom(e.target);if(qn(t)&&yn(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Tn(n)}}return w.from(e.target)},yn=e=>L(e.dom.shadowRoot),On=e=>{const t=ko(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return te(ne.fromDom(t)).fold(()=>n.body.contains(t),qt(On,be))},Hn=(e,t,n)=>{if(!ge(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ra(e)&&e.style.setProperty(t,n)},Mn=(e,t)=>{ra(e)&&e.style.removeProperty(t)},ns=(e,t,n)=>{const o=e.dom;Hn(o,t,n)},jr=(e,t)=>{const n=e.dom;Ot(t,(o,s)=>{Hn(n,s,o)})},qs=(e,t)=>{const n=e.dom,s=window.getComputedStyle(n).getPropertyValue(t);return s===""&&!On(e)?kd(n,t):s},kd=(e,t)=>ra(e)?e.style.getPropertyValue(t):"",wi=(e,t)=>{const n=e.dom,o=kd(n,t);return w.from(o).filter(s=>s.length>0)},wd=e=>{const t={},n=e.dom;if(ra(n))for(let o=0;o<n.style.length;o++){const s=n.style.item(o);t[s]=n.style[s]}return t},Zl=(e,t)=>{const n=e.dom;Mn(n,t),Zo(ta(e,"style").map(Dn),"")&&is(e,"style")},La=e=>e.dom.offsetWidth,kr=(e,t)=>{nr(e).each(o=>{o.dom.insertBefore(t.dom,e.dom)})},ca=(e,t)=>{yi(e).fold(()=>{nr(e).each(s=>{fs(s,t)})},o=>{kr(o,t)})},_d=(e,t)=>{al(e).fold(()=>{fs(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})},fs=(e,t)=>{e.dom.appendChild(t.dom)},vd=(e,t)=>{kr(e,t),fs(t,e)},ul=(e,t)=>{M(t,(n,o)=>{const s=o===0?e:t[o-1];ca(s,n)})},fc=(e,t)=>{M(t,n=>{fs(e,n)})},fl=e=>{e.dom.textContent="",M(ms(e),t=>{Oo(t)})},Oo=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},zs=e=>{const t=ms(e);t.length>0&&ul(e,t),Oo(e)},Rr=(e,t)=>{const o=(t||document).createElement("div");return o.innerHTML=e,ms(ne.fromDom(o))},Ss=e=>W(e,ne.fromDom),uf=e=>e.dom.innerHTML,_i=(e,t)=>{const o=hi(e).dom,s=ne.fromDom(o.createDocumentFragment()),a=Rr(t,o);fc(s,a),fl(e),fs(e,s)},ff=e=>{const t=ne.fromTag("div"),n=ne.fromDom(e.dom.cloneNode(!0));return fs(t,n),uf(t)},dc=(e,t,n,o,s,a,i)=>({target:e,x:t,y:n,stop:o,prevent:s,kill:a,raw:i}),Ql=e=>{const t=ne.fromDom($t(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),s=Ze(o,n);return dc(t,e.clientX,e.clientY,n,o,s,e)},Tp=(e,t)=>n=>{e(n)&&t(Ql(n))},zp=(e,t,n,o,s)=>{const a=Tp(n,o);return e.dom.addEventListener(t,a,s),{unbind:et(Ap,e,t,a,s)}},Jl=(e,t,n,o)=>zp(e,t,n,o,!1),Ap=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},df=(e,t)=>({left:e,top:t,translate:(o,s)=>df(e+o,t+s)}),dl=df,Cd=e=>{const t=e.getBoundingClientRect();return dl(t.left,t.top)},Nc=(e,t)=>e!==void 0?e:t!==void 0?t:0,vi=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,s=t.documentElement;if(n===e.dom)return dl(n.offsetLeft,n.offsetTop);const a=Nc(o==null?void 0:o.pageYOffset,s.scrollTop),i=Nc(o==null?void 0:o.pageXOffset,s.scrollLeft),u=Nc(s.clientTop,n.clientTop),d=Nc(s.clientLeft,n.clientLeft);return Rc(e).translate(i-d,a-u)},Rc=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?dl(o.offsetLeft,o.offsetTop):On(e)?Cd(t):dl(0,0)},In=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return dl(n,o)},mc=(e,t,n)=>{const s=(n!==void 0?n.dom:document).defaultView;s&&s.scrollTo(e,t)},Ci=(e,t)=>{Do().browser.isSafari()&&Wt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},mf=e=>{const t=e===void 0?window:e;return Do().browser.isFirefox()?w.none():w.from(t.visualViewport)},pf=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),gf=e=>{const t=e===void 0?window:e,n=t.document,o=In(ne.fromDom(n));return mf(t).fold(()=>{const s=t.document.documentElement,a=s.clientWidth,i=s.clientHeight;return pf(o.left,o.top,a,i)},s=>pf(Math.max(s.pageLeft,o.left),Math.max(s.pageTop,o.top),s.width,s.height))},Dc=e=>t=>!!t&&t.nodeType===e,Si=e=>!!e&&!Object.getPrototypeOf(e),dn=Dc(1),ia=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const o=n.nodeName.toLowerCase();return ce(t,o)}return!1}},xi=(e,t)=>{const n=t.toLowerCase().split(" ");return o=>{if(dn(o))for(let s=0;s<n.length;s++){const a=o.ownerDocument.defaultView.getComputedStyle(o,null);if((a?a.getPropertyValue(e):null)===n[s])return!0}return!1}},hf=e=>t=>dn(t)&&t.hasAttribute(e),Qa=(e,t)=>n=>dn(n)&&n.getAttribute(e)===t,Oc=e=>dn(e)&&e.hasAttribute("data-mce-bogus"),eu=e=>dn(e)&&e.getAttribute("data-mce-bogus")==="all",Ma=e=>dn(e)&&e.tagName==="TABLE",Sd=e=>t=>!!(dn(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),ml=ia(["textarea","input"]),Ft=Dc(3),xd=Dc(4),Ed=Dc(7),pl=Dc(8),tu=Dc(9),Ei=Dc(11),ps=ia(["br"]),Td=ia(["img"]),la=Sd("true"),os=Sd("false"),gl=ia(["td","th"]),pc=ia(["video","audio","object","embed"]),qh=Do().browser,Pc=e=>oo(e,qn),Ti=e=>qh.isFirefox()&&tn(e)==="table"?Pc(ms(e)).filter(t=>tn(t)==="caption").bind(t=>Pc(rl(t)).map(n=>{const o=n.dom.offsetTop,s=t.dom.offsetTop,a=t.dom.offsetHeight;return o<=s?-a:0})).getOr(0):0,yf=(e,t)=>e.children&&ce(e.children,t),zd=(e,t,n)=>{let o=0,s=0;const a=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&qs(ne.fromDom(e),"position")==="static"){const u=t.getBoundingClientRect();return o=u.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,s=u.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:o,y:s}}let i=t;for(;i&&i!==n&&i.nodeType&&!yf(i,n);){const u=i;o+=u.offsetLeft||0,s+=u.offsetTop||0,i=u.offsetParent}for(i=t.parentNode;i&&i!==n&&i.nodeType&&!yf(i,n);)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=Ti(ne.fromDom(t))}return{x:o,y:s}};var nu=(e,t,n,o,s)=>e(n,o)?w.some(n):Wt(s)&&s(n)?w.none():t(n,o,s);const zi=(e,t,n)=>{let o=e.dom;const s=Wt(n)?n:cn;for(;o.parentNode;){o=o.parentNode;const a=ne.fromDom(o);if(t(a))return w.some(a);if(s(a))break}return w.none()},Bc=(e,t,n)=>nu((s,a)=>a(s),zi,e,t,n),Np=(e,t)=>{const n=e.dom;return n.parentNode?Rp(ne.fromDom(n.parentNode),o=>!_o(e,o)&&t(o)):w.none()},Rp=(e,t)=>{const n=s=>t(ne.fromDom(s));return oo(e.dom.childNodes,n).map(ne.fromDom)},Ad=(e,t)=>{const n=o=>{for(let s=0;s<o.childNodes.length;s++){const a=ne.fromDom(o.childNodes[s]);if(t(a))return w.some(a);const i=n(o.childNodes[s]);if(i.isSome())return i}return w.none()};return n(e.dom)},Ai=(e,t,n)=>zi(e,o=>aa(o,t),n),$c=(e,t)=>Gl(t,e),ja=(e,t,n)=>nu((s,a)=>aa(s,a),Ai,e,t,n),Nd=(e,t={})=>{let n=0;const o={},s=ne.fromDom(e),a=_a(s),i=t.maxLoadTime||5e3,u=j=>{t.referrerPolicy=j},d=j=>{fs(A(s),j)},y=j=>{const H=A(s);$c(H,"#"+j).each(Oo)},v=j=>Vn(o,j).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),T=j=>new Promise((H,se)=>{let ve;const Se=nt._addCacheSuffix(j),Be=v(Se);o[Se]=Be,Be.count++;const at=(nn,Ht)=>{M(nn,en),Be.status=Ht,Be.passed=[],Be.failed=[],ve&&(ve.onload=null,ve.onerror=null,ve=null)},Vt=()=>at(Be.passed,2),lt=()=>at(Be.failed,3),gt=(nn,Ht)=>{nn()||(Date.now()-bn<i?setTimeout(Ht):lt())},Dt=()=>{gt(()=>{const nn=e.styleSheets;let Ht=nn.length;for(;Ht--;){const Co=nn[Ht].ownerNode;if(Co&&Co.id===ve.id)return Vt(),!0}return!1},Dt)};if(H&&Be.passed.push(H),se&&Be.failed.push(se),Be.status===1)return;if(Be.status===2){Vt();return}if(Be.status===3){lt();return}Be.status=1;const Pt=ne.fromTag("link",a.dom);ts(Pt,{rel:"stylesheet",type:"text/css",id:Be.id});const bn=Date.now();t.contentCssCors&&ao(Pt,"crossOrigin","anonymous"),t.referrerPolicy&&ao(Pt,"referrerpolicy",t.referrerPolicy),ve=Pt.dom,ve.onload=Dt,ve.onerror=lt,d(Pt),ao(Pt,"href",Se)}),N=j=>Promise.allSettled(W(j,se=>T(se).then(Z(se)))).then(se=>{const ve=kt(se,Se=>Se.status==="fulfilled");return ve.fail.length>0?Promise.reject(W(ve.fail,Se=>Se.reason)):W(ve.pass,Se=>Se.value)}),F=j=>{const H=nt._addCacheSuffix(j);Vn(o,H).each(se=>{--se.count===0&&(delete o[H],y(se.id))})};return{load:T,loadAll:N,unload:F,unloadAll:j=>{M(j,H=>{F(H)})},_setReferrerPolicy:u}},Rd=(()=>{const e=new WeakMap;return{forElement:(n,o)=>{const a=S(n).dom;return w.from(e.get(a)).getOrThunk(()=>{const i=Nd(a,o);return e.set(a,i),i})}}})();class ks{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,o,s){let a,i;if(t){if(!s&&t[n])return t[n];if(t!==this.rootNode){if(a=t[o],a)return a;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(a=i[o],a)return a}}}findPreviousNode(t,n){let o,s,a;if(t){if(o=t.previousSibling,this.rootNode&&o===this.rootNode)return;if(o){if(!n){for(a=o.lastChild;a;a=a.lastChild)if(!a.lastChild)return a}return o}if(s=t.parentNode,s&&s!==this.rootNode)return s}}}const Dp=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Dd=["td","th"],Ni=["thead","tbody","tfoot"],Op=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Pp=["h1","h2","h3","h4","h5","h6"],bf=["li","dd","dt"],Od=["ul","ol","dl"],Bp=["pre","script","textarea","style"],Pd=["pre"].concat(Pp),gc=e=>{let t;return n=>(t=t||st(e,wn),gn(t,tn(n)))},ua=gc(Dp),$p=e=>tn(e)==="table",kf=e=>qn(e)&&!ua(e),Ri=e=>qn(e)&&tn(e)==="br",wf=gc(Op),_f=gc(Od),hl=gc(bf),Bd=gc(Ni),ou=gc(Dd),su=gc(Bp),vf=gc(Pd),Cf=e=>vf(e)||kf(e),Sf=(e,t,n)=>Ai(e,t,n).isSome(),yl="\uFEFF",Vs="\xA0",ru=e=>e===yl,$d=e=>e.replace(/\uFEFF/g,""),xf=(e,t)=>{let n=[];return M(ms(e),o=>{t(o)&&(n=n.concat([o])),n=n.concat(xf(o,t))}),n},wr=(e,t)=>lf(t,e),au=((e,t)=>{const n=a=>{if(!e(a))throw new Error("Can only get "+t+" value of a "+t+" node");return o(a).getOr("")},o=a=>e(a)?w.from(a.dom.nodeValue):w.none();return{get:n,getOption:o,set:(a,i)=>{if(!e(a))throw new Error("Can only set raw "+t+" value of a "+t+" node");a.dom.nodeValue=i}}})(ko,"text"),Fc=e=>au.get(e),Di=e=>au.getOption(e),Fp=e=>{const t=[];let n=e.dom;for(;n;)t.push(ne.fromDom(n)),n=n.lastChild;return t},Gh=e=>{const t=wr(e,"br"),n=Qe(Fp(e).slice(-1),Ri);t.length===n.length&&M(n,Oo)},hc=()=>{const e=ne.fromTag("br");return ao(e,"data-mce-bogus","1"),e},Ic=e=>{fl(e),fs(e,hc())},Ip=e=>{ki(e).each(t=>{Ia(t).each(n=>{ua(e)&&Ri(t)&&ua(n)&&Oo(t)})})},m=yl,h=ru,E=$d,P=dn,oe=Ft,Me=e=>(oe(e)&&(e=e.parentNode),P(e)&&e.hasAttribute("data-mce-caret")),mt=e=>oe(e)&&h(e.data),xt=e=>Me(e)||mt(e),vn=e=>e.firstChild!==e.lastChild||!ps(e.firstChild),Ln=(e,t)=>{const o=e.ownerDocument.createTextNode(m),s=e.parentNode;if(t){const a=e.previousSibling;if(oe(a)){if(xt(a))return a;if(Dr(a))return a.splitText(a.data.length-1)}s.insertBefore(o,e)}else{const a=e.nextSibling;if(oe(a)){if(xt(a))return a;if(or(a))return a.splitText(1),a}e.nextSibling?s.insertBefore(o,e.nextSibling):s.appendChild(o)}return o},as=e=>{const t=e.container();return Ft(t)?t.data.charAt(e.offset())===m||e.isAtStart()&&mt(t.previousSibling):!1},uo=e=>{const t=e.container();return Ft(t)?t.data.charAt(e.offset()-1)===m||e.isAtEnd()&&mt(t.nextSibling):!1},Ko=(e,t,n)=>{const s=t.ownerDocument.createElement(e);s.setAttribute("data-mce-caret",n?"before":"after"),s.setAttribute("data-mce-bogus","all"),s.appendChild(hc().dom);const a=t.parentNode;return n?a.insertBefore(s,t):t.nextSibling?a.insertBefore(s,t.nextSibling):a.appendChild(s),s},or=e=>oe(e)&&e.data[0]===m,Dr=e=>oe(e)&&e.data[e.data.length-1]===m,Ja=e=>{const t=e.getElementsByTagName("br"),n=t[t.length-1];Oc(n)&&n.parentNode.removeChild(n)},Ua=e=>e&&e.hasAttribute("data-mce-caret")?(Ja(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,cu=e=>Me(e.startContainer),bl=la,Lc=os,Mc=ps,iu=Ft,kl=ia(["script","style","textarea"]),wl=ia(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Lp=ia(["table"]),Mp=xt,$n=e=>Mp(e)?!1:iu(e)?!kl(e.parentNode):wl(e)||Mc(e)||Lp(e)||$s(e),Yo=e=>dn(e)&&e.getAttribute("unselectable")==="true",$s=e=>Yo(e)===!1&&Lc(e),Ur=(e,t)=>{for(e=e.parentNode;e&&e!==t;e=e.parentNode){if($s(e))return!1;if(bl(e))return!0}return!0},jp=e=>$s(e)?En(ho(e.getElementsByTagName("*")),(t,n)=>t||bl(n),!1)!==!0:!1,lu=e=>wl(e)||jp(e),Ha=(e,t)=>$n(e)&&Ur(e,t),Wa=/^[ \t\r\n]*$/,yc=e=>Wa.test(e),Kh=e=>" \f	\v".indexOf(e)!==-1,Up=e=>e===`
`||e==="\r",gw=(e,t)=>t<e.length&&t>=0?Up(e[t]):!1,Yh=(e,t=4,n=!0,o=!0)=>{const s=Jo(" ",t),a=e.replace(/\t/g,s);return En(a,(u,d)=>Kh(d)||d===Vs?u.pcIsSpace||u.str===""&&n||u.str.length===a.length-1&&o||gw(a,u.str.length+1)?{pcIsSpace:!1,str:u.str+Vs}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:Up(d),str:u.str+d},{pcIsSpace:!1,str:""}).str},hw=(e,t)=>{const n=ne.fromDom(t),o=ne.fromDom(e);return Sf(o,"pre,code",et(_o,n))},yw=(e,t)=>Ft(e)&&yc(e.data)&&hw(e,t)===!1,bw=e=>dn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Fd=(e,t)=>$n(e)&&yw(e,t)===!1||bw(e)||kw(e),kw=hf("data-mce-bookmark"),Xh=hf("data-mce-bogus"),ww=Qa("data-mce-bogus","all"),_w=(e,t)=>{let n=0;if(Fd(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const s=new ks(o,e);do{if(t){if(ww(o)){o=s.next(!0);continue}if(Xh(o)){o=s.next();continue}}if(ps(o)){n++,o=s.next();continue}if(Fd(o,e))return!1;o=s.next()}while(o);return n<=1}},Fs=(e,t=!0)=>_w(e.dom,t),Zh=e=>e.nodeName.toLowerCase()==="span",Qh=(e,t)=>L(e)&&(Fd(e,t)||kf(ne.fromDom(e))),vw=(e,t)=>{const n=new ks(e,t).prev(!1),o=new ks(e,t).next(!1),s=Le(n)||Qh(n,t),a=Le(o)||Qh(o,t);return s&&a},Id=e=>Zh(e)&&e.getAttribute("data-mce-type")==="bookmark",Cw=(e,t)=>Ft(e)&&e.data.length>0&&vw(e,t),Ld=e=>dn(e)?e.childNodes.length>0:!1,Sw=e=>Ei(e)||tu(e),uu=(e,t,n)=>{const o=n||t;if(dn(t)&&Id(t))return t;const s=t.childNodes;for(let a=s.length-1;a>=0;a--)uu(e,s[a],o);if(dn(t)){const a=t.childNodes;a.length===1&&Id(a[0])&&t.parentNode.insertBefore(a[0],t)}return!Sw(t)&&!Fd(t,o)&&!Ld(t)&&!Cw(t,o)&&e.remove(t),t},xw=nt.makeMap,Md=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ew=/[<>&\"\']/g,Tw=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,zw={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},_l={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Aw={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Jh=e=>{const t=ne.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ud=(e,t)=>{let n,o,s;const a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)o=String.fromCharCode(parseInt(e[n],t)),_l[o]||(s="&"+e[n+1]+";",a[o]=s,a[s]=o);return a}},Hp=Ud("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Hd=(e,t)=>e.replace(t?Md:jd,n=>_l[n]||n),Wd=e=>(""+e).replace(Ew,t=>_l[t]||t),qd=(e,t)=>e.replace(t?Md:jd,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":_l[n]||"&#"+n.charCodeAt(0)+";"),Wp=(e,t,n)=>(n=n||Hp,e.replace(t?Md:jd,o=>_l[o]||n[o]||o)),Oi={encodeRaw:Hd,encodeAllRaw:Wd,encodeNumeric:qd,encodeNamed:Wp,getEncodeFunc:(e,t)=>{const n=Ud(t)||Hp,o=(i,u)=>i.replace(u?Md:jd,d=>_l[d]!==void 0?_l[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"),s=(i,u)=>Wp(i,u,n),a=xw(e.replace(/\+/g,","));return a.named&&a.numeric?o:a.named?t?s:Wp:a.numeric?qd:Hd},decode:e=>e.replace(Tw,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):zw[n]||String.fromCharCode(n)):Aw[t]||Hp[t]||Jh(t))},jc={},Rw={},vl=nt.makeMap,dr=nt.each,qp=nt.extend,Tf=nt.explode,Dw=nt.inArray,sr=(e,t)=>(e=nt.trim(e),e?e.split(t||" "):[]),Vd=(e,t)=>{const n=vl(e," ",vl(e.toUpperCase()," "));return qp(n,t)},ey=e=>Vd("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Vp=e=>{const t={};let n,o,s,a,i,u;const d=(v,T="",N="")=>{const F=sr(N),U=sr(v);let j=U.length;for(;j--;){const H=sr([n,T].join(" "));t[U[j]]={attributes:st(H,()=>({})),attributesOrder:H,children:st(F,Z(Rw))}}},y=(v,T)=>{const N=sr(v),F=sr(T);let U=N.length;for(;U--;){const j=t[N[U]];for(let H=0,se=F.length;H<se;H++)j.attributes[F[H]]={},j.attributesOrder.push(F[H])}};return jc[e]?jc[e]:(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",s=[s,u].join(" "),dr(sr(u),v=>{d(v,"",s)}),i="center dir isindex noframes",o=[o,i].join(" "),a=[o,s].join(" "),dr(sr(i),v=>{d(v,"",a)})),a=a||[o,s].join(" "),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),d("address dt dd div caption","",a),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),d("blockquote","cite",a),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",a),d("dl","","dt dd"),d("a","href target rel media hreflang type",s),d("q","cite",s),d("ins del","cite datetime",a),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",a),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),d("param","name value"),d("map","name",[a,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",a),d("th","colspan rowspan headers scope abbr",a),d("form","accept-charset action autocomplete enctype method name novalidate target",a),d("fieldset","disabled form name",[a,"legend"].join(" ")),d("label","form for",s),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:s),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[a,"li"].join(" ")),d("noscript","",a),e!=="html4"&&(d("wbr"),d("ruby","",[s,"rt rp"].join(" ")),d("figcaption","",a),d("mark rt rp summary bdi","",s),d("canvas","width height",a),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[s,"option"].join(" ")),d("article section nav aside main header footer","",a),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[a,"figcaption"].join(" ")),d("time","datetime",s),d("dialog","open",a),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",s),d("progress","value max",s),d("meter","value min max low high optimum",s),d("details","open",[a,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(y("script","language xml:space"),y("style","xml:space"),y("object","declare classid code codebase codetype archive standby align border hspace vspace"),y("embed","align name hspace vspace"),y("param","valuetype type"),y("a","charset name rev shape coords"),y("br","clear"),y("applet","codebase archive code object alt name width height align hspace vspace"),y("img","name longdesc align border hspace vspace"),y("iframe","longdesc frameborder marginwidth marginheight scrolling align"),y("font basefont","size color face"),y("input","usemap align"),y("select"),y("textarea"),y("h1 h2 h3 h4 h5 h6 div p legend caption","align"),y("ul","type compact"),y("li","type"),y("ol dl menu dir","compact"),y("pre","width xml:space"),y("hr","align noshade size width"),y("isindex","prompt"),y("table","summary width frame rules cellspacing cellpadding align bgcolor"),y("col","width align char charoff valign"),y("colgroup","width align char charoff valign"),y("thead","align char charoff valign"),y("tr","align char charoff valign bgcolor"),y("th","axis align char charoff valign nowrap bgcolor width height"),y("form","accept"),y("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),y("tfoot","align char charoff valign"),y("tbody","align char charoff valign"),y("area","nohref"),y("body","background bgcolor text link vlink alink")),e!=="html4"&&(y("input button select textarea","autofocus"),y("input textarea","placeholder"),y("a","download"),y("link script img","crossorigin"),y("img","loading"),y("iframe","sandbox seamless allowfullscreen loading")),e!=="html4"&&M([t.video,t.audio],v=>{delete v.children.audio,delete v.children.video}),dr(sr("a form meter progress dfn"),v=>{t[v]&&delete t[v].children[v]}),delete t.caption.children.table,delete t.script,jc[e]=t,t)},Gp=(e,t)=>{let n;return e&&(n={},typeof e=="string"&&(e={"*":e}),dr(e,(o,s)=>{n[s]=n[s.toUpperCase()]=t==="map"?vl(o,/[, ]/):Tf(o,/[, ]/)})),n},Pi=e=>{var t;const n={},o={};let s=[];const a={},i={},u=(xn,Sn,So)=>{let xo=e[xn];return xo?xo=vl(xo,/[, ]/,vl(xo.toUpperCase(),/[, ]/)):(xo=jc[xn],xo||(xo=Vd(Sn,So),jc[xn]=xo)),xo};e=e||{};const d=(t=e.schema)!==null&&t!==void 0?t:"html5",y=Vp(d);e.verify_html===!1&&(e.valid_elements="*[*]");const v=Gp(e.valid_styles),T=Gp(e.invalid_styles,"map"),N=Gp(e.valid_classes,"map"),F=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),U=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),j=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),H=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),se="td th iframe video audio object script code",ve=u("non_empty_elements",se+" pre",j),Se=u("move_caret_before_on_enter_elements",se+" table",j),Be=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),at=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Be),Vt=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");dr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),xn=>{i[xn]=new RegExp("</"+xn+"[^>]*>","gi")});const lt=xn=>new RegExp("^"+xn.replace(/([?+*])/g,".$1")+"$"),gt=xn=>{let Sn,So,xo,Us,Wo,so,qo,$r,Fr,yr,ai,ha,Kr,sc,ef,Gi,Ki,ci;const pd=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,tf=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,rc=/[*?+]/;if(xn){const ii=sr(xn,",");for(n["@"]&&(Gi=n["@"].attributes,Ki=n["@"].attributesOrder),Sn=0,So=ii.length;Sn<So;Sn++)if(Wo=pd.exec(ii[Sn]),Wo){if(sc=Wo[1],Fr=Wo[2],ef=Wo[3],$r=Wo[5],ha={},Kr=[],so={attributes:ha,attributesOrder:Kr},sc==="#"&&(so.paddEmpty=!0),sc==="-"&&(so.removeEmpty=!0),Wo[4]==="!"&&(so.removeEmptyAttrs=!0),Gi&&(Ot(Gi,(gd,li)=>{ha[li]=gd}),Kr.push.apply(Kr,Ki)),$r){for($r=sr($r,"|"),xo=0,Us=$r.length;xo<Us;xo++)if(Wo=tf.exec($r[xo]),Wo){if(qo={},ai=Wo[1],yr=Wo[2].replace(/[\\:]:/g,":"),sc=Wo[3],ci=Wo[4],ai==="!"&&(so.attributesRequired=so.attributesRequired||[],so.attributesRequired.push(yr),qo.required=!0),ai==="-"){delete ha[yr],Kr.splice(Dw(Kr,yr),1);continue}sc&&(sc==="="&&(so.attributesDefault=so.attributesDefault||[],so.attributesDefault.push({name:yr,value:ci}),qo.defaultValue=ci),sc==="~"&&(so.attributesForced=so.attributesForced||[],so.attributesForced.push({name:yr,value:ci}),qo.forcedValue=ci),sc==="<"&&(qo.validValues=vl(ci,"?"))),rc.test(yr)?(so.attributePatterns=so.attributePatterns||[],qo.pattern=lt(yr),so.attributePatterns.push(qo)):(ha[yr]||Kr.push(yr),ha[yr]=qo)}}!Gi&&Fr==="@"&&(Gi=ha,Ki=Kr),ef&&(so.outputName=Fr,n[ef]=so),rc.test(Fr)?(so.pattern=lt(Fr),s.push(so)):n[Fr]=so}}},Dt=xn=>{s=[],M(ze(n),Sn=>{delete n[Sn]}),gt(xn),dr(y,(Sn,So)=>{o[So]=Sn.children})},Pt=xn=>{const Sn=/^(~)?(.+)$/;xn&&(jc.text_block_elements=jc.block_elements=null,dr(sr(xn,","),So=>{const xo=Sn.exec(So),Us=xo[1]==="~",Wo=Us?"span":"div",so=xo[2];if(o[so]=o[Wo],a[so]=Wo,ve[so.toUpperCase()]={},ve[so]={},Us||(at[so.toUpperCase()]={},at[so]={}),!n[so]){let qo=n[Wo];qo=qp({},qo),delete qo.removeEmptyAttrs,delete qo.removeEmpty,n[so]=qo}dr(o,(qo,$r)=>{qo[Wo]&&(o[$r]=qo=qp({},o[$r]),qo[so]=qo[Wo])})}))},bn=xn=>{const Sn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;jc[d]=null,xn&&dr(sr(xn,","),So=>{const xo=Sn.exec(So);let Us,Wo;xo&&(Wo=xo[1],Wo?Us=o[xo[2]]:Us=o[xo[2]]={"#comment":{}},Us=o[xo[2]],dr(sr(xo[3],"|"),so=>{Wo==="-"?delete Us[so]:Us[so]={}}))})},nn=xn=>{let Sn=n[xn],So;if(Sn)return Sn;for(So=s.length;So--;)if(Sn=s[So],Sn.pattern.test(xn))return Sn};e.valid_elements?Dt(e.valid_elements):(dr(y,(xn,Sn)=>{n[Sn]={attributes:xn.attributes,attributesOrder:xn.attributesOrder},o[Sn]=xn.children}),dr(sr("strong/b em/i"),xn=>{const Sn=sr(xn,"/");n[Sn[1]].outputName=Sn[0]}),dr(Vt,(xn,Sn)=>{n[Sn]&&(e.padd_empty_block_inline_children&&(n[Sn].paddInEmptyBlock=!0),n[Sn].removeEmpty=!0)}),dr(sr("ol ul blockquote a table tbody"),xn=>{n[xn]&&(n[xn].removeEmpty=!0)}),dr(sr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),xn=>{n[xn].paddEmpty=!0}),dr(sr("span"),xn=>{n[xn].removeEmptyAttrs=!0})),Pt(e.custom_elements),bn(e.valid_children),gt(e.extended_valid_elements),bn("+ol[ul|ol],+ul[ul|ol]"),dr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(xn,Sn)=>{n[Sn]&&(n[Sn].parentsRequired=sr(xn))}),e.invalid_elements&&dr(Tf(e.invalid_elements),xn=>{n[xn]&&delete n[xn]}),nn("span")||gt("span[!data-mce-type|*]");const Ht=Z(v),fo=Z(T),Co=Z(N),Io=Z(H),js=Z(at),Nt=Z(Be),fn=Z(Vt),no=Z(Object.seal(j)),Qn=Z(U),Ys=Z(ve),Mt=Z(Se),_n=Z(F),on=Z(Object.seal(i)),Bt=(xn,Sn)=>{const So=o[xn.toLowerCase()];return!!(So&&So[Sn.toLowerCase()])},Jn=(xn,Sn)=>{let So,xo;const Us=nn(xn);if(Us)if(Sn){if(Us.attributes[Sn])return!0;if(So=Us.attributePatterns,So){for(xo=So.length;xo--;)if(So[xo].pattern.test(Sn))return!0}}else return!0;return!1},co=Z(a);return{type:d,children:o,elements:n,getValidStyles:Ht,getValidClasses:Co,getBlockElements:js,getInvalidStyles:fo,getVoidElements:no,getTextBlockElements:Nt,getTextInlineElements:fn,getBoolAttrs:Io,getElementRule:nn,getSelfClosingElements:Qn,getNonEmptyElements:Ys,getMoveCaretBeforeOnEnterElements:Mt,getWhitespaceElements:_n,getSpecialElements:on,isValidChild:Bt,isValid:Jn,getCustomElements:co,addValidElements:gt,setValidElements:Dt,addCustomElements:Pt,addValidChildren:bn}},Uc=(e,t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/;let a;const i={};let u,d;const y=yl;e=e||{},t&&(u=t.getValidStyles(),d=t.getInvalidStyles());const v=(`\\" \\' \\; \\: ; : `+y).split(" ");for(a=0;a<v.length;a++)i[v[a]]=y+a,i[y+a]=v[a];const T={parse:N=>{const F={};let U,j,H,se;const ve=e.url_converter,Se=e.url_converter_scope||T,Be=(nn,Ht,fo)=>{const Co=F[nn+"-top"+Ht];if(!Co)return;const Io=F[nn+"-right"+Ht];if(!Io)return;const js=F[nn+"-bottom"+Ht];if(!js)return;const Nt=F[nn+"-left"+Ht];if(!Nt)return;const fn=[Co,Io,js,Nt];for(a=fn.length-1;a--&&fn[a]===fn[a+1];);a>-1&&fo||(F[nn+Ht]=a===-1?fn[0]:fn.join(" "),delete F[nn+"-top"+Ht],delete F[nn+"-right"+Ht],delete F[nn+"-bottom"+Ht],delete F[nn+"-left"+Ht])},at=nn=>{let Ht=F[nn],fo;if(!!Ht){for(Ht=Ht.split(" "),fo=Ht.length;fo--;)if(Ht[fo]!==Ht[0])return!1;return F[nn]=Ht[0],!0}},Vt=(nn,Ht,fo,Co)=>{!at(Ht)||!at(fo)||!at(Co)||(F[nn]=F[Ht]+" "+F[fo]+" "+F[Co],delete F[Ht],delete F[fo],delete F[Co])},lt=nn=>(se=!0,i[nn]),gt=(nn,Ht)=>(se&&(nn=nn.replace(/\uFEFF[0-9]/g,fo=>i[fo])),Ht||(nn=nn.replace(/\\([\'\";:])/g,"$1")),nn),Dt=nn=>String.fromCharCode(parseInt(nn.slice(1),16)),Pt=nn=>nn.replace(/\\[0-9a-f]+/gi,Dt),bn=(nn,Ht,fo,Co,Io,js)=>{if(Io=Io||js,Io)return Io=gt(Io),"'"+Io.replace(/\'/g,"\\'")+"'";if(Ht=gt(Ht||fo||Co),!e.allow_script_urls){const Nt=Ht.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Nt)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Nt))return""}return ve&&(Ht=ve.call(Se,Ht,"style")),"url('"+Ht.replace(/\'/g,"\\'")+"')"};if(N){for(N=N.replace(/[\u0000-\u001F]/g,""),N=N.replace(/\\[\"\';:\uFEFF]/g,lt).replace(/\"[^\"]+\"|\'[^\']+\'/g,nn=>nn.replace(/[;:]/g,lt));U=o.exec(N);)if(o.lastIndex=U.index+U[0].length,j=U[1].replace(s,"").toLowerCase(),H=U[2].replace(s,""),j&&H){if(j=Pt(j),H=Pt(H),j.indexOf(y)!==-1||j.indexOf('"')!==-1||!e.allow_script_urls&&(j==="behavior"||/expression\s*\(|\/\*|\*\//.test(H)))continue;j==="font-weight"&&H==="700"?H="bold":(j==="color"||j==="background-color")&&(H=H.toLowerCase()),H=H.replace(n,bn),F[j]=se?gt(H,!0):H}Be("border","",!0),Be("border","-width"),Be("border","-color"),Be("border","-style"),Be("padding",""),Be("margin",""),Vt("border","border-width","border-style","border-color"),F.border==="medium none"&&delete F.border,F["border-image"]==="none"&&delete F["border-image"]}return F},serialize:(N,F)=>{let U="";const j=se=>{let ve;const Se=u[se];if(Se)for(let Be=0,at=Se.length;Be<at;Be++)se=Se[Be],ve=N[se],ve&&(U+=(U.length>0?" ":"")+se+": "+ve+";")},H=(se,ve)=>{let Se=d["*"];return Se&&Se[se]?!1:(Se=d[ve],!(Se&&Se[se]))};return F&&u?(j("*"),j(F)):Ot(N,(se,ve)=>{se&&(!d||H(ve,F))&&(U+=(U.length>0?" ":"")+ve+": "+se+";")}),U}};return T},Gd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ow=e=>e instanceof Event||Wt(e.initEvent),Pw=e=>e.isDefaultPrevented===wn||e.isDefaultPrevented===cn,Bw=e=>Ve(e.preventDefault)||Ow(e),Kp=(e,t)=>{const n=t!=null?t:{};for(const o in e)gn(Gd,o)||(n[o]=e[o]);return L(n.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Yp=(e,t,n,o)=>{var s;const a=Kp(t,o);return a.type=e,Ve(a.target)&&(a.target=(s=a.srcElement)!==null&&s!==void 0?s:n),Bw(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=wn,Wt(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=wn,Wt(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=wn,a.stopPropagation()},Pw(a)||(a.isDefaultPrevented=a.defaultPrevented===!0?wn:cn,a.isPropagationStopped=a.cancelBubble===!0?wn:cn,a.isImmediatePropagationStopped=cn)),a},Xp="mce-data-",bc=/^(?:mouse|contextmenu)|click/,Zp=(e,t,n,o)=>{e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Kd=(e,t,n,o)=>{e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n)},$w=e=>L(e)&&bc.test(e.type),fu=(e,t)=>{const n=Yp(e.type,e,document,t);if($w(e)&&Le(e.pageX)&&!Le(e.clientX)){const o=n.target.ownerDocument||document,s=o.documentElement,a=o.body,i=n;i.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),i.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}return n},Fw=(e,t,n)=>{const o=e.document,s={type:"ready"};if(n.domLoaded){t(s);return}const a=()=>o.readyState==="complete"||o.readyState==="interactive"&&o.body,i=()=>{Kd(e,"DOMContentLoaded",i),Kd(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(s)),e=null};a()?i():Zp(e,"DOMContentLoaded",i),n.domLoaded||Zp(e,"load",i)};class ec{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Xp+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,o,s){const a=this;let i,u,d,y,v,T,N;const F=window,U=H=>{a.executeHandlers(fu(H||F.event),i)};if(!t||t.nodeType===3||t.nodeType===8)return;t[a.expando]?i=t[a.expando]:(i=a.count++,t[a.expando]=i,a.events[i]={}),s=s||t;const j=n.split(" ");for(d=j.length;d--;){if(y=j[d],T=U,v=N=!1,y==="DOMContentLoaded"&&(y="ready"),a.domLoaded&&y==="ready"&&t.readyState==="complete"){o.call(s,fu({type:y}));continue}a.hasMouseEnterLeave||(v=a.mouseEnterLeave[y],v&&(T=H=>{const se=H.currentTarget;let ve=H.relatedTarget;if(ve&&se.contains)ve=se.contains(ve);else for(;ve&&ve!==se;)ve=ve.parentNode;ve||(H=fu(H||F.event),H.type=H.type==="mouseout"?"mouseleave":"mouseenter",H.target=se,a.executeHandlers(H,i))})),!a.hasFocusIn&&(y==="focusin"||y==="focusout")&&(N=!0,v=y==="focusin"?"focus":"blur",T=H=>{H=fu(H||F.event),H.type=H.type==="focus"?"focusin":"focusout",a.executeHandlers(H,i)}),u=a.events[i][y],u?y==="ready"&&a.domLoaded?o(fu({type:y})):u.push({func:o,scope:s}):(a.events[i][y]=u=[{func:o,scope:s}],u.fakeName=v,u.capture=N,u.nativeHandler=T,y==="ready"?Fw(t,T,a):Zp(t,v||y,T,N))}return t=u=null,o}unbind(t,n,o){let s,a,i,u,d;if(!t||t.nodeType===3||t.nodeType===8)return this;const y=t[this.expando];if(y){if(d=this.events[y],n){const v=n.split(" ");for(a=v.length;a--;)if(u=v[a],s=d[u],s){if(o){for(i=s.length;i--;)if(s[i].func===o){const T=s.nativeHandler,N=s.fakeName,F=s.capture;s=s.slice(0,i).concat(s.slice(i+1)),s.nativeHandler=T,s.fakeName=N,s.capture=F,d[u]=s}}(!o||s.length===0)&&(delete d[u],Kd(t,s.fakeName||u,s.nativeHandler,s.capture))}}else Ot(d,(v,T)=>{Kd(t,v.fakeName||T,v.nativeHandler,v.capture)}),d={};for(u in d)if(gn(d,u))return this;delete this.events[y];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,o){return this.dispatch(t,n,o)}dispatch(t,n,o){let s;if(!t||t.nodeType===3||t.nodeType===8)return this;const a=fu({type:n,target:t},o);do s=t[this.expando],s&&this.executeHandlers(a,s),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!a.isPropagationStopped());return this}clean(t){let n,o;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),o=t.getElementsByTagName("*"),n=o.length;n--;)t=o[n],t[this.expando]&&this.unbind(t);return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const o=this.events[n],s=o&&o[t.type];if(s)for(let a=0,i=s.length;a<i;a++){const u=s[a];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ec.Event=new ec;const Yd=nt.each,ty=nt.grep,Xd="data-mce-style",zf=(e,t,n)=>{Ve(n)||n===""?is(e,t):ao(e,t,n)},Iw=(e,t,n)=>{const o=t.keep_values,s={set:(i,u,d)=>{const y=ne.fromDom(i);Wt(t.url_converter)&&L(u)&&(u=t.url_converter.call(t.url_converter_scope||n(),u,d,i[0]));const v="data-mce-"+d;zf(y,v,u),zf(y,d,u)},get:(i,u)=>{const d=ne.fromDom(i);return Bs(d,"data-mce-"+u)||Bs(d,u)}},a={style:{set:(i,u)=>{const d=ne.fromDom(i);if(zt(u)){jr(d,u);return}o&&zf(d,Xd,u),is(d,"style"),ge(u)&&jr(d,e.parse(u))},get:i=>{const u=ne.fromDom(i),d=Bs(u,Xd)||Bs(u,"style");return e.serialize(e.parse(d),tn(u))}}};return o&&(a.href=a.src=s),a},Lw=(e,t)=>{const n=Bs(t,"style"),o=e.serialize(e.parse(n),tn(t));zf(t,Xd,o)},du=(e,t)=>{let n=0,o,s;if(e)for(o=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)s=e.nodeType,!(t&&s===3&&(s===o||!e.nodeValue.length))&&(n++,o=s);return n},Zd=nt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Qp=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Ho=(e,t={})=>{const n={},o=window,s={};let a=0;const i=!0,u=!0,d=Rd.forElement(ne.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),y=[],v=t.schema?t.schema:Pi({}),T=Uc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),N=t.ownEvents?new ec:ec.Event,F=v.getBlockElements(),U=pe=>ge(pe)?gn(F,pe):dn(pe)&&gn(F,pe.nodeName),j=pe=>pe&&e&&ge(pe)?e.getElementById(pe):pe,H=pe=>{const De=j(pe);return L(De)?ne.fromDom(De):null},se=(pe,De,ht)=>{let ut;const mn=H(pe);if(L(mn)&&qn(mn)){const go=Mk[De];go&&go.get?ut=go.get(mn.dom,De):ut=Bs(mn,De)}return L(ut)?ut:ht!=null?ht:""},ve=pe=>{const De=j(pe);return Ve(De)?[]:De.attributes},Se=(pe,De,ht)=>{no(pe,ut=>{if(dn(ut)){const mn=ne.fromDom(ut);ht===""&&(ht=null);const go=Bs(mn,De),mo=Mk[De];mo&&mo.set?mo.set(mn.dom,ht,De):zf(mn,De,ht),go!==ht&&t.onSetAttrib&&t.onSetAttrib({attrElm:mn,attrName:De,attrValue:ht})}})},Be=(pe,De)=>pe.cloneNode(De),at=()=>t.root_element||e.body,Vt=pe=>{const De=gf(pe);return{x:De.x,y:De.y,w:De.width,h:De.height}},lt=(pe,De)=>zd(e.body,j(pe),De),gt=(pe,De,ht)=>{const ut=(go,mo)=>ge(go)?go:Je(go)?gn(Zd,mo)?go+"":go+"px":hn(go,ut),mn=(go,mo,Ra)=>{const ui=Qp(mo);Ve(Ra)||Ra===""?Zl(go,ui):ns(go,ui,ut(Ra,ui))};no(pe,go=>{const mo=ne.fromDom(go);ge(De)?mn(mo,De,ht):Ot(De,(Ra,ui)=>{mn(mo,ui,Ra)}),t.update_styles&&Lw(T,mo)})},Dt=(pe,De)=>{gt(pe,De)},Pt=(pe,De,ht)=>{const ut=j(pe);if(!(Ve(ut)||!dn(ut)))return ht?qs(ne.fromDom(ut),Qp(De)):(De=De.replace(/-(\D)/g,(mn,go)=>go.toUpperCase()),De==="float"&&(De="cssFloat"),ut.style?ut.style[De]:void 0)},bn=pe=>{let De,ht;const ut=j(pe);return De=Pt(ut,"width"),ht=Pt(ut,"height"),De.indexOf("px")===-1&&(De=0),ht.indexOf("px")===-1&&(ht=0),{w:parseInt(De,10)||ut.offsetWidth||ut.clientWidth,h:parseInt(ht,10)||ut.offsetHeight||ut.clientHeight}},nn=pe=>{const De=j(pe),ht=lt(De),ut=bn(De);return{x:ht.x,y:ht.y,w:ut.w,h:ut.h}},Ht=(pe,De)=>{if(!pe)return!1;const ht=le(pe)?pe:[pe];return Ce(ht,ut=>aa(ne.fromDom(ut),De))},fo=(pe,De,ht,ut)=>{const mn=[];let go,mo=j(pe);for(ut=ut===void 0,ht=ht||(at().nodeName!=="BODY"?at().parentNode:null),ge(De)&&(go=De,De==="*"?De=dn:De=Ra=>Ht(Ra,go));mo&&!(mo===ht||Ve(mo.nodeType)||tu(mo)||Ei(mo));){if(!De||De(mo))if(ut)mn.push(mo);else return[mo];mo=mo.parentNode}return ut?mn:null},Co=(pe,De,ht)=>{const ut=fo(pe,De,ht,!1);return ut&&ut.length>0?ut[0]:null},Io=(pe,De,ht)=>{let ut=De;if(pe){for(ge(De)&&(ut=mn=>Ht(mn,De)),pe=pe[ht];pe;pe=pe[ht])if(Wt(ut)&&ut(pe))return pe}return null},js=(pe,De)=>Io(pe,De,"nextSibling"),Nt=(pe,De)=>Io(pe,De,"previousSibling"),fn=(pe,De)=>{var ht,ut;const mn=(ut=(ht=j(De))!==null&&ht!==void 0?ht:t.root_element)!==null&&ut!==void 0?ut:e;return ho(mn.querySelectorAll(pe))},no=function(pe,De,ht){const ut=ht!=null?ht:this,mn=ge(pe)?j(pe):pe;if(!mn)return!1;if(le(mn)&&(mn.length||mn.length===0)){const go=[];return Yd(mn,(mo,Ra)=>{mo&&go.push(De.call(ut,ge(mo)?j(mo):mo,Ra))}),go}else return De.call(ut,mn)},Qn=(pe,De)=>{no(pe,ht=>{Ot(De,(ut,mn)=>{Se(ht,mn,ut)})})},Ys=(pe,De)=>{no(pe,ht=>{const ut=ne.fromDom(ht);_i(ut,De)})},Mt=(pe,De,ht,ut,mn)=>no(pe,go=>{const mo=ge(De)?e.createElement(De):De;return L(ht)&&Qn(mo,ht),ut&&(!ge(ut)&&ut.nodeType?mo.appendChild(ut):ge(ut)&&Ys(mo,ut)),mn?mo:go.appendChild(mo)}),_n=(pe,De,ht)=>Mt(e.createElement(pe),pe,De,ht,!0),on=Oi.decode,Bt=Oi.encodeAllRaw,Jn=(pe,De,ht="")=>{let ut="",mn;ut+="<"+pe;for(mn in De)Vo(De,mn)&&(ut+=" "+mn+'="'+Bt(De[mn])+'"');return to(ht)&&gn(v.getVoidElements(),pe)?ut+" />":ut+">"+ht+"</"+pe+">"},co=pe=>{let De;const ht=e.createElement("div"),ut=e.createDocumentFragment();for(ut.appendChild(ht),pe&&(ht.innerHTML=pe);De=ht.firstChild;)ut.appendChild(De);return ut.removeChild(ht),ut},xn=(pe,De)=>no(pe,ht=>{const ut=ne.fromDom(ht);return De&&M(ms(ut),mn=>{ko(mn)&&mn.dom.length===0?Oo(mn):kr(ut,mn)}),Oo(ut),ut.dom}),Sn=pe=>no(pe,De=>{const ht=De.attributes;for(let ut=ht.length-1;ut>=0;ut--)De.removeAttributeNode(ht.item(ut))}),So=pe=>T.parse(pe),xo=(pe,De)=>T.serialize(pe,De),Us=pe=>{let De,ht;if(ql!==Ho.DOM&&e===document){if(n[pe])return;n[pe]=!0}ht=e.getElementById("mceDefaultStyles"),ht||(ht=e.createElement("style"),ht.id="mceDefaultStyles",ht.type="text/css",De=e.getElementsByTagName("head")[0],De.firstChild?De.insertBefore(ht,De.firstChild):De.appendChild(ht)),ht.styleSheet?ht.styleSheet.cssText+=pe:ht.appendChild(e.createTextNode(pe))},Wo=pe=>{pe||(pe=""),M(pe.split(","),De=>{s[De]=!0,d.load(De).catch(ye)})},so=(pe,De,ht)=>{no(pe,ut=>{if(dn(ut)){const mn=ne.fromDom(ut),go=De.split(" ");M(go,mo=>{L(ht)?(ht?wa:Tc)(mn,mo):gi(mn,mo)})}})},qo=(pe,De)=>{so(pe,De,!0)},$r=(pe,De)=>{so(pe,De,!1)},Fr=(pe,De)=>{const ht=H(pe),ut=De.split(" ");return ro(ut,mn=>zc(ht,mn))},yr=pe=>{no(pe,De=>Zl(ne.fromDom(De),"display"))},ai=pe=>{no(pe,De=>ns(ne.fromDom(De),"display","none"))},ha=pe=>{const De=H(pe);return Zo(wi(De,"display"),"none")},Kr=pe=>(pe||"mce_")+a++,sc=pe=>{const De=H(pe);return dn(De.dom)?De.dom.outerHTML:ff(De)},ef=(pe,De)=>{no(pe,ht=>{dn(ht)&&(ht.outerHTML=De)})},Gi=(pe,De)=>{const ht=j(De);return no(pe,ut=>{const mn=ht.parentNode,go=ht.nextSibling;return go?mn.insertBefore(ut,go):mn.appendChild(ut),ut})},Ki=(pe,De,ht)=>no(De,ut=>(le(ut)&&(pe=pe.cloneNode(!0)),ht&&Yd(ty(ut.childNodes),mn=>{pe.appendChild(mn)}),ut.parentNode.replaceChild(pe,ut))),ci=(pe,De)=>{let ht;return pe.nodeName!==De.toUpperCase()&&(ht=_n(De),Yd(ve(pe),ut=>{Se(ht,ut.nodeName,se(pe,ut.nodeName))}),Ki(ht,pe,!0)),ht||pe},pd=(pe,De)=>{let ht=pe,ut;for(;ht;){for(ut=De;ut&&ht!==ut;)ut=ut.parentNode;if(ht===ut)break;ht=ht.parentNode}return!ht&&pe.ownerDocument?pe.ownerDocument.documentElement:ht},tf=pe=>{if(dn(pe)){const De=pe.nodeName.toLowerCase()==="a"&&!se(pe,"href")&&se(pe,"id");if(se(pe,"name")||se(pe,"data-mce-bookmark")||De)return!0}return!1},rc=(pe,De)=>{let ht,ut,mn=0;if(tf(pe))return!1;if(pe=pe.firstChild,pe){const go=new ks(pe,pe.parentNode),mo=v?v.getWhitespaceElements():{};De=De||(v?v.getNonEmptyElements():null);do{if(ht=pe.nodeType,dn(pe)){const Ra=pe.getAttribute("data-mce-bogus");if(Ra){pe=go.next(Ra==="all");continue}if(ut=pe.nodeName.toLowerCase(),De&&De[ut]){if(ut==="br"){mn++,pe=go.next();continue}return!1}if(tf(pe))return!1}if(ht===8||ht===3&&!yc(pe.nodeValue)||ht===3&&pe.parentNode&&mo[pe.parentNode.nodeName]&&yc(pe.nodeValue))return!1;pe=go.next()}while(pe)}return mn<=1},ii=()=>e.createRange(),gd=(pe,De,ht)=>{let ut=ii(),mn,go,mo;if(pe&&De)return ut.setStart(pe.parentNode,du(pe)),ut.setEnd(De.parentNode,du(De)),mn=ut.extractContents(),ut=ii(),ut.setStart(De.parentNode,du(De)+1),ut.setEnd(pe.parentNode,du(pe)+1),go=ut.extractContents(),mo=pe.parentNode,mo.insertBefore(uu(ql,mn),pe),ht?mo.insertBefore(ht,pe):mo.insertBefore(De,pe),mo.insertBefore(uu(ql,go),pe),xn(pe),ht||De},li=(pe,De,ht,ut)=>{if(le(pe)){let mn=pe.length;const go=[];for(;mn--;)go[mn]=li(pe[mn],De,ht,ut);return go}else return t.collect&&(pe===e||pe===o)&&y.push([pe,De,ht,ut]),N.bind(pe,De,ht,ut||ql)},Ik=(pe,De,ht)=>{if(le(pe)){let ut=pe.length;const mn=[];for(;ut--;)mn[ut]=Ik(pe[ut],De,ht);return mn}else{if(y.length>0&&(pe===e||pe===o)){let ut=y.length;for(;ut--;){const mn=y[ut];pe===mn[0]&&(!De||De===mn[1])&&(!ht||ht===mn[2])&&N.unbind(mn[0],mn[1],mn[2])}}return N.unbind(pe,De,ht)}},mx=(pe,De,ht)=>N.dispatch(pe,De,ht),Hl=(pe,De,ht)=>N.dispatch(pe,De,ht),Wl=pe=>{if(pe&&dn(pe)){const De=pe.getAttribute("data-mce-contenteditable");return De&&De!=="inherit"?De:pe.contentEditable!=="inherit"?pe.contentEditable:null}else return null},ql={doc:e,settings:t,win:o,files:s,stdMode:i,boxModel:u,styleSheetLoader:d,boundEvents:y,styles:T,schema:v,events:N,isBlock:U,root:null,clone:Be,getRoot:at,getViewPort:Vt,getRect:nn,getSize:bn,getParent:Co,getParents:fo,get:j,getNext:js,getPrev:Nt,select:fn,is:Ht,add:Mt,create:_n,createHTML:Jn,createFragment:co,remove:xn,setStyle:gt,getStyle:Pt,setStyles:Dt,removeAllAttribs:Sn,setAttrib:Se,setAttribs:Qn,getAttrib:se,getPos:lt,parseStyle:So,serializeStyle:xo,addStyle:Us,loadCSS:Wo,addClass:qo,removeClass:$r,hasClass:Fr,toggleClass:so,show:yr,hide:ai,isHidden:ha,uniqueId:Kr,setHTML:Ys,getOuterHTML:sc,setOuterHTML:ef,decode:on,encode:Bt,insertAfter:Gi,replace:Ki,rename:ci,findCommonAncestor:pd,run:no,getAttribs:ve,isEmpty:rc,createRng:ii,nodeIndex:du,split:gd,bind:li,unbind:Ik,fire:Hl,dispatch:mx,getContentEditable:Wl,getContentEditableParent:pe=>{const De=at();let ht=null;for(;pe&&pe!==De&&(ht=Wl(pe),ht===null);pe=pe.parentNode);return ht},destroy:()=>{if(y.length>0){let pe=y.length;for(;pe--;){const De=y[pe];N.unbind(De[0],De[1],De[2])}}Ot(s,(pe,De)=>{d.unload(De),delete s[De]})},isChildOf:(pe,De)=>pe===De||De.contains(pe),dumpRng:pe=>"startContainer: "+pe.startContainer.nodeName+", startOffset: "+pe.startOffset+", endContainer: "+pe.endContainer.nodeName+", endOffset: "+pe.endOffset},Mk=Iw(T,t,Z(ql));return ql};Ho.DOM=Ho(document),Ho.nodeIndex=du;const Qd=Ho.DOM,Mw=0,ny=1,mu=2,Jd=3;class qa{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,o)=>{const s=Qd;let a;const i=()=>{s.remove(y),a&&(a.onerror=a.onload=a=null)},u=()=>{i(),n()},d=()=>{i(),o("Failed to load script: "+t)},y=s.uniqueId();a=document.createElement("script"),a.id=y,a.type="text/javascript",a.src=nt._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=u,a.onerror=d,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)})}isDone(t){return this.states[t]===mu}markDone(t){this.states[t]=mu}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Mw),new Promise((s,a)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:s,reject:a})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,o=(d,y)=>{Vn(n.scriptLoadedCallbacks,y).each(v=>{M(v,T=>T[d](y))}),delete n.scriptLoadedCallbacks[y]},s=d=>{const y=Qe(d,v=>v.status==="rejected");return y.length>0?Promise.reject(Xt(y,({reason:v})=>le(v)?v:[v])):Promise.resolve()},a=d=>Promise.allSettled(W(d,y=>n.states[y]===mu?(o("resolve",y),Promise.resolve()):n.states[y]===Jd?(o("reject",y),Promise.reject(y)):(n.states[y]=ny,n.loadScript(y).then(()=>{n.states[y]=mu,o("resolve",y);const v=n.queue;if(v.length>0)return n.queue=[],a(v).then(s)},()=>(n.states[y]=Jd,o("reject",y),Promise.reject(y)))))),i=d=>(n.loading=!0,a(d).then(y=>{n.loading=!1;const v=n.queueLoadedCallbacks.shift();return w.from(v).each(en),s(y)})),u=Lo(t);return n.loading?new Promise((d,y)=>{n.queueLoadedCallbacks.push(()=>i(u).then(d,y))}):i(u)}}qa.ScriptLoader=new qa;const xs=e=>{let t=e;return{get:()=>t,set:s=>{t=s}}},jw=e=>zt(e)&&gn(e,"raw"),oy=e=>le(e)&&e.length>1,Cl={},Jp=xs("en"),sy=()=>Vn(Cl,Jp.get()),Hr={getData:()=>hn(Cl,e=>({...e})),setCode:e=>{e&&Jp.set(e)},getCode:()=>Jp.get(),add:(e,t)=>{let n=Cl[e];n||(Cl[e]=n={}),Ot(t,(o,s)=>{n[s.toLowerCase()]=o})},translate:e=>{const t=sy().getOr({}),n=i=>Wt(i)?Object.prototype.toString.call(i):o(i)?"":""+i,o=i=>i===""||i===null||i===void 0,s=i=>{const u=n(i);return Vn(t,u.toLowerCase()).map(n).getOr(u)},a=i=>i.replace(/{context:\w+}$/,"");if(o(e))return"";if(jw(e))return n(e.raw);if(oy(e)){const i=e.slice(1),u=s(e[0]).replace(/\{([0-9]+)\}/g,(d,y)=>gn(i,y)?n(i[y]):d);return a(u)}return a(s(e))},isRtl:()=>sy().bind(e=>Vn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>gn(Cl,e)},mr=()=>{const e=[],t={},n={},o=[],s=(j,H)=>{const se=Qe(o,ve=>ve.name===j&&ve.state===H);M(se,ve=>ve.resolve())},a=j=>gn(t,j),i=j=>gn(n,j),u=j=>{if(n[j])return n[j].instance},d=(j,H)=>{const se=Hr.getCode(),ve=","+(H||"")+",";!se||H&&ve.indexOf(","+se+",")===-1||qa.ScriptLoader.add(t[j]+"/langs/"+se+".js")},y=(j,H)=>{mr.languageLoad!==!1&&(a(j)?d(j,H):U(j,"loaded").then(()=>d(j,H)))},v=(j,H)=>(e.push(H),n[j]={instance:H},s(j,"added"),H),T=j=>{delete t[j],delete n[j]},N=(j,H)=>ge(H)?ge(j)?{prefix:"",resource:H,suffix:""}:{prefix:j.prefix,resource:H,suffix:j.suffix}:H,F=(j,H)=>{if(t[j])return Promise.resolve();let se=ge(H)?H:H.prefix+H.resource+H.suffix;se.indexOf("/")!==0&&se.indexOf("://")===-1&&(se=mr.baseURL+"/"+se),t[j]=se.substring(0,se.lastIndexOf("/"));const ve=()=>(s(j,"loaded"),Promise.resolve());return n[j]?ve():qa.ScriptLoader.add(se).then(ve)},U=(j,H="added")=>H==="added"&&i(j)||H==="loaded"&&a(j)?Promise.resolve():new Promise(se=>{o.push({name:j,state:H,resolve:se})});return{items:e,urls:t,lookup:n,get:u,requireLangPack:y,add:v,remove:T,createUrl:N,load:F,waitFor:U}};mr.languageLoad=!0,mr.baseURL="",mr.PluginManager=mr(),mr.ThemeManager=mr(),mr.ModelManager=mr();const cy=e=>{const t=xs(w.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(w.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:u=>{n(),t.set(w.some(u))}}},Hc=()=>{const e=cy(ye);return{...e,on:n=>e.get().each(n)}},Bi=(e,t)=>{let n=null;return{cancel:()=>{it(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{it(n)&&(n=setTimeout(()=>{n=null,e.apply(null,a)},t))}}},em=(e,t)=>{let n=null;const o=()=>{it(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...a)=>{o(),n=setTimeout(()=>{n=null,e.apply(null,a)},t)}}},Af=Z("mce-annotation"),Sl=Z("data-mce-annotation"),pu=Z("data-mce-annotation-uid"),Nf=Z("data-mce-annotation-active"),Rf=Z("data-mce-annotation-classes"),gu=Z("data-mce-annotation-attrs"),iy=e=>t=>_o(t,e),ly=(e,t)=>{const n=e.selection.getRng(),o=ne.fromDom(n.startContainer),s=ne.fromDom(e.getBody()),a=t.fold(()=>"."+Af(),y=>`[${Sl()}="${y}"]`),i=uc(o,n.startOffset).getOr(o),u=ja(i,a,iy(s)),d=(y,v)=>$a(y,v)?w.some(Bs(y,v)):w.none();return u.bind(y=>d(y,`${pu()}`).bind(v=>d(y,`${Sl()}`).map(T=>{const N=Of(e,v);return{uid:v,name:T,elements:N}})))},Df=e=>qn(e)&&zc(e,Af()),uy=(e,t)=>$a(e,"data-mce-bogus")||Sf(e,'[data-mce-bogus="all"]',iy(t)),Of=(e,t)=>{const n=ne.fromDom(e.getBody()),o=wr(n,`[${pu()}="${t}"]`);return Qe(o,s=>!uy(s,n))},tm=(e,t)=>{const n=ne.fromDom(e.getBody()),o=wr(n,`[${Sl()}="${t}"]`),s={};return M(o,a=>{if(!uy(a,n)){const i=Bs(a,pu()),u=Vn(s,i).getOr([]);s[i]=u.concat([a])}}),s},eg=(e,t)=>{const n=xs({}),o=()=>({listeners:[],previous:Hc()}),s=(T,N)=>{a(T,F=>(N(F),F))},a=(T,N)=>{const F=n.get(),U=Vn(F,T).getOrThunk(o),j=N(U);F[T]=j,n.set(F)},i=(T,N,F)=>{s(T,U=>{M(U.listeners,j=>j(!0,T,{uid:N,nodes:W(F,H=>H.dom)}))})},u=T=>{s(T,N=>{M(N.listeners,F=>F(!1,T))})},d=(T,N)=>{M(Of(e,T),F=>{N?ao(F,Nf(),"true"):is(F,Nf())})},y=em(()=>{const T=Qt(t.getNames());M(T,N=>{a(N,F=>{const U=F.previous.get();return ly(e,w.some(N)).fold(()=>{U.each(j=>{u(N),F.previous.clear(),d(j,!1)})},({uid:j,name:H,elements:se})=>{Zo(U,j)||(U.each(ve=>d(ve,!1)),i(H,j,se),F.previous.set(j),d(j,!0))}),{previous:F.previous,listeners:F.listeners}})})},30);return e.on("remove",()=>{y.cancel()}),e.on("NodeChange",()=>{y.throttle()}),{addListener:(T,N)=>{a(T,F=>({previous:F.previous,listeners:F.listeners.concat([N])}))}}},Gs=(e,t)=>{const n=Sl(),o=a=>w.from(a.attr(n)).bind(t.lookup),s=a=>{var i,u;a.attr(pu(),null),a.attr(Sl(),null),a.attr(Nf(),null);const d=w.from(a.attr(gu())).map(N=>N.split(",")).getOr([]),y=w.from(a.attr(Rf())).map(N=>N.split(",")).getOr([]);M(d,N=>a.attr(N,null));const v=(u=(i=a.attr("class"))===null||i===void 0?void 0:i.split(" "))!==null&&u!==void 0?u:[],T=Fe(v,[Af()].concat(y));a.attr("class",T.length>0?T.join(" "):null),a.attr(Rf(),null),a.attr(gu(),null)};e.serializer.addTempAttr(Nf()),e.serializer.addAttributeFilter(n,a=>{for(const i of a)o(i).each(u=>{u.persistent===!1&&(i.name==="span"?i.unwrap():s(i))})})},qw=()=>{const e={};return{register:(s,a)=>{e[s]={name:s,settings:a}},lookup:s=>Vn(e,s).map(a=>a.settings),getNames:()=>ze(e)}};let nm=0;const fy=e=>{const n=new Date().getTime(),o=Math.floor(Math.random()*1e9);return nm++,e+"_"+o+nm+String(n)},Vw=(e,t)=>{M(t,n=>{wa(e,n)})},Wc=(e,t)=>{M(t,n=>{Tc(e,n)})},kc=(e,t)=>ne.fromDom(e.dom.cloneNode(t)),hu=e=>kc(e,!1),tg=e=>kc(e,!0),Gw=(e,t)=>{const n=ne.fromTag(t),o=na(e);return ts(n,o),n},Kw=(e,t)=>{const n=Gw(e,t);ca(e,n);const o=ms(e);return fc(n,o),Oo(e),n},dy=(e,t,n=cn)=>{const o=new ks(e,t),s=a=>{let i;do i=o[a]();while(i&&!Ft(i)&&!n(i));return w.from(i).filter(Ft)};return{current:()=>w.from(o.current()).filter(Ft),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}},$i=(e,t)=>{const n=t||(i=>e.isBlock(i)||ps(i)||os(i)),o=(i,u,d,y)=>{if(Ft(i)){const v=y(i,u,i.data);if(v!==-1)return w.some({container:i,offset:v})}return d().bind(v=>o(v.container,v.offset,d,y))};return{backwards:(i,u,d,y)=>{const v=dy(i,y,n);return o(i,u,()=>v.prev().map(T=>({container:T,offset:T.length})),d).getOrNull()},forwards:(i,u,d,y)=>{const v=dy(i,y,n);return o(i,u,()=>v.next().map(T=>({container:T,offset:0})),d).getOrNull()}}},yu=Math.round,xl=e=>e?{left:yu(e.left),top:yu(e.top),bottom:yu(e.bottom),right:yu(e.right),width:yu(e.width),height:yu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},my=(e,t)=>(e=xl(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),py=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,ng=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,om=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:ng(t.top-e.bottom,e,t)},Fi=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:ng(t.bottom-e.top,e,t),Yw=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,gy=e=>En(e,(t,n)=>t.fold(()=>w.some(n),o=>{const s=Math.min(n.left,o.left),a=Math.min(n.top,o.top),i=Math.max(n.right,o.right),u=Math.max(n.bottom,o.bottom);return w.some({top:a,right:i,bottom:u,left:s,width:i-s,height:u-a})}),w.none()),og=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),s=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-s)*(n-s))},sg=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Xw=(e,t,n)=>Math.min(Math.max(e,t),n),sm=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ii=(e,t)=>{if(dn(e)&&e.hasChildNodes()){const n=e.childNodes,o=Xw(t,0,n.length-1);return n[o]}else return e},Pf=(e,t)=>{if(!(t<0&&dn(e)&&e.hasChildNodes()))return Ii(e,t)},Zw=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),hy=e=>typeof e=="string"&&e.charCodeAt(0)>=768&&Zw.test(e),Qw=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},yy=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},by=dn,ky=$n,rg=xi("display","block table"),Jw=xi("float","left right"),bu=yy(by,ky,kn(Jw)),e_=kn(xi("white-space","pre pre-line pre-wrap")),ku=Ft,ag=ps,wy=Ho.nodeIndex,rm=Pf,cg=e=>"createRange"in e?e.createRange():Ho.DOM.createRng(),am=e=>e&&/[\r\n\t ]/.test(e),_y=e=>!!e.setStart&&!!e.setEnd,ig=e=>{const t=e.startContainer,n=e.startOffset;if(am(e.toString())&&e_(t.parentNode)&&Ft(t)){const o=t.data;if(am(o[n-1])||am(o[n+1]))return!0}return!1},vy=e=>{const t=e.ownerDocument,n=cg(t),o=t.createTextNode(Vs),s=e.parentNode;s.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const a=xl(n.getBoundingClientRect());return s.removeChild(o),a},t_=e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,s=e.endOffset;if(t===n&&Ft(n)&&o===0&&s===1){const a=e.cloneRange();return a.setEndAfter(n),qc(a)}else return null},Cy=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,qc=e=>{let t;const n=e.getClientRects();return n.length>0?t=xl(n[0]):t=xl(e.getBoundingClientRect()),!_y(e)&&ag(e)&&Cy(t)?vy(e):Cy(t)&&_y(e)?t_(e):t},Vc=(e,t)=>{const n=my(e,t);return n.width=1,n.right=n.left+1,n},Sy=e=>{const t=[],n=i=>{i.height!==0&&(t.length>0&&py(i,t[t.length-1])||t.push(i))},o=(i,u)=>{const d=cg(i.ownerDocument);if(u<i.data.length){if(hy(i.data[u]))return t;if(hy(i.data[u-1])&&(d.setStart(i,u),d.setEnd(i,u+1),!ig(d)))return n(Vc(qc(d),!1)),t}u>0&&(d.setStart(i,u-1),d.setEnd(i,u),ig(d)||n(Vc(qc(d),!1))),u<i.data.length&&(d.setStart(i,u),d.setEnd(i,u+1),ig(d)||n(Vc(qc(d),!0)))},s=e.container(),a=e.offset();if(ku(s))return o(s,a),t;if(by(s))if(e.isAtEnd()){const i=rm(s,a);ku(i)&&o(i,i.data.length),bu(i)&&!ag(i)&&n(Vc(qc(i),!1))}else{const i=rm(s,a);if(ku(i)&&o(i,0),bu(i)&&e.isAtEnd())return n(Vc(qc(i),!1)),t;const u=rm(e.container(),e.offset()-1);bu(u)&&!ag(u)&&(rg(u)||rg(i)||!bu(i))&&n(Vc(qc(u),!1)),bu(i)&&n(Vc(qc(i),!0))}return t},je=(e,t,n)=>{const o=()=>(ku(e),t===0),s=()=>ku(e)?t>=e.data.length:t>=e.childNodes.length,a=()=>{const v=cg(e.ownerDocument);return v.setStart(e,t),v.setEnd(e,t),v},i=()=>(n||(n=Sy(je(e,t))),n),u=()=>i().length>0,d=v=>v&&e===v.container()&&t===v.offset(),y=v=>rm(e,v?t-1:t);return{container:Z(e),offset:Z(t),toRange:a,getClientRects:i,isVisible:u,isAtStart:o,isAtEnd:s,isEqual:d,getNode:y}};je.fromRangeStart=e=>je(e.startContainer,e.startOffset),je.fromRangeEnd=e=>je(e.endContainer,e.endOffset),je.after=e=>je(e.parentNode,wy(e)+1),je.before=e=>je(e.parentNode,wy(e)),je.isAbove=(e,t)=>zo(Tn(t.getClientRects()),Pn(e.getClientRects()),om).getOr(!1),je.isBelow=(e,t)=>zo(Pn(t.getClientRects()),Tn(e.getClientRects()),Fi).getOr(!1),je.isAtStart=e=>e?e.isAtStart():!1,je.isAtEnd=e=>e?e.isAtEnd():!1,je.isTextPosition=e=>e?Ft(e.container()):!1,je.isElementPosition=e=>je.isTextPosition(e)===!1;const Bf=(e,t)=>{Ft(t)&&t.data.length===0&&e.remove(t)},n_=(e,t,n)=>{t.insertNode(n),Bf(e,n.previousSibling),Bf(e,n.nextSibling)},xy=(e,t,n)=>{const o=w.from(n.firstChild),s=w.from(n.lastChild);t.insertNode(n),o.each(a=>Bf(e,a.previousSibling)),s.each(a=>Bf(e,a.nextSibling))},Ey=(e,t,n)=>{Ei(n)?xy(e,t,n):n_(e,t,n)},_r=Ft,o_=Oc,El=Ho.nodeIndex,Ty=e=>{const t=e.parentNode;return o_(t)?Ty(t):t},lg=e=>e?G(e.childNodes,(t,n)=>(o_(n)&&n.nodeName!=="BR"?t=t.concat(lg(n)):t.push(n),t),[]):[],zy=(e,t)=>{for(;(e=e.previousSibling)&&_r(e);)t+=e.data.length;return t},Ay=e=>t=>e===t,s_=e=>{let t,n;t=lg(Ty(e)),n=de(t,Ay(e),e),t=t.slice(0,n+1);const o=G(t,(s,a,i)=>(_r(a)&&_r(t[i-1])&&s++,s),0);return t=Zs(t,ia([e.nodeName])),n=de(t,Ay(e),e),n-o},Ny=e=>{let t;return _r(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+s_(e)+"]"},r_=(e,t,n)=>{const o=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)o.push(t);return o},Ry=(e,t)=>{let n,o,s=[],a,i,u;return n=t.container(),o=t.offset(),_r(n)?a=zy(n,o):(i=n.childNodes,o>=i.length?(a="after",o=i.length-1):a="before",n=i[o]),s.push(Ny(n)),u=r_(e,n),u=Zs(u,kn(Oc)),s=s.concat(Mo(u,d=>Ny(d))),s.reverse().join("/")+","+a},a_=(e,t,n)=>{let o=lg(e);return o=Zs(o,(s,a)=>!_r(s)||!_r(o[a-1])),o=Zs(o,ia([t])),o[n]},ug=(e,t)=>{let n=e,o=0,s;for(;_r(n);){if(s=n.data.length,t>=o&&t<=o+s){e=n,t=t-o;break}if(!_r(n.nextSibling)){e=n,t=s;break}o+=s,n=n.nextSibling}return _r(e)&&t>e.data.length&&(t=e.data.length),je(e,t)},fg=(e,t)=>{let n;if(!t)return null;const o=t.split(","),s=o[0].split("/");n=o.length>1?o[1]:"before";const a=G(s,(i,u)=>{const d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return d?(d[1]==="text()"&&(d[1]="#text"),a_(i,d[1],parseInt(d[2],10))):null},e);return a?_r(a)?ug(a,parseInt(n,10)):(n==="after"?n=El(a)+1:n=El(a),je(a.parentNode,n)):null},cm=os,c_=(e,t,n)=>{let o,s;for(s=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&Ft(o);o=o.previousSibling)s+=e(o.data).length;return s},Dy=(e,t,n,o,s)=>{let a=o[s?"startContainer":"endContainer"],i=o[s?"startOffset":"endOffset"];const u=[];let d,y=0;const v=e.getRoot();for(Ft(a)?u.push(n?c_(t,a,i):i):(d=a.childNodes,i>=d.length&&d.length&&(y=1,i=Math.max(0,d.length-1)),u.push(e.nodeIndex(d[i],n)+y));a&&a!==v;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},wu=(e,t,n,o)=>{const s=t.dom,a=Dy(s,e,n,o,!0),i=t.isForward(),u=cu(o)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:a,forward:i,...u};{const d=Dy(s,e,n,o,!1);return{start:a,end:d,forward:i,...u}}},im=(e,t,n)=>{let o=0;return nt.each(e.select(t),s=>{if(s.getAttribute("data-mce-bogus")!=="all"){if(s===n)return!1;o++}}),o},dg=(e,t)=>{let n,o;const s=t?"start":"end";if(n=e[s+"Container"],o=e[s+"Offset"],dn(n)&&n.nodeName==="TR"){const a=n.childNodes;n=a[Math.min(t?o:o-1,a.length-1)],n&&(o=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,o))}},mg=e=>(dg(e,!0),dg(e,!1),e),Oy=(e,t)=>{let n;if(dn(e)&&(e=Ii(e,t),cm(e)))return e;if(xt(e)&&(Ft(e)&&Me(e)&&(e=e.parentNode),n=e.previousSibling,cm(n)||(n=e.nextSibling,cm(n))))return n},i_=e=>Oy(e.startContainer,e.startOffset)||Oy(e.endContainer,e.endOffset),Py=(e,t,n)=>{const o=n.getNode();let s=o?o.nodeName:null;const a=n.getRng();if(cm(o)||s==="IMG")return{name:s,index:im(n.dom,s,o)};const i=i_(a);return i?(s=i.tagName,{name:s,index:im(n.dom,s,i)}):wu(e,n,t,a)},By=e=>{const t=e.getRng();return{start:Ry(e.dom.getRoot(),je.fromRangeStart(t)),end:Ry(e.dom.getRoot(),je.fromRangeEnd(t)),forward:e.isForward()}},DE=e=>({rng:e.getRng(),forward:e.isForward()}),Or=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},$y=(e,t)=>{const n=e.dom;let o=e.getRng();const s=n.uniqueId(),a=e.isCollapsed(),i=e.getNode(),u=i.nodeName,d=e.isForward();if(u==="IMG")return{name:u,index:im(n,u,i)};const y=mg(o.cloneRange());if(!a){y.collapse(!1);const T=Or(n,s+"_end",t);Ey(n,y,T)}o=mg(o),o.collapse(!0);const v=Or(n,s+"_start",t);return Ey(n,o,v),e.moveToBookmark({id:s,keep:!0,forward:d}),{id:s,forward:d}},l_=(e,t,n)=>t===2?Py(E,n,e):t===3?By(e):t?DE(e):$y(e,!1),Fy=et(Py,Pe,!0),Iy=e=>{const t=a=>a(e),n=Z(e),o=()=>s,s={tag:!0,inner:e,fold:(a,i)=>i(e),isValue:wn,isError:cn,map:a=>Pr.value(a(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:a=>{a(e)},toOptional:()=>w.some(e)};return s},lm=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(o,s)=>o(e),isValue:cn,isError:wn,map:t,mapError:o=>Pr.error(o(e)),bind:t,exists:cn,forall:wn,getOr:Pe,or:Pe,getOrThunk:an,orThunk:an,getOrDie:Rn(String(e)),each:ye,toOptional:w.none};return n},Pr={value:Iy,error:lm,fromOption:(e,t)=>e.fold(()=>lm(t),Iy)},wc={generate:e=>{if(!le(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return M(e,(o,s)=>{const a=ze(o);if(a.length!==1)throw new Error("one and only one name per case");const i=a[0],u=o[i];if(n[i]!==void 0)throw new Error("duplicate key detected:"+i);if(i==="cata")throw new Error("cannot have a case named cata (sorry)");if(!le(u))throw new Error("case arguments must be an array");t.push(i),n[i]=(...d)=>{const y=d.length;if(y!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+y);return{fold:(...T)=>{if(T.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+T.length);return T[s].apply(null,d)},match:T=>{const N=ze(T);if(t.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+N.join(","));if(!ro(t,U=>ce(N,U)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+t.join(", "));return T[i].apply(null,d)},log:T=>{console.log(T,{constructors:t,constructor:i,params:d})}}}}),n}};wc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const My=e=>{const t=[],n=[];return M(e,o=>{o.fold(s=>{t.push(s)},s=>{n.push(s)})}),{errors:t,values:n}},jy=e=>e.type==="inline-command"||e.type==="inline-format",um=e=>e.type==="block-command"||e.type==="block-format",u_=e=>Qt(e,(t,n)=>t.start.length===n.start.length?0:t.start.length>n.start.length?-1:1),f_=e=>{const t=o=>Pr.error({message:o,pattern:e}),n=(o,s,a)=>{if(e.format!==void 0){let i;if(le(e.format)){if(!ro(e.format,ge))return t(o+" pattern has non-string items in the `format` array");i=e.format}else if(ge(e.format))i=[e.format];else return t(o+" pattern has non-string `format` parameter");return Pr.value(s(i))}else return e.cmd!==void 0?ge(e.cmd)?Pr.value(a(e.cmd,e.value)):t(o+" pattern has non-string `cmd` parameter"):t(o+" pattern is missing both `format` and `cmd` parameters")};if(!zt(e))return t("Raw pattern is not an object");if(!ge(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ge(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,s=e.end;return s.length===0&&(s=o,o=""),n("Inline",a=>({type:"inline-format",start:o,end:s,format:a}),(a,i)=>({type:"inline-command",start:o,end:s,cmd:a,value:i}))}else return e.replacement!==void 0?ge(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Pr.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",o=>({type:"block-format",start:e.start,format:o[0]}),(o,s)=>({type:"block-command",start:e.start,cmd:o,value:s}))},Br=e=>u_(Qe(e,um)),$f=e=>Qe(e,jy),d_=e=>({inlinePatterns:$f(e),blockPatterns:Br(e)}),m_=e=>{const t=My(W(e,f_));return M(t.errors,n=>console.error(n.message,n.pattern)),t.values},pg=Do().deviceType,p_=pg.isTouch(),g_=Ho.DOM,h_=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return En(t,(n,o)=>{const s=o.split("="),a=s[0],i=s.length>1?s[1]:a;return n[Dn(a)]=Dn(i),n},{})},Uy=e=>ke(e,RegExp),Jt=e=>t=>t.options.get(e),Ff=e=>ge(e)||zt(e),Hy=(e,t="")=>n=>{const o=ge(n);if(o)if(n.indexOf("=")!==-1){const s=h_(n);return{value:Vn(s,e.id).getOr(t),valid:o}}else return{value:n,valid:o};else return{valid:!1,message:"Must be a string."}},y_=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean"}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Hy(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Hy(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const o=ge(n)&&Bn(n);return o?{value:n,valid:o}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const o=ce(["block","linebreak","invert","default"],n);return o?{value:n,valid:o}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>ft(n)?{valid:!0,value:n}:ge(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const o=n===!1||ge(n)||jt(n,ge);return o?ge(n)?{value:W(n.split(","),Dn),valid:o}:le(n)?{value:n,valid:o}:n===!1?{value:[],valid:o}:{value:n,valid:o}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:gm(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const o=ge(n)||jt(n,ge);return o?{value:le(n)?n:W(n.split(","),Dn),valid:o}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const o=ft(n)||ge(n);return o?n===!1||pg.isiPhone()||pg.isiPad()?{value:"",valid:o}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:o}:{valid:!1,message:"Must be boolean or a string"}},default:!p_}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||ge(n)||Wt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("preview_styles",{processor:n=>{const o=n===!1||ge(n);return o?{value:n===!1?"":n,valid:o}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Ff}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Ff}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Ff}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>ge(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>jt(n,zt)||n===!1?{value:m_(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>jt(n,Uy)?{value:n,valid:!0}:Uy(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Hr.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:g_.getAttrib(e.getElement(),"placeholder")})})},b_=Jt("iframe_attrs"),k_=Jt("doctype"),Wy=Jt("document_base_url"),w_=Jt("body_id"),__=Jt("body_class"),qy=Jt("content_security_policy"),fm=Jt("br_in_pre"),fa=Jt("forced_root_block"),If=Jt("forced_root_block_attrs"),v_=Jt("newline_behavior"),C_=Jt("br_newline_selector"),S_=Jt("no_newline_selector"),x_=Jt("keep_styles"),E_=Jt("end_container_on_empty_block"),dm=Jt("automatic_uploads"),mm=Jt("images_reuse_filename"),Vy=Jt("images_replace_blob_uris"),gg=Jt("icons"),Gy=Jt("icons_url"),Ky=Jt("images_upload_url"),T_=Jt("images_upload_base_path"),Yy=Jt("images_upload_credentials"),hg=Jt("images_upload_handler"),pm=Jt("content_css_cors"),yg=Jt("referrer_policy"),Xy=Jt("language"),z_=Jt("language_url"),Zy=Jt("indent_use_margin"),A_=Jt("indentation"),N_=Jt("content_css"),R_=Jt("content_style"),Qy=Jt("font_css"),D_=Jt("directionality"),O_=Jt("inline_boundaries_selector"),Jy=Jt("object_resizing"),P_=Jt("resize_img_proportional"),B_=Jt("placeholder"),eb=Jt("event_root"),$_=Jt("service_message"),_u=Jt("theme"),F_=Jt("theme_url"),bg=Jt("model"),I_=Jt("model_url"),Lf=Jt("inline_boundaries"),L_=Jt("formats"),M_=Jt("preview_styles"),j_=Jt("format_empty_lines"),tb=Jt("custom_ui_selector"),gm=Jt("inline"),Tl=Jt("hidden_input"),U_=Jt("submit_patch"),H_=Jt("add_form_submit_trigger"),W_=Jt("add_unload_trigger"),q_=Jt("custom_undo_redo_levels"),hm=Jt("disable_nodechange"),As=Jt("readonly"),V_=Jt("content_css_cors"),Gc=Jt("plugins"),nb=Jt("external_plugins"),ob=Jt("block_unsupported_drop"),G_=Jt("visual"),K_=Jt("visual_table_class"),sb=Jt("visual_anchor_class"),rb=Jt("iframe_aria_text"),Y_=Jt("setup"),ab=Jt("init_instance_callback"),kg=Jt("urlconverter_callback"),cb=Jt("auto_focus"),ib=Jt("browser_spellcheck"),wg=Jt("protect"),ym=Jt("paste_block_drop"),Kc=Jt("paste_data_images"),Mf=Jt("paste_preprocess"),X_=Jt("paste_postprocess"),lb=Jt("paste_webkit_styles"),Z_=Jt("paste_remove_styles_if_webkit"),Q_=Jt("paste_merge_formats"),J_=Jt("smart_paste"),ub=Jt("paste_as_text"),e0=Jt("paste_tab_spaces"),fb=Jt("allow_html_data_urls"),_g=Jt("text_patterns"),db=Jt("noneditable_class"),t0=Jt("editable_class"),n0=Jt("noneditable_regexp"),o0=e=>nt.explode(e.options.get("font_size_style_values")),jf=e=>nt.explode(e.options.get("font_size_classes")),mb=e=>e.options.get("encoding")==="xml",s0=e=>nt.explode(e.options.get("images_file_types")),zl=Jt("table_tab_navigation"),r0=dn,pb=Ft,gb=e=>{const t=e.parentNode;t&&t.removeChild(e)},hb=e=>{const t=E(e);return{count:e.length-t.length,text:t}},vg=e=>{let t;for(;(t=e.data.lastIndexOf(m))!==-1;)e.deleteData(t,1)},bm=(e,t)=>(Al(e),t),a0=(e,t)=>{const n=hb(e.data.substr(0,t.offset())),o=hb(e.data.substr(t.offset()));return(n.text+o.text).length>0?(vg(e),je(e,t.offset()-n.count)):t},c0=(e,t)=>{const n=t.container(),o=me(ho(n.childNodes),e).map(s=>s<t.offset()?je(n,t.offset()-1):t).getOr(t);return Al(e),o},i0=(e,t)=>pb(e)&&t.container()===e?a0(e,t):bm(e,t),l0=(e,t)=>t.container()===e.parentNode?c0(e,t):bm(e,t),u0=(e,t)=>je.isTextPosition(t)?i0(e,t):l0(e,t),Al=e=>{r0(e)&&xt(e)&&(vn(e)?e.removeAttribute("data-mce-caret"):gb(e)),pb(e)&&(vg(e),e.data.length===0&&gb(e))},f0=os,yb=pc,bb=gl,kb="*[contentEditable=false],video,audio,embed,object",Cg=(e,t,n)=>{const o=my(t.getBoundingClientRect(),n);let s,a;if(e.tagName==="BODY"){const u=e.ownerDocument.documentElement;s=e.scrollLeft||u.scrollLeft,a=e.scrollTop||u.scrollTop}else{const u=e.getBoundingClientRect();s=e.scrollLeft-u.left,a=e.scrollTop-u.top}o.left+=s,o.right+=s,o.top+=a,o.bottom+=a,o.width=1;let i=t.offsetWidth-t.clientWidth;return i>0&&(n&&(i*=-1),o.left+=i,o.right+=i),o},wb=e=>{const t=wr(ne.fromDom(e),kb);for(let n=0;n<t.length;n++){const o=t[n].dom;let s=o.previousSibling;if(Dr(s)){const a=s.data;a.length===1?s.parentNode.removeChild(s):s.deleteData(a.length-1,1)}s=o.nextSibling,or(s)&&(s.data.length===1?s.parentNode.removeChild(s):s.deleteData(0,1))}},km=(e,t,n,o)=>{const s=Hc();let a,i;const u=fa(e),d=e.dom,y=(j,H)=>{let se;if(v(),bb(H))return null;if(n(H)){i=Ko(u,H,j);const ve=Cg(t,H,j);d.setStyle(i,"top",ve.top);const Se=d.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});d.setStyles(Se,{...ve}),d.add(t,Se),s.set({caret:Se,element:H,before:j}),j&&d.addClass(Se,"mce-visual-caret-before"),T(),se=H.ownerDocument.createRange(),se.setStart(i,0),se.setEnd(i,0)}else return i=Ln(H,j),se=H.ownerDocument.createRange(),Nl(i.nextSibling)?(se.setStart(i,0),se.setEnd(i,0)):(se.setStart(i,1),se.setEnd(i,1)),se;return se},v=()=>{wb(t),i&&(Al(i),i=null),s.on(j=>{d.remove(j.caret),s.clear()}),a&&(clearInterval(a),a=void 0)},T=()=>{a=setInterval(()=>{s.on(j=>{o()?d.toggleClass(j.caret,"mce-visual-caret-hidden"):d.addClass(j.caret,"mce-visual-caret-hidden")})},500)};return{show:y,hide:v,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{s.on(j=>{const H=Cg(t,j.element,j.before);d.setStyles(j.caret,{...H})})},destroy:()=>clearInterval(a)}},vu=()=>Gn.browser.isFirefox(),Nl=e=>f0(e)||yb(e),Cu=e=>Nl(e)||Ma(e)&&vu(),d0=la,Sg=os,m0=pc,_b=xi("display","block table table-cell table-caption list-item"),vb=xt,Cb=Me,xg=dn,p0=$n,Su=e=>e>0,Rl=e=>e<0,wm=(e,t)=>{let n;for(;n=e(t);)if(!Cb(n))return n;return null},Uf=(e,t,n,o,s)=>{const a=new ks(e,o),i=Sg(e)||Cb(e);if(Rl(t)){if(i&&(e=wm(a.prev.bind(a),!0),n(e)))return e;for(;e=wm(a.prev.bind(a),s);)if(n(e))return e}if(Su(t)){if(i&&(e=wm(a.next.bind(a),!0),n(e)))return e;for(;e=wm(a.next.bind(a),s);)if(n(e))return e}return null},g0=(e,t)=>{const n=s=>d0(s.dom),o=s=>s.dom===t;return zi(ne.fromDom(e),n,o).map(s=>s.dom).getOr(t)},Li=(e,t)=>{for(;e&&e!==t;){if(_b(e))return e;e=e.parentNode}return null},_c=(e,t,n)=>Li(e.container(),n)===Li(t.container(),n),Eg=(e,t)=>{if(!t)return null;const n=t.container(),o=t.offset();return xg(n)?n.childNodes[o+e]:null},Hf=(e,t)=>{const n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Sb=(e,t,n)=>Li(t,e)===Li(n,e),_m=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";for(;n&&n!==t;){let s=n[o];if(vb(s)&&(s=s[o]),Sg(s)||m0(s)){if(Sb(t,s,n))return s;break}if(p0(s))break;n=n.parentNode}return null},Dl=et(Hf,!0),xu=et(Hf,!1),Wf=(e,t,n)=>{let o;const s=et(_m,!0,t),a=et(_m,!1,t);let i=n.startContainer;const u=n.startOffset;if(Me(i)){xg(i)||(i=i.parentNode);const d=i.getAttribute("data-mce-caret");if(d==="before"&&(o=i.nextSibling,Cu(o)))return Dl(o);if(d==="after"&&(o=i.previousSibling,Cu(o)))return xu(o)}if(!n.collapsed)return n;if(Ft(i)){if(vb(i)){if(e===1){if(o=a(i),o)return Dl(o);if(o=s(i),o)return xu(o)}if(e===-1){if(o=s(i),o)return xu(o);if(o=a(i),o)return Dl(o)}return n}if(Dr(i)&&u>=i.data.length-1)return e===1&&(o=a(i),o)?Dl(o):n;if(or(i)&&u<=1)return e===-1&&(o=s(i),o)?xu(o):n;if(u===i.data.length)return o=a(i),o?Dl(o):n;if(u===0)return o=s(i),o?xu(o):n}return n},Tg=(e,t)=>w.from(Eg(e?0:-1,t)).filter(Sg),Eu=(e,t,n)=>{const o=Wf(e,t,n);return e===-1?je.fromRangeStart(o):je.fromRangeEnd(o)},qf=e=>w.from(e.getNode()).map(ne.fromDom),h0=e=>w.from(e.getNode(!0)).map(ne.fromDom),vm=(e,t)=>{for(;t=e(t);)if(t.isVisible())return t;return t},Vf=(e,t)=>{const n=_c(e,t);return!n&&ps(e.getNode())?!0:n};var Is;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Is||(Is={}));const zg=os,vc=Ft,xb=dn,Ag=ps,Mi=$n,Eb=lu,Cm=Ha,y0=(e,t)=>{const n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n},Tb=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,zb=(e,t)=>{if(Su(e)){if(Mi(t.previousSibling)&&!vc(t.previousSibling))return je.before(t);if(vc(t))return je(t,0)}if(Rl(e)){if(Mi(t.nextSibling)&&!vc(t.nextSibling))return je.after(t);if(vc(t))return je(t,t.data.length)}return Rl(e)?Ag(t)?je.before(t):je.after(t):je.before(t)},vr=(e,t)=>{const n=t.nextSibling;return n&&Mi(n)?vc(n)?je(n,0):je.before(n):Ab(Is.Forwards,je.after(t),e)},Ab=(e,t,n)=>{let o,s,a,i;if(!xb(n)||!t)return null;if(t.isEqual(je.after(n))&&n.lastChild){if(i=je.after(n.lastChild),Rl(e)&&Mi(n.lastChild)&&xb(n.lastChild))return Ag(n.lastChild)?je.before(n.lastChild):i}else i=t;const u=i.container();let d=i.offset();if(vc(u)){if(Rl(e)&&d>0)return je(u,--d);if(Su(e)&&d<u.length)return je(u,++d);o=u}else{if(Rl(e)&&d>0&&(s=Tb(u,d-1),Mi(s)))return!Eb(s)&&(a=Uf(s,e,Cm,s),a)?vc(a)?je(a,a.data.length):je.after(a):vc(s)?je(s,s.data.length):je.before(s);if(Su(e)&&d<u.childNodes.length&&(s=Tb(u,d),Mi(s)))return Ag(s)?vr(n,s):!Eb(s)&&(a=Uf(s,e,Cm,s),a)?vc(a)?je(a,0):je.before(a):vc(s)?je(s,0):je.after(s);o=s||i.getNode()}if((Su(e)&&i.isAtEnd()||Rl(e)&&i.isAtStart())&&(o=Uf(o,e,wn,n,!0),Cm(o,n)))return zb(e,o);s=Uf(o,e,Cm,n);const y=dt(Qe(y0(u,n),zg));return y&&(!s||!y.contains(s))?(Su(e)?i=je.after(y):i=je.before(y),i):s?zb(e,s):null},Wr=e=>({next:t=>Ab(Is.Forwards,t,e),prev:t=>Ab(Is.Backwards,t,e)}),b0=(e,t,n)=>{const o=e?je.before(n):je.after(n);return va(e,t,o)},k0=e=>ps(e)?je.before(e):je.after(e),Nb=e=>je.isTextPosition(e)?e.offset()===0:$n(e.getNode()),Rb=e=>{if(je.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return $n(e.getNode(!0))},Db=(e,t)=>!je.isTextPosition(e)&&!je.isTextPosition(t)&&e.getNode()===t.getNode(!0),Ob=e=>!je.isTextPosition(e)&&ps(e.getNode()),Ng=(e,t,n)=>e?!Db(t,n)&&!Ob(t)&&Rb(t)&&Nb(n):!Db(n,t)&&Nb(t)&&Rb(n),va=(e,t,n)=>{const o=Wr(t);return w.from(e?o.next(n):o.prev(n))},Sm=(e,t,n)=>va(e,t,n).bind(o=>_c(n,o,t)&&Ng(e,n,o)?va(e,t,o):w.some(o)),Tu=(e,t,n,o)=>Sm(e,t,n).bind(s=>o(s)?Tu(e,t,s,o):w.some(s)),Ol=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Ft(n)?w.some(je(n,e?0:n.data.length)):n?$n(n)?w.some(e?je.before(n):k0(n)):b0(e,t,n):w.none()},Ca=et(va,!0),tc=et(va,!1),Cr=et(Ol,!0),Va=et(Ol,!1),w0="_mce_caret",da=e=>dn(e)&&e.id===w0,zu=(e,t)=>{for(;t&&t!==e;){if(t.id===w0)return t;t=t.parentNode}return null},Pb=e=>ge(e.start),Bb=e=>gn(e,"rng"),xm=e=>gn(e,"id"),$b=e=>gn(e,"name"),Rg=e=>nt.isArray(e.start),Em=e=>!$b(e)&&ft(e.forward)?e.forward:!0,Tm=(e,t)=>(dn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Fb=(e,t)=>{const n=e.createRng(),o=fg(e.getRoot(),t.start);n.setStart(o.container(),o.offset());const s=fg(e.getRoot(),t.end);return n.setEnd(s.container(),s.offset()),{range:n,forward:Em(t)}},Au=(e,t)=>{const n=e.ownerDocument.createTextNode(m);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Gf=e=>e.hasChildNodes()===!1,_0=(e,t)=>Va(e).fold(cn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),Dg=(e,t,n)=>Gf(t)&&zu(e,t)?(Au(t,n),!0):!1,v0=(e,t,n,o)=>{const s=n[t?"start":"end"];let a,i,u,d;const y=e.getRoot();if(s){for(u=s[0],i=y,a=s.length-1;a>=1;a--){if(d=i.childNodes,Dg(y,i,o))return!0;if(s[a]>d.length-1)return Dg(y,i,o)?!0:_0(i,o);i=d[s[a]]}i.nodeType===3&&(u=Math.min(s[0],i.nodeValue.length)),i.nodeType===1&&(u=Math.min(s[0],i.childNodes.length)),t?o.setStart(i,u):o.setEnd(i,u)}return!0},Ib=e=>Ft(e)&&e.data.length>0,Og=(e,t,n)=>{let o=e.get(n.id+"_"+t),s,a,i,u;const d=n.keep;let y,v;if(o){if(s=o.parentNode,t==="start"?(d?o.hasChildNodes()?(s=o.firstChild,a=1):Ib(o.nextSibling)?(s=o.nextSibling,a=0):Ib(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=o.parentNode,a=e.nodeIndex(o)+1):a=e.nodeIndex(o),y=s,v=a):(d?o.hasChildNodes()?(s=o.firstChild,a=1):Ib(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=o.parentNode,a=e.nodeIndex(o)):a=e.nodeIndex(o),y=s,v=a),!d){for(u=o.previousSibling,i=o.nextSibling,nt.each(nt.grep(o.childNodes),T=>{Ft(T)&&(T.nodeValue=T.nodeValue.replace(/\uFEFF/g,""))});o=e.get(n.id+"_"+t);)e.remove(o,!0);u&&i&&u.nodeType===i.nodeType&&Ft(u)&&!Gn.browser.isOpera()&&(a=u.nodeValue.length,u.appendData(i.nodeValue),e.remove(i),y=u,v=a)}return w.some(je(y,v))}else return w.none()},Pg=(e,t)=>{const n=e.createRng();return v0(e,!0,t,n)&&v0(e,!1,t,n)?w.some({range:n,forward:Em(t)}):w.none()},C0=(e,t)=>{const n=Og(e,"start",t),o=Og(e,"end",t);return zo(n,o.or(n),(s,a)=>{const i=e.createRng();return i.setStart(Tm(e,s.container()),s.offset()),i.setEnd(Tm(e,a.container()),a.offset()),{range:i,forward:Em(t)}})},S0=(e,t)=>w.from(e.select(t.name)[t.index]).map(n=>{const o=e.createRng();return o.selectNode(n),{range:o,forward:!0}}),Lb=(e,t)=>{const n=e.dom;if(t){if(Rg(t))return Pg(n,t);if(Pb(t))return w.some(Fb(n,t));if(xm(t))return C0(n,t);if($b(t))return S0(n,t);if(Bb(t))return w.some({range:t.rng,forward:Em(t)})}return w.none()},x0=(e,t,n)=>l_(e,t,n),E0=(e,t)=>{Lb(e,t).each(({range:n,forward:o})=>{e.setRng(n,o)})},ma=e=>dn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Pl=(e=>t=>e===t)(Vs),Nu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,zm=e=>!Nu(e)&&!Pl(e)&&!ru(e),z0=e=>({value:e}),Bg=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},A0=e=>{const t=Bg(e.red)+Bg(e.green)+Bg(e.blue);return z0(t)},Am=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,N0=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Mb=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),R0=(e,t,n,o)=>{const s=parseInt(e,10),a=parseInt(t,10),i=parseInt(n,10),u=parseFloat(o);return Mb(s,a,i,u)},PE=e=>{if(e==="transparent")return w.some(Mb(0,0,0,0));const t=Am.exec(e);if(t!==null)return w.some(R0(t[1],t[2],t[3],"1"));const n=N0.exec(e);return n!==null?w.some(R0(n[1],n[2],n[3],n[4])):w.none()},Yc=e=>PE(e).map(A0).map(t=>"#"+t.value).getOr(e),Nm=e=>!!e.nodeType,D0=e=>e&&/^(IMG)$/.test(e.nodeName),jb=(e,t,n)=>{const o=n.startOffset;let s=n.startContainer;if(!(s===n.endContainer&&D0(s.childNodes[o]))&&dn(s)){const a=s.childNodes;let i;o<a.length?(s=a[o],i=new ks(s,e.getParent(s,e.isBlock))):(s=a[a.length-1],i=new ks(s,e.getParent(s,e.isBlock)),i.next(!0));for(let u=i.current();u;u=i.next())if(Ft(u)&&!$g(u)){n.setStart(u,0),t.setRng(n);return}}},Rm=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(dn(e)||!$g(e))return e}},Kf=(e,t)=>(Nm(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]),Ru=(e,t,n)=>e.schema.isValidChild(t,n),$g=(e,t=!1)=>{if(L(e)&&Ft(e)){const n=t?e.data.replace(/ /g,"\xA0"):e.data;return yc(n)}else return!1},O0=e=>L(e)&&Ft(e)&&e.length===0,Xc=(e,t)=>(Wt(e)?e=e(t):L(t)&&(e=e.replace(/%(\w+)/g,(n,o)=>t[o]||n)),e),Fg=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Du=(e,t)=>((t==="color"||t==="backgroundColor")&&(e=Yc(e)),t==="fontWeight"&&e===700&&(e="bold"),t==="fontFamily"&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e),Bl=(e,t,n)=>Du(e.getStyle(t,n),n),Ig=(e,t)=>{let n;return e.getParent(t,o=>(n=e.getStyle(o,"text-decoration"),n&&n!=="none")),n},Dm=(e,t,n)=>e.getParents(t,n,e.getRoot()),P0=(e,t)=>{const n=o=>{const s=a=>a.length>1&&a.charAt(0)==="%";return Ce(["styles","attributes"],a=>Vn(o,a).exists(i=>{const u=le(i)?i:rs(i);return Ce(u,s)}))};return Ce(e.formatter.get(t),n)},B0=(e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],s=a=>cs(a,(i,u)=>Ce(o,d=>d===u));return Ce(e.formatter.get(t),a=>{const i=s(a);return Ce(e.formatter.get(n),u=>{const d=s(u);return lo(i,d)})})},Sa=e=>Vo(e,"block"),qr=e=>Vo(e,"selector"),Ls=e=>Vo(e,"inline"),Ub=e=>qr(e)&&Ls(e)&&Zo(Vn(e,"mixed"),!0),Zc=e=>qr(e)&&e.expand!==!1&&!Ls(e),Ou=ma,nc=Dm,Hb=$g,Wb=Kf,$0=e=>ps(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,F0=(e,t)=>{let n=t;for(;n;){if(dn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},qb=(e,t,n,o)=>{const s=t.data;for(let a=n;e?a>=0:a<s.length;e?a--:a++)if(o(s.charAt(a)))return e?a+1:a;return-1},I0=(e,t,n)=>qb(e,t,n,o=>Pl(o)||Nu(o)),L0=(e,t,n)=>qb(e,t,n,zm),Vb=(e,t,n,o,s,a)=>{let i;const u=e.getParent(n,e.isBlock)||t,d=(v,T,N)=>{const F=$i(e),U=s?F.backwards:F.forwards;return w.from(U(v,T,(j,H)=>Ou(j.parentNode)?-1:(i=j,N(s,j,H)),u))};return d(n,o,I0).bind(v=>a?d(v.container,v.offset+(s?-1:0),L0):w.some(v)).orThunk(()=>i?w.some({container:i,offset:s?0:i.length}):w.none())},Om=(e,t,n,o,s)=>{Ft(o)&&to(o.data)&&o[s]&&(o=o[s]);const a=nc(e,o);for(let i=0;i<a.length;i++)for(let u=0;u<t.length;u++){const d=t[u];if(!(L(d.collapsed)&&d.collapsed!==n.collapsed)&&qr(d)&&e.is(a[i],d.selector))return a[i]}return o},Gb=(e,t,n,o)=>{let s=n;const a=e.dom,i=a.getRoot(),u=t[0];if(Sa(u)&&(s=u.wrapper?null:a.getParent(n,u.block,i)),!s){const d=a.getParent(n,"LI,TD,TH");s=a.getParent(Ft(n)?n.parentNode:n,y=>y!==i&&Wb(e,y),d)}if(s&&Sa(u)&&u.wrapper&&(s=nc(a,s,"ul,ol").reverse()[0]||s),!s)for(s=n;s[o]&&!a.isBlock(s[o])&&(s=s[o],!Fg(s,"br")););return s||n},Lg=(e,t,n,o)=>{const s=n.parentNode;return L(n[o])?!1:s===t||Ve(s)||e.isBlock(s)?!0:Lg(e,t,s,o)},Pu=(e,t,n,o,s)=>{let a=n;const i=s?"previousSibling":"nextSibling",u=e.getRoot();if(Ft(n)&&!Hb(n)&&(s?o>0:o<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let d=a[i];d;d=d[i]){const y=Ft(d)&&!Lg(e,u,d,i);if(!Ou(d)&&!$0(d)&&!Hb(d,y))return a}if(a===u||a.parentNode===u){n=a;break}a=a.parentNode}return n},Kb=e=>Ou(e.parentNode)||Ou(e),Bu=(e,t,n,o=!1)=>{let{startContainer:s,startOffset:a,endContainer:i,endOffset:u}=t;const d=e.dom,y=n[0];return dn(s)&&s.hasChildNodes()&&(s=Ii(s,a),Ft(s)&&(a=0)),dn(i)&&i.hasChildNodes()&&(i=Ii(i,t.collapsed?u:u-1),Ft(i)&&(u=i.nodeValue.length)),s=F0(d,s),i=F0(d,i),Kb(s)&&(s=Ou(s)?s:s.parentNode,t.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,Ft(s)&&(a=t.collapsed?s.length:0)),Kb(i)&&(i=Ou(i)?i:i.parentNode,t.collapsed?i=i.nextSibling||i:i=i.previousSibling||i,Ft(i)&&(u=t.collapsed?0:i.length)),t.collapsed&&(Vb(d,e.getBody(),s,a,!0,o).each(({container:N,offset:F})=>{s=N,a=F}),Vb(d,e.getBody(),i,u,!1,o).each(({container:N,offset:F})=>{i=N,u=F})),(Ls(y)||y.block_expand)&&((!Ls(y)||!Ft(s)||a===0)&&(s=Pu(d,n,s,a,!0)),(!Ls(y)||!Ft(i)||u===i.nodeValue.length)&&(i=Pu(d,n,i,u,!1))),Zc(y)&&(s=Om(d,n,t,s,"previousSibling"),i=Om(d,n,t,i,"nextSibling")),(Sa(y)||qr(y))&&(s=Gb(e,n,s,"previousSibling"),i=Gb(e,n,i,"nextSibling"),Sa(y)&&(d.isBlock(s)||(s=Pu(d,n,s,a,!0)),d.isBlock(i)||(i=Pu(d,n,i,u,!1)))),dn(s)&&(a=d.nodeIndex(s),s=s.parentNode),dn(i)&&(u=d.nodeIndex(i)+1,i=i.parentNode),{startContainer:s,startOffset:a,endContainer:i,endOffset:u}},$l=(e,t,n)=>{const o=t.startOffset,s=Ii(t.startContainer,o),a=t.endOffset,i=Ii(t.endContainer,a-1),u=j=>{const H=j[0];Ft(H)&&H===s&&o>=H.data.length&&j.splice(0,1);const se=j[j.length-1];return a===0&&j.length>0&&se===i&&Ft(se)&&j.splice(j.length-1,1),j},d=(j,H,se)=>{const ve=[];for(;j&&j!==se;j=j[H])ve.push(j);return ve},y=(j,H)=>e.getParent(j,se=>se.parentNode===H,H),v=(j,H,se)=>{const ve=se?"nextSibling":"previousSibling";for(let Se=j,Be=Se.parentNode;Se&&Se!==H;Se=Be){Be=Se.parentNode;const at=d(Se===j?Se:Se[ve],ve);at.length&&(se||at.reverse(),n(u(at)))}};if(s===i)return n(u([s]));const T=e.findCommonAncestor(s,i);if(e.isChildOf(s,i))return v(s,T,!0);if(e.isChildOf(i,s))return v(i,T);const N=y(s,T)||s,F=y(i,T)||i;v(s,N,!0);const U=d(N===s?N:N.nextSibling,"nextSibling",F===i?F.nextSibling:F);U.length&&n(u(U)),v(i,F)},Pm=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Yb=e=>Xt(e,t=>{const n=sm(t);return n?[ne.fromDom(n)]:[]}),M0=e=>Pm(e).length>1,j0=e=>Qe(Yb(e),ou),U0=e=>wr(e,"td[data-mce-selected],th[data-mce-selected]"),Mg=(e,t)=>{const n=U0(t);return n.length>0?n:j0(e)},Fl=e=>Mg(Pm(e.selection.getSel()),ne.fromDom(e.getBody())),Yf=(e,t)=>Ai(e,"table",t),H0=e=>{const t=e.startContainer,n=e.startOffset;return Ft(t)?n===0?w.some(ne.fromDom(t)):w.none():w.from(t.childNodes[n]).map(ne.fromDom)},Xb=e=>{const t=e.endContainer,n=e.endOffset;return Ft(t)?n===t.data.length?w.some(ne.fromDom(t)):w.none():w.from(t.childNodes[n-1]).map(ne.fromDom)},Bm=e=>al(e).fold(Z([e]),t=>[e].concat(Bm(t))),jg=e=>ki(e).fold(Z([e]),t=>tn(t)==="br"?Ia(t).map(n=>[e].concat(jg(n))).getOr([]):[e].concat(jg(t))),$u=(e,t)=>zo(H0(t),Xb(t),(n,o)=>{const s=oo(Bm(e),et(_o,n)),a=oo(jg(e),et(_o,o));return s.isSome()&&a.isSome()}).getOr(!1),$m=(e,t,n,o)=>{const s=n,a=new ks(n,s),i=cs(e.schema.getMoveCaretBeforeOnEnterElements(),(u,d)=>!ce(["td","th","table"],d.toLowerCase()));do{if(Ft(n)&&nt.trim(n.nodeValue).length!==0){o?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(i[n.nodeName]){o?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=o?a.next():a.prev());s.nodeName==="BODY"&&(o?t.setStart(s,0):t.setEnd(s,s.childNodes.length))},Fm=e=>{const t=e.selection.getSel();return t&&t.rangeCount>0},Im=(e,t)=>{const n=Fl(e);n.length>0?M(n,o=>{const s=o.dom,a=e.dom.createRng();a.setStartBefore(s),a.setEndAfter(s),t(a,!0)}):t(e.selection.getRng(),!1)},Lm=(e,t,n)=>{const o=$y(e,t);n(o),e.moveToBookmark(o)},Fu=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Ug=e=>ko(e)&&Fc(e)===m,Mm=(e,t,n,o)=>nr(t).fold(()=>"skipping",s=>o==="br"||Ug(t)?"valid":Df(t)?"existing":da(t.dom)?"caret":Ce(Fu,a=>aa(t,a))?"valid-block":!Ru(e,n,o)||!Ru(e,tn(s),n)?"invalid-child":"valid"),jm=(e,t)=>{const n=Bu(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Zb=(e,t,n,o,s,a)=>{const{uid:i=t,...u}=n;wa(e,Af()),ao(e,`${pu()}`,i),ao(e,`${Sl()}`,o);const{attributes:d={},classes:y=[]}=s(i,u);if(ts(e,d),Vw(e,y),a){y.length>0&&ao(e,`${Rf()}`,y.join(","));const v=ze(d);v.length>0&&ao(e,`${gu()}`,v.join(","))}},W0=e=>{Tc(e,Af()),is(e,`${pu()}`),is(e,`${Sl()}`),is(e,`${Nf()}`);const t=ta(e,`${gu()}`).map(o=>o.split(",")).getOr([]),n=ta(e,`${Rf()}`).map(o=>o.split(",")).getOr([]);M(t,o=>is(e,o)),Wc(e,n),is(e,`${Rf()}`),is(e,`${gu()}`)},Qb=(e,t,n,o,s)=>{const a=ne.fromTag("span",e);return Zb(a,t,n,o,s,!1),a},q0=(e,t,n,o,s,a)=>{const i=[],u=Qb(e.getDoc(),n,a,o,s),d=Hc(),y=()=>{d.clear()},v=()=>d.get().getOrThunk(()=>{const U=hu(u);return i.push(U),d.set(U),U}),T=U=>{M(U,N)},N=U=>{switch(Mm(e,U,"span",tn(U))){case"invalid-child":{y();const H=ms(U);T(H),y();break}case"valid-block":{y(),Zb(U,n,a,o,s,!0);break}case"valid":{const H=v();vd(U,H);break}}},F=U=>{const j=W(U,ne.fromDom);T(j)};return $l(e.dom,t,U=>{y(),F(U)}),i},Um=(e,t,n,o)=>{e.undoManager.transact(()=>{const s=e.selection,a=s.getRng(),i=Fl(e).length>0,u=fy("mce-annotation");if(a.collapsed&&!i&&jm(e,a),s.getRng().collapsed&&!i){const d=Qb(e.getDoc(),u,o,t,n.decorate);_i(d,Vs),s.getRng().insertNode(d.dom),s.select(d.dom)}else Lm(s,!1,()=>{Im(e,d=>{q0(e,d,u,t,n.decorate,o)})})})},Jb=e=>{const t=qw();Gs(e,t);const n=eg(e,t),o=Xa("span"),s=a=>{M(a,i=>{o(i)?zs(i):W0(i)})};return{register:(a,i)=>{t.register(a,i)},annotate:(a,i)=>{t.lookup(a).each(u=>{Um(e,a,u,i)})},annotationChanged:(a,i)=>{n.addListener(a,i)},remove:a=>{const i=e.selection.getBookmark();ly(e,w.some(a)).each(({elements:u})=>{s(u)}),e.selection.moveToBookmark(i)},removeAll:a=>{const i=e.selection.getBookmark();Ot(tm(e,a),(u,d)=>{s(u)}),e.selection.moveToBookmark(i)},getAll:a=>{const i=tm(e,a);return hn(i,u=>W(u,d=>d.dom))}}},Xf=e=>({getBookmark:et(x0,e),moveToBookmark:et(E0,e)});Xf.isBookmarkNode=ma;const e1=(e,t,n)=>n.collapsed?!1:Ce(n.getClientRects(),o=>Yw(o,e,t)),V0=(e,t)=>e.dispatch("PreProcess",t),G0=(e,t)=>e.dispatch("PostProcess",t),K0=e=>e.dispatch("remove"),Y0=e=>e.dispatch("detach"),Iu=(e,t)=>e.dispatch("SwitchMode",{mode:t}),X0=(e,t,n,o,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:s})},Z0=(e,t,n,o,s)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:s})},Q0=e=>e.dispatch("PreInit"),J0=e=>e.dispatch("PostRender"),Hm=e=>e.dispatch("Init"),ev=(e,t)=>e.dispatch("PlaceholderToggle",{state:t}),t1=(e,t,n)=>e.dispatch(t,n),n1=(e,t,n,o)=>e.dispatch("FormatApply",{format:t,node:n,vars:o}),Hg=(e,t,n,o)=>e.dispatch("FormatRemove",{format:t,node:n,vars:o}),Wm=(e,t)=>e.dispatch("BeforeSetContent",t),Wg=(e,t)=>e.dispatch("SetContent",t),qg=(e,t)=>e.dispatch("BeforeGetContent",t),o1=(e,t)=>e.dispatch("GetContent",t),s1=(e,t)=>e.dispatch("AutocompleterStart",t),r1=(e,t)=>e.dispatch("AutocompleterUpdate",t),a1=e=>e.dispatch("AutocompleterEnd"),c1=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),tv=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Vg=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),sn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||sn.metaKeyPressed(e),metaKeyPressed:e=>Gn.os.isMacOS()||Gn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ji="data-mce-selected",nv="table,img,figure.image,hr,video,span.mce-preview-object",i1=Math.abs,qm=Math.round,Zf={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Lu=e=>e.type==="longpress"||e.type.indexOf("touch")===0,l1=(e,t)=>{const n=t.dom,o=t.getDoc(),s=document,a=t.getBody();let i,u,d,y,v,T,N,F,U,j,H,se,ve,Se,Be,at,Vt;const lt=Bt=>L(Bt)&&(Td(Bt)||n.is(Bt,"figure.image")),gt=Bt=>pc(Bt)||n.hasClass(Bt,"mce-preview-object"),Dt=(Bt,Jn)=>{if(Lu(Bt)){const co=Bt.touches[0];return lt(Bt.target)&&!e1(co.clientX,co.clientY,Jn)}else return lt(Bt.target)&&!e1(Bt.clientX,Bt.clientY,Jn)},Pt=Bt=>{const Jn=Bt.target;Dt(Bt,t.selection.getRng())&&!Bt.isDefaultPrevented()&&t.selection.select(Jn)},bn=Bt=>n.is(Bt,"figure.image")?[Bt.querySelector("img")]:n.hasClass(Bt,"mce-preview-object")&&L(Bt.firstElementChild)?[Bt,Bt.firstElementChild]:[Bt],nn=Bt=>{const Jn=Jy(t);return!Jn||Bt.getAttribute("data-mce-resize")==="false"||Bt===t.getBody()?!1:n.hasClass(Bt,"mce-preview-object")?aa(ne.fromDom(Bt.firstElementChild),Jn):aa(ne.fromDom(Bt),Jn)},Ht=Bt=>gt(Bt)?n.create("img",{src:Gn.transparentSrc}):Bt.cloneNode(!0),fo=(Bt,Jn,co)=>{if(L(co)){const xn=bn(Bt);M(xn,Sn=>{Sn.style[Jn]||!t.schema.isValid(Sn.nodeName.toLowerCase(),Jn)?n.setStyle(Sn,Jn,co):n.setAttrib(Sn,Jn,""+co)})}},Co=(Bt,Jn,co)=>{fo(Bt,"width",Jn),fo(Bt,"height",co)},Io=Bt=>{let Jn,co,xn,Sn,So;Jn=Bt.screenX-T,co=Bt.screenY-N,Se=Jn*y[2]+j,Be=co*y[3]+H,Se=Se<5?5:Se,Be=Be<5?5:Be,(lt(i)||gt(i))&&P_(t)!==!1?xn=!sn.modifierPressed(Bt):xn=sn.modifierPressed(Bt),xn&&(i1(Jn)>i1(co)?(Be=qm(Se*se),Se=qm(Be/se)):(Se=qm(Be/se),Be=qm(Se*se))),Co(u,Se,Be),Sn=y.startPos.x+Jn,So=y.startPos.y+co,Sn=Sn>0?Sn:0,So=So>0?So:0,n.setStyles(d,{left:Sn,top:So,display:"block"}),d.innerHTML=Se+" &times; "+Be,y[2]<0&&u.clientWidth<=Se&&n.setStyle(u,"left",F+(j-Se)),y[3]<0&&u.clientHeight<=Be&&n.setStyle(u,"top",U+(H-Be)),Jn=a.scrollWidth-at,co=a.scrollHeight-Vt,Jn+co!==0&&n.setStyles(d,{left:Sn-Jn,top:So-co}),ve||(X0(t,i,j,H,"corner-"+y.name),ve=!0)},js=()=>{const Bt=ve;ve=!1,Bt&&(fo(i,"width",Se),fo(i,"height",Be)),n.unbind(o,"mousemove",Io),n.unbind(o,"mouseup",js),s!==o&&(n.unbind(s,"mousemove",Io),n.unbind(s,"mouseup",js)),n.remove(u),n.remove(d),n.remove(v),Nt(i),Bt&&(Z0(t,i,Se,Be,"corner-"+y.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},Nt=Bt=>{Mt();const Jn=n.getPos(Bt,a),co=Jn.x,xn=Jn.y,Sn=Bt.getBoundingClientRect(),So=Sn.width||Sn.right-Sn.left,xo=Sn.height||Sn.bottom-Sn.top;i!==Bt&&(no(),i=Bt,Se=Be=0);const Us=t.dispatch("ObjectSelected",{target:Bt});nn(Bt)&&!Us.isDefaultPrevented()?Ot(Zf,(Wo,so)=>{let qo;const $r=Fr=>{const yr=bn(i)[0];T=Fr.screenX,N=Fr.screenY,j=yr.clientWidth,H=yr.clientHeight,se=H/j,y=Wo,y.name=so,y.startPos={x:So*Wo[0]+co,y:xo*Wo[1]+xn},at=a.scrollWidth,Vt=a.scrollHeight,v=n.add(a,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=Ht(i),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:co,top:xn,margin:0}),Co(u,So,xo),u.removeAttribute(ji),a.appendChild(u),n.bind(o,"mousemove",Io),n.bind(o,"mouseup",js),s!==o&&(n.bind(s,"mousemove",Io),n.bind(s,"mouseup",js)),d=n.add(a,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},j+" &times; "+H)};qo=n.get("mceResizeHandle"+so),qo&&n.remove(qo),qo=n.add(a,"div",{id:"mceResizeHandle"+so,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+so+"-resize; margin:0; padding:0"}),n.bind(qo,"mousedown",Fr=>{Fr.stopImmediatePropagation(),Fr.preventDefault(),$r(Fr)}),Wo.elm=qo,n.setStyles(qo,{left:So*Wo[0]+co-qo.offsetWidth/2,top:xo*Wo[1]+xn-qo.offsetHeight/2})}):no(!1)},fn=Bi(Nt,0),no=(Bt=!0)=>{fn.cancel(),Mt(),i&&Bt&&i.removeAttribute(ji),Ot(Zf,(Jn,co)=>{const xn=n.get("mceResizeHandle"+co);xn&&(n.unbind(xn),n.remove(xn))})},Qn=(Bt,Jn)=>L(Bt)&&n.isChildOf(Bt,Jn),Ys=Bt=>{if(ve||t.removed||t.composing)return;const Jn=Bt.type==="mousedown"?Bt.target:e.getNode(),co=ja(ne.fromDom(Jn),nv).map(Sn=>Sn.dom).getOrUndefined(),xn=L(co)?n.getAttrib(co,ji,"1"):"1";if(M(n.select(`img[${ji}],hr[${ji}]`),Sn=>{Sn.removeAttribute(ji)}),Qn(co,a)){_n();const Sn=e.getStart(!0);if(Qn(Sn,co)&&Qn(e.getEnd(!0),co)){n.setAttrib(co,ji,xn),fn.throttle(co);return}}no()},Mt=()=>{Ot(Zf,Bt=>{Bt.elm&&(n.unbind(Bt.elm),delete Bt.elm)})},_n=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{_n(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ys),t.on("keyup compositionend",Bt=>{i&&i.nodeName==="TABLE"&&Ys(Bt)}),t.on("hide blur",no),t.on("contextmenu longpress",Pt,!0)}),t.on("remove",Mt),{isResizable:nn,showResizeRect:Nt,hideResizeRect:no,updateResizeRect:Ys,destroy:()=>{fn.cancel(),i=u=v=null}}},ov=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,o)=>{e.setStart(n.dom,o)},n=>{e.setStartAfter(n.dom)})},sv=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,o)=>{e.setEnd(n.dom,o)},n=>{e.setEndAfter(n.dom)})},Vm=(e,t,n)=>{const o=e.document.createRange();return ov(o,t),sv(o,n),o},Gg=(e,t,n,o,s)=>{const a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(o.dom,s),a},Qf=wc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jf=(e,t,n)=>t(ne.fromDom(n.startContainer),n.startOffset,ne.fromDom(n.endContainer),n.endOffset),rv=(e,t)=>t.match({domRange:n=>({ltr:Z(n),rtl:w.none}),relative:(n,o)=>({ltr:rn(()=>Vm(e,n,o)),rtl:rn(()=>w.some(Vm(e,o,n)))}),exact:(n,o,s,a)=>({ltr:rn(()=>Gg(e,n,o,s,a)),rtl:rn(()=>w.some(Gg(e,s,a,n,o)))})}),av=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(s=>s.collapsed===!1).map(s=>Qf.rtl(ne.fromDom(s.endContainer),s.endOffset,ne.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>Jf(e,Qf.ltr,n)):Jf(e,Qf.ltr,n)},cv=(e,t)=>{const n=rv(e,t);return av(e,n)};Qf.ltr,Qf.rtl;const u1={create:(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o})},iv=(e,t,n)=>{var o,s;return w.from((s=(o=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(o,t,n)).bind(a=>{if(a.offsetNode===null)return w.none();const i=e.dom.createRange();return i.setStart(a.offsetNode,a.offset),i.collapse(),w.some(i)})},Kg=(e,t,n)=>{var o,s;return w.from((s=(o=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(o,t,n))},lv=(()=>document.caretPositionFromPoint?iv:document.caretRangeFromPoint?Kg:w.none)(),uv=(e,t,n)=>{const o=ne.fromDom(e.document);return lv(o,t,n).map(s=>u1.create(ne.fromDom(s.startContainer),s.startOffset,ne.fromDom(s.endContainer),s.endOffset))},Yg=wc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),BE=(e,t,n,o)=>e.fold(t,n,o),$E=e=>e.fold(Pe,Pe,Pe),fv=Yg.before,dv=Yg.on,mv=Yg.after,Qc={before:fv,on:dv,after:mv,cata:BE,getStart:$E},Gm=wc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pv=e=>Gm.exact(e.start,e.soffset,e.finish,e.foffset),gv=e=>e.match({domRange:t=>ne.fromDom(t.startContainer),relative:(t,n)=>Qc.getStart(t),exact:(t,n,o,s)=>t}),hv=Gm.domRange,yv=Gm.relative,bv=Gm.exact,f1=e=>{const t=gv(e);return Fa(t)},kv=u1.create,Mu={domRange:hv,relative:yv,exact:bv,exactFromRange:pv,getWin:f1,range:kv},Km=(e,t)=>{const n=tn(e);return n==="input"?Qc.after(e):ce(["br","img"],n)?t===0?Qc.before(e):Qc.after(e):Qc.on(e,t)},wv=(e,t)=>{const n=e.fold(Qc.before,Km,Qc.after),o=t.fold(Qc.before,Km,Qc.after);return Mu.relative(n,o)},d1=(e,t,n,o)=>{const s=Km(e,t),a=Km(n,o);return Mu.relative(s,a)},ju=e=>e.match({domRange:t=>{const n=ne.fromDom(t.startContainer),o=ne.fromDom(t.endContainer);return d1(n,t.startOffset,o,t.endOffset)},relative:wv,exact:d1}),Il=(e,t)=>{const o=(t||document).createDocumentFragment();return M(e,s=>{o.appendChild(s.dom)}),ne.fromDom(o)},Xg=e=>{const t=Mu.getWin(e).dom,n=(s,a,i,u)=>Gg(t,s,a,i,u),o=ju(e);return cv(t,o).match({ltr:n,rtl:n})},_v=(e,t,n)=>uv(e,t,n),xa=(e,t,n)=>_v(n.defaultView,e,t).map(o=>{const s=n.createRange();return s.setStart(o.start.dom,o.soffset),s.setEnd(o.finish.dom,o.foffset),s}).getOrUndefined(),Jc=(e,t)=>e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,vv=(e,t,n)=>{for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Uu=(e,t,n)=>vv(e,t,n)!==null,Cv=(e,t,n)=>Uu(e,t,o=>o.nodeName===n),Zg=e=>e&&e.nodeName==="TABLE",Sv=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),xv=(e,t)=>xt(e)&&Uu(e,t,da)===!1,m1=(e,t,n)=>{const o=new ks(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());for(;t=o[n?"prev":"next"]();)if(ps(t))return!0},Ev=(e,t)=>e.previousSibling&&e.previousSibling.nodeName===t,Tv=(e,t)=>{for(;t&&t!==e;){if(os(t))return!0;t=t.parentNode}return!1},Qg=(e,t,n,o,s)=>{let a;const i=e.getRoot();let u;const d=e.schema.getNonEmptyElements(),y=e.getParent(s.parentNode,e.isBlock)||i;if(o&&ps(s)&&t&&e.isEmpty(y))return w.some(je(s.parentNode,e.nodeIndex(s)));const v=new ks(s,y);for(;u=v[o?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||xv(u,i))return w.none();if(Ft(u)&&u.nodeValue.length>0)return Cv(u,i,"A")===!1?w.some(je(u,o?u.nodeValue.length:0)):w.none();if(e.isBlock(u)||d[u.nodeName.toLowerCase()])return w.none();a=u}return pl(a)?w.none():n&&a?w.some(je(a,0)):w.none()},Ym=(e,t,n,o)=>{let s,a;const i=e.getRoot();let u,d,y=!1;s=o[(n?"start":"end")+"Container"],a=o[(n?"start":"end")+"Offset"];const v=dn(s)&&a===s.childNodes.length,T=e.schema.getNonEmptyElements();if(d=n,xt(s))return w.none();if(dn(s)&&a>s.childNodes.length-1&&(d=!1),tu(s)&&(s=i,a=0),s===i){if(d&&(u=s.childNodes[a>0?a-1:0],u&&(xt(u)||T[u.nodeName]||Zg(u))))return w.none();if(s.hasChildNodes()){if(a=Math.min(!d&&a>0?a-1:a,s.childNodes.length-1),s=s.childNodes[a],a=Ft(s)&&v?s.data.length:0,!t&&s===i.lastChild&&Zg(s)||Tv(i,s)||xt(s))return w.none();if(s.hasChildNodes()&&Zg(s)===!1){u=s;const N=new ks(s,i);do{if(os(u)||xt(u)){y=!1;break}if(Ft(u)&&u.nodeValue.length>0){a=d?0:u.nodeValue.length,s=u,y=!0;break}if(T[u.nodeName.toLowerCase()]&&!Sv(u)){a=e.nodeIndex(u),s=u.parentNode,d||a++,y=!0;break}}while(u=d?N.next():N.prev())}}}return t&&(Ft(s)&&a===0&&Qg(e,v,t,!0,s).each(N=>{s=N.container(),a=N.offset(),y=!0}),dn(s)&&(u=s.childNodes[a],u||(u=s.childNodes[a-1]),u&&ps(u)&&!Ev(u,"A")&&!m1(e,u,!1)&&!m1(e,u,!0)&&Qg(e,v,t,!0,u).each(N=>{s=N.container(),a=N.offset(),y=!0}))),d&&!t&&Ft(s)&&a===s.nodeValue.length&&Qg(e,v,t,!1,s).each(N=>{s=N.container(),a=N.offset(),y=!0}),y?w.some(je(s,a)):w.none()},Xm=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),s=je.fromRangeStart(t);return Ym(e,n,!0,o).each(a=>{(!n||!je.isAbove(s,a))&&o.setStart(a.container(),a.offset())}),n||Ym(e,n,!1,o).each(a=>{o.setEnd(a.container(),a.offset())}),n&&o.collapse(!0),Jc(t,o)?w.none():w.some(o)},Zm=(e,t)=>e.splitText(t),Qm=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset;return t===o&&Ft(t)?n>0&&n<t.nodeValue.length&&(o=Zm(t,n),t=o.previousSibling,s>n?(s=s-n,t=o=Zm(o,s).previousSibling,s=o.nodeValue.length,n=0):s=0):(Ft(t)&&n>0&&n<t.nodeValue.length&&(t=Zm(t,n),n=0),Ft(o)&&s>0&&s<o.nodeValue.length&&(o=Zm(o,s).previousSibling,s=o.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:o,endOffset:s}},Hu=e=>({walk:(s,a)=>$l(e,s,a),split:Qm,normalize:s=>Xm(e,s).fold(cn,a=>(s.setStart(a.startContainer,a.startOffset),s.setEnd(a.endContainer,a.endOffset),!0))});Hu.compareRanges=Jc,Hu.getCaretRangeFromPoint=xa,Hu.getSelectedNode=sm,Hu.getNode=Ii;const zv=((e,t)=>{const n=(u,d)=>{if(!Je(d)&&!d.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+d);const y=u.dom;ra(y)&&(y.style[e]=d+"px")},o=u=>{const d=t(u);if(d<=0||d===null){const y=qs(u,e);return parseFloat(y)||0}return d},s=o,a=(u,d)=>En(d,(y,v)=>{const T=qs(u,v),N=T===void 0?0:parseInt(T,10);return isNaN(N)?y:y+N},0);return{set:n,get:o,getOuter:s,aggregate:a,max:(u,d,y)=>{const v=a(u,y);return d>v?d-v:0}}})("height",e=>{const t=e.dom;return On(e)?t.getBoundingClientRect().height:t.offsetHeight}),Av=e=>zv.get(e),Jg=()=>ne.fromDom(document),Nv=(e,t)=>e.view(t).fold(Z([]),o=>{const s=e.owner(o),a=Nv(e,s);return[o].concat(a)}),p1=(e,t)=>{const n=t.owner(e);return Nv(t,n)};var LE=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?w.none():w.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(ne.fromDom)},owner:e=>_a(e)});const ME=e=>{const t=Jg(),n=In(t),o=p1(e,LE),s=Rc(e),a=pn(o,(i,u)=>{const d=Rc(u);return{left:i.left+d.left,top:i.top+d.top}},{left:0,top:0});return dl(a.left+s.left+n.left,a.top+s.top+n.top)},g1=e=>tn(e)==="textarea",Rv=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),Dv=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},jE=(e,t)=>{const n=ms(e);if(n.length===0||g1(e))return{element:e,offset:t};if(t<n.length&&!g1(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return g1(o)?{element:e,offset:t}:tn(o)==="img"?{element:o,offset:1}:ko(o)?{element:o,offset:Fc(o).length}:{element:o,offset:ms(o).length}}},ed=(e,t)=>{const n=vi(e),o=Av(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},Ov=(e,t)=>{const n=jE(e,t),o=ne.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+m+"</span>");return kr(n.element,o),ed(o,()=>Oo(o))},Pv=e=>ed(ne.fromDom(e),ye),h1=(e,t,n,o)=>{b1(e,(s,a)=>eh(e,t,n,o),n)},y1=(e,t,n,o,s)=>{const a={elm:o.element.dom,alignToTop:s};if(Rv(e,a))return;const i=In(t).top;n(t,i,o,s),Dv(e,a)},eh=(e,t,n,o)=>{const s=ne.fromDom(e.getBody()),a=ne.fromDom(e.getDoc());La(s);const i=Ov(ne.fromDom(n.startContainer),n.startOffset);y1(e,a,t,i,o),i.cleanup()},th=(e,t,n,o)=>{const s=ne.fromDom(e.getDoc());y1(e,s,n,Pv(t),o)},b1=(e,t,n)=>{const o=n.startContainer,s=n.startOffset,a=n.endContainer,i=n.endOffset;t(ne.fromDom(o),ne.fromDom(a));const u=e.dom.createRng();u.setStart(o,s),u.setEnd(a,i),e.selection.setRng(n)},Jm=(e,t,n,o)=>{const s=e.pos;if(n)mc(s.left,s.top,o);else{const a=s.top-t+e.height;mc(s.left,a,o)}},k1=(e,t,n,o,s)=>{const a=n+t,i=o.pos.top,u=o.bottom,d=u-i>=n;i<t?Jm(o,n,s!==!1,e):i>a?Jm(o,n,d?s!==!1:s===!0,e):u>a&&!d&&Jm(o,n,s===!0,e)},w1=(e,t,n,o)=>{const s=e.dom.defaultView.innerHeight;k1(e,t,s,n,o)},ep=(e,t,n,o)=>{const s=e.dom.defaultView.innerHeight;k1(e,t,s,n,o);const a=ME(n.element),i=gf(window);a.top<i.y?Ci(n.element,o!==!1):a.top>i.bottom&&Ci(n.element,o===!0)},_1=(e,t,n)=>h1(e,w1,t,n),Bv=(e,t,n)=>th(e,t,w1,n),$v=(e,t,n)=>h1(e,ep,t,n),Fv=(e,t,n)=>th(e,t,ep,n),nh=(e,t,n)=>{(e.inline?Bv:Fv)(e,t,n)},Wu=(e,t,n)=>{(e.inline?_1:$v)(e,t,n)},v1=e=>e.dom.focus(),C1=e=>{const t=S(e).dom;return e.dom===t.activeElement},oh=(e=Jg())=>w.from(e.dom.activeElement).map(ne.fromDom),Iv=e=>oh(S(e)).filter(t=>e.dom.contains(t.dom)),S1=(e,t)=>{const n=ko(t)?Fc(t).length:ms(t).length+1;return e>n?n:e<0?0:e},Lv=e=>Mu.range(e.start,S1(e.soffset,e.start),e.finish,S1(e.foffset,e.finish)),Mv=(e,t)=>!Si(t.dom)&&(Cs(e,t)||_o(e,t)),x1=e=>t=>Mv(e,t.start)&&Mv(e,t.finish),UE=e=>e.inline,HE=e=>Mu.range(ne.fromDom(e.startContainer),e.startOffset,ne.fromDom(e.endContainer),e.endOffset),WE=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?w.none():w.from(t.getRangeAt(0))).map(HE)},E1=e=>{const t=Fa(e);return WE(t.dom).filter(x1(e))},jv=(e,t)=>w.from(t).filter(x1(e)).map(Lv),Uv=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),w.some(t)}catch{return w.none()}},sh=e=>{const t=UE(e)?E1(ne.fromDom(e.getBody())):w.none();e.bookmark=t.isSome()?t:e.bookmark},tp=e=>(e.bookmark?e.bookmark:w.none()).bind(n=>jv(ne.fromDom(e.getBody()),n)).bind(Uv),rh=e=>{tp(e).each(t=>e.selection.setRng(t))},T1={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},Hv=(e,t)=>(Je(t)||(t=0),setTimeout(e,t)),Wv=(e,t)=>(Je(t)||(t=0),setInterval(e,t)),Ea={setEditorTimeout:(e,t,n)=>Hv(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const o=Wv(()=>{e.removed?clearInterval(o):t()},n);return o}},qv=e=>e.type==="nodechange"&&e.selectionChange,r=(e,t)=>{const n=()=>{t.throttle()};Ho.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ho.DOM.unbind(document,"mouseup",n)})},c=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},l=(e,t)=>{c(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{qv(n)||sh(e)})},f=e=>{const t=Bi(()=>{sh(e)},0);e.on("init",()=>{e.inline&&r(e,t),l(e,t)}),e.on("remove",()=>{t.cancel()})};let p;const k=Ho.DOM,C=e=>T1.isEditorUIElement(e),z=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},I=(e,t)=>{const n=tb(e);return k.getParent(t,s=>C(s)||(n?e.dom.is(s,n):!1))!==null},Y=e=>{try{const t=S(ne.fromDom(e.getElement()));return oh(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},he=(e,t)=>{const n=t.editor;f(n),n.on("focusin",()=>{const o=e.focusedEditor;o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{Ea.setEditorTimeout(n,()=>{const o=e.focusedEditor;!I(n,Y(n))&&o===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),p||(p=o=>{const s=e.activeEditor;s&&$t(o).each(a=>{a.ownerDocument===document&&a!==document.body&&!I(s,a)&&e.focusedEditor===s&&(s.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},k.bind(document,"focusin",p))},ct=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(k.unbind(document,"focusin",p),p=null)},Tt=e=>{e.on("AddEditor",et(he,e)),e.on("RemoveEditor",et(ct,e))},Ct=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),Ye=e=>e.collapsed?w.from(Ii(e.startContainer,e.startOffset)).map(ne.fromDom):w.none(),Rt=(e,t)=>Ye(t).bind(n=>Bd(n)?w.some(n):Cs(e,n)===!1?w.some(e):w.none()),Xe=(e,t)=>{Rt(ne.fromDom(e.getBody()),t).bind(n=>Cr(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Kt=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Cn=e=>C1(e)||Iv(e).isSome(),Fn=e=>e.iframeElement&&C1(ne.fromDom(e.iframeElement)),Qo=e=>{const t=e.getBody();return t&&Cn(ne.fromDom(t))},Ms=e=>{const t=S(ne.fromDom(e.getElement()));return oh(t).filter(n=>!z(n.dom)&&I(e,n.dom)).isSome()},Xo=e=>e.inline?Qo(e):Fn(e),Vr=e=>Xo(e)||Ms(e),qu=e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Xo(e)===!1&&tp(e).each(a=>{e.selection.setRng(a),o=a});const s=Ct(e,t.getNode());if(e.dom.isChildOf(s,n)){Kt(s),Xe(e,o),td(e);return}e.inline||(Gn.browser.isOpera()||Kt(n),e.getWin().focus()),(Gn.browser.isFirefox()||e.inline)&&(Kt(n),Xe(e,o)),td(e)},td=e=>e.editorManager.setActive(e),z1=(e,t)=>{e.removed||(t?td(e):qu(e))},np=(e,t,n,o,s)=>{const a=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return w.from(a).map(ne.fromDom).map(u=>!o||!t.collapsed?uc(u,s(u,i)).getOr(u):u).bind(u=>qn(u)?w.some(u):nr(u).filter(qn)).map(u=>u.dom).getOr(e)},Po=(e,t,n)=>np(e,t,!0,n,(o,s)=>Math.min(cl(o),s)),pr=(e,t,n)=>np(e,t,!1,n,(o,s)=>s>0?s-1:s),gr=(e,t)=>{const n=e;for(;e&&Ft(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Ga=(e,t)=>{let n,o,s;if(!t)return e;o=t.startContainer,s=t.endContainer;const a=t.startOffset,i=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(o===s&&i-a<2&&o.hasChildNodes()&&(n=o.childNodes[a]),o.nodeType===3&&s.nodeType===3&&(o.length===a?o=gr(o.nextSibling,!0):o=o.parentNode,i===0?s=gr(s.previousSibling,!1):s=s.parentNode,o&&o===s))?o:n&&n.nodeType===3?n.parentNode:n},Ta=(e,t,n,o)=>{let s;const a=[],i=e.getRoot();if(n=e.getParent(n||Po(i,t,t.collapsed),e.isBlock),o=e.getParent(o||pr(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&o&&n!==o){s=n;const u=new ks(n,i);for(;(s=u.next())&&s!==o;)e.isBlock(s)&&a.push(s)}return o&&n!==o&&o!==i&&a.push(o),a},Vu=(e,t,n)=>w.from(t).map(o=>{const s=e.nodeIndex(o),a=e.createRng();return a.setStart(o.parentNode,s),a.setEnd(o.parentNode,s+1),n&&($m(e,a,o,!0),$m(e,a,o,!1)),a}),rr=(e,t)=>W(t,n=>{const o=e.dispatch("GetSelectionRange",{range:n});return o.range!==n?o.range:n}),ah=e=>tn(e)==="img"?1:Di(e).fold(()=>ms(e).length,t=>t.length),nd=e=>Di(e).filter(t=>t.trim().length!==0||t.indexOf(Vs)>-1).isSome(),Cc=["img","br"],Ks=e=>nd(e)||ce(Cc,tn(e)),Vv=e=>Ad(e,Ks),Gv=e=>Kv(e,Ks),Kv=(e,t)=>{const n=o=>{const s=ms(o);for(let a=s.length-1;a>=0;a--){const i=s[a];if(t(i))return w.some(i);const u=n(i);if(u.isSome())return u}return w.none()};return n(e)},A1="[data-mce-autocompleter]",Yv=(e,t)=>{if(N1(ne.fromDom(e.getBody())).isNone()){const n=ne.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());fs(n,ne.fromDom(t.extractContents())),t.insertNode(n.dom),nr(n).each(o=>o.dom.normalize()),Gv(n).map(o=>{e.selection.setCursorLocation(o.dom,ah(o))})}},ch=e=>ja(e,A1),N1=e=>$c(e,A1),od=(e,t)=>N1(t).each(n=>{const o=e.selection.getBookmark();zs(n),e.selection.moveToBookmark(o)}),A9={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},R1=(e,t,n)=>{const o=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[o])return e[o];if(e!==t){let a=e[s];if(a)return a;for(let i=e.parent;i&&i!==t;i=i.parent)if(a=i[s],a)return a}},N9=e=>{if(!yc(e.value))return!1;const t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},VE=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class pa{constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}static create(t,n){const o=new pa(t,A9[t]||1);return n&&Ot(n,(s,a)=>{o.attr(a,s)}),o}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const o=this;let s;if(typeof t!="string")return t!=null&&Ot(t,(a,i)=>{o.attr(i,a)}),o;if(s=o.attributes){if(n!==void 0){if(n===null){if(t in s.map){delete s.map[t];let a=s.length;for(;a--;)if(s[a].name===t)return s.splice(a,1),o}return o}if(t in s.map){let a=s.length;for(;a--;)if(s[a].name===t){s[a].value=n;break}}else s.push({name:t,value:n});return s.map[t]=n,o}return s.map[t]}}clone(){const t=this,n=new pa(t.name,t.type);let o;if(o=t.attributes){const s=[];s.map={};for(let a=0,i=o.length;a<i;a++){const u=o[a];u.name!=="id"&&(s[s.length]={name:u.name,value:u.value},s.map[u.name]=u.value)}n.attributes=s}return n.value=t.value,n}wrap(t){const n=this;return n.parent.insert(t,n),t.append(n),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const o=n.next;t.insert(n,t,!0),n=o}t.remove()}remove(){const t=this,n=t.parent,o=t.next,s=t.prev;return n&&(n.firstChild===t?(n.firstChild=o,o&&(o.prev=null)):s.next=o,n.lastChild===t?(n.lastChild=s,s&&(s.next=null)):o.prev=s,t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const o=n.lastChild;return o?(o.next=t,t.prev=o,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,o){t.parent&&t.remove();const s=n.parent||this;return o?(n===s.firstChild?s.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===s.lastChild?s.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=s,t}getAll(t){const n=this,o=[];for(let s=n.firstChild;s;s=R1(s,n))s.name===t&&o.push(s);return o}children(){const t=this,n=[];for(let o=t.firstChild;o;o=o.next)n.push(o);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let s=t.firstChild;s;s=R1(s,t))n.push(s);let o=n.length;for(;o--;){const s=n[o];s.parent=s.firstChild=s.lastChild=s.next=s.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},o){const s=this;let a=s.firstChild;if(VE(s))return!1;if(a)do{if(a.type===1){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||VE(a))return!1}if(a.type===8||a.type===3&&!N9(a)||a.type===3&&a.parent&&n[a.parent.name]&&yc(a.value)||o&&o(a))return!1}while(a=R1(a,s));return!0}walk(t){return R1(this,null,t)}}const R9=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),GE=(e,t,n=0)=>{const o=e.toLowerCase();if(o.indexOf("[if ",n)!==-1&&R9(o,n)){const s=o.indexOf("[endif]",n);return o.indexOf(">",s)}else if(t){const s=o.indexOf(">",n);return s!==-1?s:o.length}else{const s=/--!?>/g;s.lastIndex=n;const a=s.exec(e);return a?a.index+a[0].length:o.length}},D9=(e,t,n)=>{const o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,a=e.getVoidElements();let i=1,u=n;for(;i!==0;)for(o.lastIndex=u;;){const d=o.exec(t);if(d===null)return u;if(d[1]==="!"){un(d[2],"--")?u=GE(t,!1,d.index+3):u=GE(t,!0,d.index+1);break}else{s.lastIndex=o.lastIndex;const y=s.exec(t);if(it(y)||y.index!==o.lastIndex)continue;d[1]==="/"?i-=1:gn(a,d[2])||(i+=1),u=o.lastIndex+y[0].length;break}}return u},O9=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},KE=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema;let s=O9(e.getTempAttrs(),t);const a=o.getVoidElements();let i;for(;i=n.exec(s);){const u=n.lastIndex,d=i[0].length;let y;a[i[1]]?y=u:y=D9(o,s,u),s=s.substring(0,u-d)+s.substring(y),n.lastIndex=u-d}return E(s)},P9=KE,B9=(e,t)=>{const n=fa(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(o,"")},$9=(e,t,n)=>{let o;return t.format==="raw"?o=nt.trim(P9(e.serializer,n.innerHTML)):t.format==="text"?(o=E(n.innerText),o=o===`
`?"":o):t.format==="tree"?o=e.serializer.serialize(n,t):o=B9(e,e.serializer.serialize(n,t)),t.format!=="text"&&!su(ne.fromDom(n))&&ge(o)?nt.trim(o):o},F9=(e,t)=>w.from(e.getBody()).fold(Z(t.format==="tree"?new pa("body",11):""),n=>$9(e,t,n)),I9=nt.each,YE=e=>({compare:(n,o)=>{if(n.nodeName!==o.nodeName)return!1;const s=i=>{const u={};return I9(e.getAttribs(i),d=>{const y=d.nodeName.toLowerCase();y.indexOf("_")!==0&&y!=="style"&&y.indexOf("data-")!==0&&(u[y]=e.getAttrib(i,y))}),u},a=(i,u)=>{let d,y;for(y in i)if(gn(i,y)){if(d=u[y],typeof d>"u"||i[y]!==d)return!1;delete u[y]}for(y in u)if(gn(u,y))return!1;return!0};return!a(s(n),s(o))||!a(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(o,"style")))?!1:!ma(n)&&!ma(o)}}),XE=nt.makeMap,ZE=e=>{const t=[];e=e||{};const n=e.indent,o=XE(e.indent_before||""),s=XE(e.indent_after||""),a=Oi.getEncodeFunc(e.entity_encoding||"raw",e.entities),i=e.element_format!=="xhtml";return{start:(u,d,y)=>{let v,T,N,F;if(n&&o[u]&&t.length>0&&(F=t[t.length-1],F.length>0&&F!==`
`&&t.push(`
`)),t.push("<",u),d)for(v=0,T=d.length;v<T;v++)N=d[v],t.push(" ",N.name,'="',a(N.value,!0),'"');!y||i?t[t.length]=">":t[t.length]=" />",y&&n&&s[u]&&t.length>0&&(F=t[t.length-1],F.length>0&&F!==`
`&&t.push(`
`))},end:u=>{let d;t.push("</",u,">"),n&&s[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},text:(u,d)=>{u.length>0&&(t[t.length]=d?u:a(u))},cdata:u=>{t.push("<![CDATA[",u,"]]>")},comment:u=>{t.push("<!--",u,"-->")},pi:(u,d)=>{d?t.push("<?",u," ",a(d),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:u=>{t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Gu=(e,t=Pi())=>{const n=ZE(e);return e=e||{},e.validate="validate"in e?e.validate:!0,{serialize:s=>{const a=e.validate,i={3:d=>{n.text(d.value,d.raw)},8:d=>{n.comment(d.value)},7:d=>{n.pi(d.name,d.value)},10:d=>{n.doctype(d.value)},4:d=>{n.cdata(d.value)},11:d=>{if(d=d.firstChild)do u(d);while(d=d.next)}};n.reset();const u=d=>{const y=i[d.type];if(y)y(d);else{const v=d.name,T=v in t.getVoidElements();let N=d.attributes;if(a&&N&&N.length>1){const F=[];F.map={};const U=t.getElementRule(d.name);if(U){for(let j=0,H=U.attributesOrder.length;j<H;j++){const se=U.attributesOrder[j];if(se in N.map){const ve=N.map[se];F.map[se]=ve,F.push({name:se,value:ve})}}for(let j=0,H=N.length;j<H;j++){const se=N[j].name;if(!(se in F.map)){const ve=N.map[se];F.map[se]=ve,F.push({name:se,value:ve})}}N=F}}if(n.start(v,N,T),!T){let F=d.firstChild;if(F){(v==="pre"||v==="textarea")&&F.type===3&&F.value[0]===`
`&&n.text(`
`,!0);do u(F);while(F=F.next)}n.end(v)}}};return s.type===1&&!e.inner?u(s):s.type===3?i[3](s):i[11](s),n.getContent()}}},QE=new Set;M(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{QE.add(t)});const JE=["font","text-decoration","text-emphasis"],Xv=(e,t)=>ze(e.parseStyle(e.getAttrib(t,"style"))),L9=e=>QE.has(e),M9=(e,t)=>ro(Xv(e,t),n=>!L9(n)),j9=e=>Qe(e,t=>Ce(JE,n=>un(t,n))),U9=(e,t,n)=>{const o=Xv(e,t),s=Xv(e,n),a=i=>{var u,d;const y=(u=e.getStyle(t,i))!==null&&u!==void 0?u:"",v=(d=e.getStyle(n,i))!==null&&d!==void 0?d:"";return Bn(y)&&Bn(v)&&y!==v};return Ce(o,i=>{const u=d=>Ce(d,y=>y===i);if(!u(s)&&u(JE)){const d=j9(s);return Ce(d,a)}else return a(i)})},eT=(e,t,n)=>w.from(n.container()).filter(Ft).exists(o=>{const s=e?0:-1;return t(o.data.charAt(n.offset()+s))}),Zv=et(eT,!0,Nu),Qv=et(eT,!1,Nu),H9=e=>{const t=e.container();return Ft(t)&&(t.data.length===0||h(t.data)&&Xf.isBookmarkNode(t.parentNode))},Ku=(e,t)=>n=>w.from(Eg(e?0:-1,n)).filter(t).isSome(),tT=e=>Td(e)&&qs(ne.fromDom(e),"display")==="block",nT=e=>os(e)&&!eu(e),W9=Ku(!0,tT),q9=Ku(!1,tT),ih=Ku(!0,pc),lh=Ku(!1,pc),oT=Ku(!0,Ma),sT=Ku(!1,Ma),Yu=Ku(!0,nT),Xu=Ku(!1,nT),V9=e=>e.slice(0,-1),G9=(e,t,n)=>Cs(t,e)?V9(Yl(e,o=>n(o)||_o(o,t))):[],rT=(e,t)=>G9(e,t,cn),Ll=(e,t)=>[e].concat(rT(e,t)),Jv=(e,t,n)=>Tu(e,t,n,H9),aT=(e,t)=>oo(Ll(ne.fromDom(t.container()),e),ua),cT=(e,t,n)=>Jv(e,t.dom,n).forall(o=>aT(t,n).fold(()=>_c(o,n,t.dom)===!1,s=>_c(o,n,t.dom)===!1&&Cs(s,ne.fromDom(o.container())))),iT=(e,t,n)=>aT(t,n).fold(()=>Jv(e,t.dom,n).forall(o=>_c(o,n,t.dom)===!1),o=>Jv(e,o.dom,n).isNone()),eC=et(iT,!1),lT=et(iT,!0),K9=et(cT,!1),Y9=et(cT,!0),X9=e=>qf(e).exists(Ri),D1=(e,t,n)=>{const o=Qe(Ll(ne.fromDom(n.container()),t),ua),s=Tn(o).getOr(t);return va(e,s.dom,n).filter(X9)},tC=(e,t)=>qf(t).exists(Ri)||D1(!0,e,t).isSome(),nC=(e,t)=>h0(t).exists(Ri)||D1(!1,e,t).isSome(),Z9=et(D1,!1),Q9=et(D1,!0),uT=e=>je.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),fT=(e,t)=>{const n=Qe(Ll(ne.fromDom(t.container()),e),ua);return Tn(n).getOr(e)},dT=(e,t)=>uT(t)?Qv(t):Qv(t)||tc(fT(e,t).dom,t).exists(Qv),mT=(e,t)=>uT(t)?Zv(t):Zv(t)||Ca(fT(e,t).dom,t).exists(Zv),J9=e=>ce(["pre","pre-wrap"],e),oC=e=>qf(e).bind(t=>Bc(t,qn)).exists(t=>J9(qs(t,"white-space"))),eB=(e,t)=>tc(e.dom,t).isNone(),tB=(e,t)=>Ca(e.dom,t).isNone(),nB=(e,t)=>eB(e,t)||tB(e,t)||eC(e,t)||lT(e,t)||nC(e,t)||tC(e,t),oB=e=>L(e)&&os(e)&&_b(e),sB=e=>t=>oB(new ks(t,e).next()),rB=(e,t)=>{const n=Ca(e.dom,t).getOr(t),o=sB(e.dom);return t.isAtEnd()&&(o(t.container())||o(n.container()))},aB=(e,t)=>oC(t)?!1:nB(e,t)||dT(e,t)||mT(e,t),O1=(e,t)=>oC(t)?!1:eC(e,t)||K9(e,t)||nC(e,t)||dT(e,t),cB=e=>{const t=e.container(),n=e.offset();return Ft(t)&&n<t.data.length?je(t,n+1):e},P1=(e,t)=>oC(t)?!1:lT(e,t)||Y9(e,t)||tC(e,t)||mT(e,t)||rB(e,t),pT=(e,t)=>O1(e,t)||P1(e,cB(t)),gT=(e,t)=>Pl(e.charAt(t)),iB=e=>{const t=e.container();return Ft(t)&&Lt(t.data,Vs)},lB=e=>{const t=e.split("");return W(t,(n,o)=>Pl(n)&&o>0&&o<t.length-1&&zm(t[o-1])&&zm(t[o+1])?" ":n).join("")},uB=(e,t)=>{const n=t.data,o=je(t,0);return gT(n,0)&&!pT(e,o)?(t.data=" "+n.slice(1),!0):!1},fB=e=>{const t=e.data,n=lB(t);return n!==t?(e.data=n,!0):!1},dB=(e,t)=>{const n=t.data,o=je(t,n.length-1);return gT(n,n.length-1)&&!pT(e,o)?(t.data=n.slice(0,-1)+" ",!0):!1},mB=(e,t)=>w.some(t).filter(iB).bind(n=>{const o=n.container();return uB(e,o)||fB(o)||dB(e,o)?w.some(n):w.none()}),pB=e=>{const t=ne.fromDom(e.getBody());e.selection.isCollapsed()&&mB(t,je.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},hT=(e,t,n)=>{if(n===0)return;const o=ne.fromDom(e),s=zi(o,ua).getOr(o),a=e.data.slice(t,t+n),i=t+n>=e.data.length&&P1(s,je(e,e.data.length)),u=t===0&&O1(s,je(e,0));e.replaceData(t,n,Yh(a,4,u,i))},B1=(e,t)=>{const n=e.data.slice(t),o=n.length-ar(n).length;hT(e,t,o)},sC=(e,t)=>{const n=e.data.slice(0,t),o=n.length-_s(n).length;hT(e,t-o,o)},rC=(e,t,n,o=!0)=>{const s=_s(e.data).length,a=o?e:t,i=o?t:e;return o?a.appendData(i.data):a.insertData(0,i.data),Oo(ne.fromDom(i)),n&&B1(a,s),a},gB=(e,t)=>{const n=e.container(),o=e.offset();return je.isTextPosition(e)===!1&&n===t.parentNode&&o>je.before(t).offset()},hB=(e,t)=>gB(t,e)?je(t.container(),t.offset()-1):t,yB=e=>Ft(e)?je(e,0):je.before(e),bB=e=>Ft(e)?je(e,e.data.length):je.after(e),yT=e=>$n(e.previousSibling)?w.some(bB(e.previousSibling)):e.previousSibling?Va(e.previousSibling):w.none(),bT=e=>$n(e.nextSibling)?w.some(yB(e.nextSibling)):e.nextSibling?Cr(e.nextSibling):w.none(),kB=(e,t)=>{const n=je.before(t.previousSibling?t.previousSibling:t.parentNode);return tc(e,n).fold(()=>Ca(e,je.after(t)),w.some)},wB=(e,t)=>Ca(e,je.after(t)).fold(()=>tc(e,je.before(t)),w.some),_B=(e,t)=>yT(t).orThunk(()=>bT(t)).orThunk(()=>kB(e,t)),vB=(e,t)=>bT(t).orThunk(()=>yT(t)).orThunk(()=>wB(e,t)),CB=(e,t,n)=>e?vB(t,n):_B(t,n),SB=(e,t,n)=>CB(e,t,n).map(et(hB,n)),kT=(e,t,n)=>{n.fold(()=>{e.focus()},o=>{e.selection.setRng(o.toRange(),t)})},xB=e=>t=>t.dom===e,EB=(e,t)=>t&&gn(e.schema.getBlockElements(),tn(t)),TB=e=>{if(Fs(e)){const t=ne.fromHtml('<br data-mce-bogus="1">');return fl(e),fs(e,t),w.some(je.before(t.dom))}else return w.none()},zB=(e,t,n)=>{const o=Ia(e).filter(ko),s=yi(e).filter(ko);return Oo(e),Nr(o,s,t,(a,i,u)=>{const d=a.dom,y=i.dom,v=d.data.length;return rC(d,y,n),u.container()===y?je(d,v):u}).orThunk(()=>(n&&(o.each(a=>sC(a.dom,a.dom.length)),s.each(a=>B1(a.dom,0))),t))},AB=(e,t)=>gn(e.schema.getTextInlineElements(),tn(t)),sd=(e,t,n,o=!0)=>{const s=SB(t,e.getBody(),n.dom),a=zi(n,et(EB,e),xB(e.getBody())),i=zB(n,s,AB(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(TB).fold(()=>{o&&kT(e,t,i)},u=>{o&&kT(e,t,w.some(u))})},NB=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,RB=e=>NB.test(e),rd=(e,t)=>aa(ne.fromDom(t),O_(e)),DB=e=>Ho.DOM.getStyle(e,"direction",!0)==="rtl"||RB(e.textContent),OB=(e,t,n)=>Qe(Ho.DOM.getParents(n.container(),"*",t),e),Zu=(e,t,n)=>{const o=OB(e,t,n);return w.from(o[o.length-1])},PB=(e,t,n)=>{const o=Li(t,e),s=Li(n,e);return o&&o===s},BB=e=>as(e)||uo(e),oc=(e,t)=>{if(!t)return t;const n=t.container(),o=t.offset();return e?mt(n)?Ft(n.nextSibling)?je(n.nextSibling,0):je.after(n):as(t)?je(n,o+1):t:mt(n)?Ft(n.previousSibling)?je(n.previousSibling,n.previousSibling.data.length):je.before(n):uo(t)?je(n,o-1):t},wT=et(oc,!0),_T=et(oc,!1),vT=(e,t)=>{const n=o=>o.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},aC=e=>vT(e,"Delete"),$B=e=>vT(e,"ForwardDelete"),FB=e=>t=>_o(e,ne.fromDom(t.dom.parentNode)),IB=e=>wf(e)||hl(e),$1=(e,t)=>Cs(e,t)?Bc(t,IB,FB(e)):w.none(),cC=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},LB=(e,t,n)=>zo(Cr(n),Va(n),(o,s)=>{const a=oc(!0,o),i=oc(!1,s),u=oc(!1,t);return e?Ca(n,u).exists(d=>d.isEqual(i)&&t.isEqual(a)):tc(n,u).exists(d=>d.isEqual(a)&&t.isEqual(i))}).getOr(!0),CT=e=>(Js(e)?Ia(e):ki(e)).bind(CT).orThunk(()=>w.some(e)),ST=(e,t,n,o=!0)=>{var s;t.deleteContents();const a=CT(n).getOr(n),i=ne.fromDom((s=e.dom.getParent(a.dom,e.dom.isBlock))!==null&&s!==void 0?s:n.dom);if(i.dom===e.getBody()?cC(e,o):Fs(i)&&(Ic(i),o&&e.selection.setCursorLocation(i.dom,0)),!_o(n,i)){const u=Zo(nr(i),n)?[]:sl(i);M(u.concat(ms(n)),d=>{!_o(d,i)&&!Cs(d,i)&&Fs(d)&&Oo(d)})}},MB=e=>t=>_o(e,t),iC=e=>wr(e,"td,th"),jB=(e,t)=>{const n=y=>Yf(ne.fromDom(y),t),o=n(e.startContainer),s=n(e.endContainer),a=o.isSome(),i=s.isSome(),u=zo(o,s,_o).getOr(!1);return{startTable:o,endTable:s,isStartInTable:a,isEndInTable:i,isSameTable:u,isMultiTable:!u&&a&&i}},lC=(e,t)=>({start:e,end:t}),UB=(e,t,n)=>({rng:e,table:t,cells:n}),uh=wc.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),F1=(e,t)=>ja(ne.fromDom(e),"td,th",t),xT=e=>!_o(e.start,e.end),ET=(e,t)=>Yf(e.start,t).bind(n=>Yf(e.end,t).bind(o=>bs(_o(n,o),n))),HB=(e,t)=>!xT(e)&&ET(e,t).exists(n=>{const o=n.dom.rows;return o.length===1&&o[0].cells.length===1}),WB=(e,t)=>{const n=F1(e.startContainer,t),o=F1(e.endContainer,t);return zo(n,o,lC)},qB=e=>t=>Yf(t,e).bind(n=>Pn(iC(n)).map(o=>lC(t,o))),VB=e=>t=>Yf(t,e).bind(n=>Tn(iC(n)).map(o=>lC(o,t))),uC=e=>t=>ET(t,e).map(n=>UB(t,n,iC(n))),TT=(e,t,n,o)=>{if(n.collapsed||!e.forall(xT))return w.none();if(t.isSameTable){const s=e.bind(uC(o));return w.some({start:s,end:s})}else{const s=F1(n.startContainer,o),a=F1(n.endContainer,o),i=s.bind(qB(o)).bind(uC(o)),u=a.bind(VB(o)).bind(uC(o));return w.some({start:i,end:u})}},zT=(e,t)=>Yn(e,n=>_o(n,t)),fC=e=>zo(zT(e.cells,e.rng.start),zT(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),GB=(e,t,n)=>e.exists(o=>HB(o,n)&&$u(o.start,t)),AT=(e,t)=>{const{startTable:n,endTable:o}=t,s=e.cloneRange();return n.each(a=>s.setStartAfter(a.dom)),o.each(a=>s.setEndBefore(a.dom)),s},KB=(e,t,n,o)=>TT(e,t,n,o).bind(({start:s,end:a})=>s.or(a)).bind(s=>{const{isSameTable:a}=t,i=fC(s).getOr([]);if(a&&s.cells.length===i.length)return w.some(uh.fullTable(s.table));if(i.length>0){if(a)return w.some(uh.partialTable(i,w.none()));{const u=AT(n,t);return w.some(uh.partialTable(i,w.some({...t,rng:u})))}}else return w.none()}),YB=(e,t,n,o)=>TT(e,t,n,o).bind(({start:s,end:a})=>{const i=s.bind(fC).getOr([]),u=a.bind(fC).getOr([]);if(i.length>0&&u.length>0){const d=AT(n,t);return w.some(uh.multiTable(i,u,d))}else return w.none()}),XB=(e,t)=>{const n=MB(e),o=WB(t,n),s=jB(t,n);return GB(o,t,n)?o.map(a=>uh.singleCellTable(t,a.start)):s.isMultiTable?YB(o,s,t,n):KB(o,s,t,n)},NT=e=>M(e,t=>{is(t,"contenteditable"),Ic(t)}),ZB=(e,t)=>w.from(e.dom.getParent(t,e.dom.isBlock)).map(ne.fromDom),QB=(e,t,n)=>{n.each(o=>{t?Oo(o):(Ic(o),e.selection.setCursorLocation(o.dom,0))})},dC=(e,t,n,o)=>{const s=n.cloneRange();o?(s.setStart(n.startContainer,n.startOffset),s.setEndAfter(t.dom.lastChild)):(s.setStartBefore(t.dom.firstChild),s.setEnd(n.endContainer,n.endOffset)),mC(e,s,t,!1).each(a=>a())},RT=e=>{const t=Fl(e),n=ne.fromDom(e.selection.getNode());gl(n.dom)&&Fs(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Ce(t,o=>_o(o,n))&&ao(n,"data-mce-selected","1")},DT=(e,t,n)=>w.some(()=>{const o=e.selection.getRng(),s=n.bind(({rng:a,isStartInTable:i})=>{const u=ZB(e,i?a.endContainer:a.startContainer);a.deleteContents(),QB(e,i,u.filter(Fs));const d=i?t[0]:t[t.length-1];return dC(e,d,o,i),Fs(d)?w.none():w.some(i?t.slice(1):t.slice(0,-1))}).getOr(t);NT(s),RT(e)}),JB=(e,t,n,o)=>w.some(()=>{const s=e.selection.getRng(),a=t[0],i=n[n.length-1];dC(e,a,s,!0),dC(e,i,s,!1);const u=Fs(a)?t:t.slice(1),d=Fs(i)?n:n.slice(0,-1);NT(u.concat(d)),o.deleteContents(),RT(e)}),mC=(e,t,n,o=!0)=>w.some(()=>{ST(e,t,n,o)}),e4=(e,t)=>w.some(()=>sd(e,!1,t)),t4=(e,t,n)=>XB(t,n).bind(o=>o.fold(et(mC,e),et(e4,e),et(DT,e),et(JB,e))),n4=(e,t)=>I1(e,t),o4=(e,t,n,o)=>pC(t,o).fold(()=>t4(e,t,n),s=>n4(e,s)),s4=(e,t,n)=>{const o=ne.fromDom(e.getBody()),s=e.selection.getRng();return n.length!==0?DT(e,n,w.none()):o4(e,o,s,t)},OT=(e,t)=>oo(Ll(t,e),ou),pC=(e,t)=>oo(Ll(t,e),Xa("caption")),r4=(e,t,n,o,s)=>Sm(n,e.getBody(),s).bind(a=>OT(t,ne.fromDom(a.getNode())).bind(i=>_o(i,o)?w.none():w.some(ye))),I1=(e,t)=>w.some(()=>{Ic(t),e.selection.setCursorLocation(t.dom,0)}),a4=(e,t,n,o)=>Cr(e.dom).bind(s=>Va(e.dom).map(a=>t?n.isEqual(s)&&o.isEqual(a):n.isEqual(a)&&o.isEqual(s))).getOr(!0),c4=(e,t)=>I1(e,t),i4=(e,t,n)=>pC(e,ne.fromDom(n.getNode())).fold(()=>w.some(ye),o=>bs(!_o(o,t),ye)),l4=(e,t,n,o,s)=>Sm(n,e.getBody(),s).fold(()=>w.some(ye),a=>a4(o,n,s,a)?c4(e,o):i4(t,o,a)),u4=(e,t,n,o)=>{const s=je.fromRangeStart(e.selection.getRng());return OT(n,o).bind(a=>Fs(a)?I1(e,a):r4(e,n,t,a,s))},f4=(e,t,n,o)=>{const s=je.fromRangeStart(e.selection.getRng());return Fs(o)?I1(e,o):l4(e,n,t,o,s)},PT=(e,t)=>e?oT(t):sT(t),d4=(e,t)=>{const n=je.fromRangeStart(e.selection.getRng());return PT(t,n)||va(t,e.getBody(),n).exists(o=>PT(t,o))},m4=(e,t,n)=>{const o=ne.fromDom(e.getBody());return pC(o,n).fold(()=>u4(e,t,o,n).orThunk(()=>bs(d4(e,t),ye)),s=>f4(e,t,o,s))},gC=(e,t)=>{const n=ne.fromDom(e.selection.getStart(!0)),o=Fl(e);return e.selection.isCollapsed()&&o.length===0?m4(e,t,n):s4(e,n,o)},op=(e,t)=>{for(;t&&t!==e;){if(la(t)||os(t))return t;t=t.parentNode}return null},hC=(e,t)=>{t(e),e.firstChild&&hC(e.firstChild,t),e.next&&hC(e.next,t)},BT=(e,t,n,o)=>{const s=n.name;for(let a=0,i=e.length;a<i;a++){const u=e[a];if(u.name===s){const d=o.nodes[s];d?d.nodes.push(n):o.nodes[s]={filter:u,nodes:[n]}}}if(n.attributes)for(let a=0,i=t.length;a<i;a++){const u=t[a],d=u.name;if(d in n.attributes.map){const y=o.attributes[d];y?y.nodes.push(n):o.attributes[d]={filter:u,nodes:[n]}}}},p4=(e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&hC(n.firstChild,s=>{BT(e,t,s,o)}),o},$T=(e,t)=>{const n=o=>{Ot(o,s=>{const a=Qe(s.nodes,i=>L(i.parent));M(s.filter.callbacks,i=>{i(a,s.filter.name,t)})})};n(e.nodes),n(e.attributes)},FT=(e,t,n,o={})=>{const s=p4(e,t,n);$T(s,o)},yC=(e,t,n,o)=>{t.insert&&n[o.name]?o.empty().append(new pa("br",1)):o.empty().append(new pa("#text",3)).value=Vs},g4=e=>IT(e,"#text")&&e.firstChild.value===Vs,IT=(e,t)=>e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t,h4=(e,t)=>{const n=e.getElementRule(t.name);return n&&n.paddEmpty},fh=(e,t,n,o)=>o.isEmpty(t,n,s=>h4(e,s)),y4=(e,t)=>e&&(e.name in t||e.name==="br"),bC=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const s of o)t.isValidChild(n.name,s.name)||bC(s,t,n);e.unwrap()}},kC=(e,t,n=ye)=>{const o=t.getTextBlockElements(),s=t.getNonEmptyElements(),a=t.getWhitespaceElements(),i=nt.makeMap("tr,td,th,tbody,thead,tfoot,table"),u=new Set;for(let d=0;d<e.length;d++){const y=e[d];let v,T,N;if(!y.parent||u.has(y))continue;if(o[y.name]&&y.parent.name==="li"){let U=y.next;for(;U&&o[U.name];){U.name="li",u.add(U),y.parent.insert(U,y.parent);U=U.next}y.unwrap();continue}const F=[y];for(v=y.parent;v&&!t.isValidChild(v.name,y.name)&&!i[v.name];v=v.parent)F.push(v);if(v&&F.length>1)if(t.isValidChild(v.name,y.name)){F.reverse(),T=F[0].clone(),n(T);let U=T;for(let j=0;j<F.length-1;j++){t.isValidChild(U.name,F[j].name)?(N=F[j].clone(),n(N),U.append(N)):N=U;for(let H=F[j].firstChild;H&&H!==F[j+1];){const se=H.next;N.append(H),H=se}U=N}fh(t,s,a,T)?v.insert(y,F[0],!0):(v.insert(T,F[0],!0),v.insert(y,T)),v=F[0],(fh(t,s,a,v)||IT(v,"br"))&&v.empty().remove()}else bC(y,t);else if(y.parent){if(y.name==="li"){let U=y.prev;if(U&&(U.name==="ul"||U.name==="ol")){U.append(y);continue}if(U=y.next,U&&(U.name==="ul"||U.name==="ol")){U.insert(y,U.firstChild,!0);continue}const j=new pa("ul",1);n(j),y.wrap(j);continue}if(t.isValidChild(y.parent.name,"div")&&t.isValidChild("div",y.name)){const U=new pa("div",1);n(U),y.wrap(U)}else bC(y,t)}}},b4=(e,t,n,o)=>{const s=document.createRange();return s.setStart(e,t),s.setEnd(n,o),s},k4=e=>{const t=je.fromRangeStart(e),n=je.fromRangeEnd(e),o=e.commonAncestorContainer;return va(!1,o,n).map(s=>!_c(t,n,o)&&_c(t,s,o)?b4(t.container(),t.offset(),s.container(),s.offset()):e).getOr(e)},wC=e=>e.collapsed?e:k4(e),w4=e=>e.firstChild&&e.firstChild===e.lastChild,_4=e=>e.name==="br"||e.value===Vs,v4=(e,t)=>e.getBlockElements()[t.name]&&w4(t)&&_4(t.firstChild),C4=(e,t)=>{const n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||v4(e,t))},S4=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&n.name==="meta"&&(n=n.next),o&&o.attr("id")==="mce_marker"&&(o=o.prev),C4(e,o)&&(o=o.prev),!n||n!==o?!1:n.name==="ul"||n.name==="ol"},x4=e=>{const t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},E4=(e,t,n)=>{const o=t.serialize(n),s=e.createFragment(o);return x4(s)},T4=e=>Qe(e.childNodes,t=>t.nodeName==="LI"),z4=e=>e.data===Vs||ps(e),A4=e=>e&&e.firstChild&&e.firstChild===e.lastChild&&z4(e.firstChild),N4=e=>!e.firstChild||A4(e),R4=e=>e.length>0&&N4(e[e.length-1])?e.slice(0,-1):e,_C=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},D4=(e,t)=>!!_C(e,t),O4=(e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]},P4=(e,t)=>{const n=je.before(e),s=Wr(t).next(n);return s?s.toRange():null},LT=(e,t)=>{const n=je.after(e),s=Wr(t).prev(n);return s?s.toRange():null},B4=(e,t,n,o)=>{const s=O4(e,o),a=e.parentNode;return a.insertBefore(s[0],e),nt.each(t,i=>{a.insertBefore(i,e)}),a.insertBefore(s[1],e),a.removeChild(e),LT(t[t.length-1],n)},$4=(e,t,n)=>{const o=e.parentNode;return nt.each(t,s=>{o.insertBefore(s,e)}),P4(e,n)},F4=(e,t,n,o)=>(o.insertAfter(t.reverse(),e),LT(t[0],n)),I4=(e,t,n,o)=>{const s=E4(t,e,o),a=_C(t,n.startContainer),i=R4(T4(s.firstChild)),u=1,d=2,y=t.getRoot(),v=T=>{const N=je.fromRangeStart(n),F=Wr(t.getRoot()),U=T===u?F.prev(N):F.next(N);return U?_C(t,U.getNode())!==a:!0};return v(u)?$4(a,i,y):v(d)?F4(a,i,y,t):B4(a,i,y,n)},L4=["pre"],M4=(e,t,n,o)=>{var s;const a=t.firstChild,i=t.lastChild,u=i.attr("data-mce-type")==="bookmark"?i.prev:i,d=a===u,y=ce(L4,a.name);if(d&&y){const v=a.attr("contenteditable")!=="false",T=((s=e.getParent(n,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===a.name,N=w.from(op(o,n)).forall(la);return v&&T&&N}else return!1},vC=gl,j4=(e,t,n)=>{if(n!==null){const o=e.getParent(t.endContainer,vC);return n===o&&$u(ne.fromDom(n),t)}else return!1},U4=(e,t,n)=>{if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,s=n.lastChild;!o||o===s&&o.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},H4=(e,t)=>{w.from(e.getParent(t,"td,th")).map(ne.fromDom).each(Ip)},W4=(e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const s=e.getBody(),a=YE(o);nt.each(o.select("*[data-mce-fragment]"),i=>{if(L(n[i.nodeName.toLowerCase()])&&M9(o,i)){for(let d=i.parentNode;L(d)&&d!==s&&!U9(o,i,d);d=d.parentNode)if(a.compare(d,i)){o.remove(i,!0);break}}})}},q4=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},V4=e=>{nt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},G4=e=>!!e.getAttribute("data-mce-fragment"),K4=(e,t)=>t&&!e.schema.getVoidElements()[t.nodeName],Y4=(e,t)=>{let n;const o=e.dom,s=e.selection;if(!t)return;s.scrollIntoView(t);const a=op(e.getBody(),t);if(o.getContentEditable(a)==="false"){o.remove(t),s.select(a);return}let i=o.createRng();const u=t.previousSibling;if(Ft(u)){i.setStart(u,u.nodeValue.length);const v=t.nextSibling;Ft(v)&&(u.appendData(v.data),v.parentNode.removeChild(v))}else i.setStartBefore(t),i.setEndBefore(t);const d=v=>{let T=je.fromRangeStart(v);if(T=Wr(e.getBody()).next(T),T)return T.toRange()},y=o.getParent(t,o.isBlock);o.remove(t),y&&o.isEmpty(y)&&(fl(ne.fromDom(y)),i.setStart(y,0),i.setEnd(y,0),!vC(y)&&!G4(y)&&(n=d(i))?(i=n,o.remove(y)):o.add(y,o.create("br",{"data-mce-bogus":"1"}))),s.setRng(i)},X4=e=>{const t=e.dom,n=wC(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,vC);j4(t,n,o)?mC(e,n,ne.fromDom(o)):e.getDoc().execCommand("Delete",!1,null)},Z4=(e,t,n)=>{var o;let s,a,i;const u=e.selection,d=e.dom,y=e.parser,v=n.merge,T=Gu({validate:!0},e.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,N),a=u.getRng();const F=a.startContainer||(a.parentElement?a.parentElement():null),U=e.getBody();F===U&&u.isCollapsed()&&d.isBlock(U.firstChild)&&K4(e,U.firstChild)&&d.isEmpty(U.firstChild)&&(a=d.createRng(),a.setStart(U.firstChild,0),a.setEnd(U.firstChild,0),u.setRng(a)),u.isCollapsed()||X4(e),s=u.getNode();const j={context:s.nodeName.toLowerCase(),data:n.data,insert:!0},H=y.parse(t,j);if(n.paste===!0&&S4(e.schema,H)&&D4(d,s))return a=I4(T,d,u.getRng(),H),u.setRng(a),t;if(n.paste===!0&&M4(d,H,s,e.getBody())&&((o=H.firstChild)===null||o===void 0||o.unwrap()),q4(H),i=H.lastChild,i.attr("id")==="mce_marker"){const se=i;for(i=i.prev;i;i=i.walk(!0))if(i.type===3||!d.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(se,i,i.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(s),!j.invalid)t=T.serialize(H),U4(e,t,s);else{e.selection.setContent(N),s=u.getNode();const se=e.getBody();for(s.nodeType===9?s=i=se:i=s;i!==se;)s=i,i=i.parentNode;t=s===se?se.innerHTML:d.getOuterHTML(s);const ve=y.parse(t);for(let Vt=ve;Vt;Vt=Vt.walk())if(Vt.attr("id")==="mce_marker"){Vt.replace(H);break}const Se=H.children(),Be=H.parent.name;H.unwrap();const at=Qe(Se,Vt=>!e.schema.isValidChild(Be,Vt.name));kC(at,e.schema),FT(y.getNodeFilters(),y.getAttributeFilters(),ve),t=T.serialize(ve),s===se?d.setHTML(se,t):d.setOuterHTML(s,t)}return W4(e,v),Y4(e,d.get("mce_marker")),V4(e.getBody()),H4(d,u.getStart()),t},L1=e=>e instanceof pa,Q4=e=>{Xo(e)&&Cr(e.getBody()).each(t=>{const n=t.getNode(),o=Ma(n)?Cr(n).getOr(t):t;e.selection.setRng(o.toRange())})},CC=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&Q4(e)},J4=(e,t,n,o)=>{if(n.length===0||/^\s+$/.test(n)){const s='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+s+"</li>");const a=fa(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=s,n=e.dom.createHTML(a,If(e),n)):n||(n=s),CC(e,n,o.no_selection),{content:n,html:n}}else{o.format!=="raw"&&(n=Gu({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const s=su(ne.fromDom(t))?n:nt.trim(n);return CC(e,s,o.no_selection),{content:s,html:s}}},e8=(e,t,n,o)=>{FT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const s=Gu({validate:!1},e.schema).serialize(n),a=su(ne.fromDom(t))?s:nt.trim(s);return CC(e,a,o.no_selection),{content:n,html:a}},t8=(e,t,n)=>w.from(e.getBody()).map(o=>L1(t)?e8(e,o,t,n):J4(e,o,t,n)).getOr({content:t,html:L1(n.content)?"":n.content}),n8=(e,t)=>Np(e,t).isSome(),MT=e=>Wt(e)?e:cn,o8=(e,t,n)=>{let o=e.dom;const s=MT(n);for(;o.parentNode;){o=o.parentNode;const a=ne.fromDom(o),i=t(a);if(i.isSome())return i;if(s(a))break}return w.none()},SC=(e,t,n)=>{const o=t(e),s=MT(n);return o.orThunk(()=>s(e)?w.none():o8(e,t,s))},xC=Fg,jT=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let s=0;s<o.length;s++){const a=o[s];if(qr(a)&&a.inherit===!1&&e.dom.is(t,a.selector))return!0}return!1},EC=(e,t,n,o,s)=>{const a=e.dom.getRoot();return t===a?!1:(t=e.dom.getParent(t,i=>jT(e,i,n)?!0:i.parentNode===a||!!Hi(e,i,n,o,!0)),!!Hi(e,t,n,o,s))},M1=(e,t,n)=>Ls(n)&&xC(t,n.inline)||Sa(n)&&xC(t,n.block)?!0:qr(n)?dn(t)&&e.is(t,n.selector):!1,UT=(e,t,n,o,s,a)=>{const i=n[o];if(Wt(n.onmatch))return n.onmatch(t,n,o);if(i){if(Le(i.length)){for(const u in i)if(gn(i,u)){const d=o==="attributes"?e.getAttrib(t,u):Bl(e,t,u),y=Xc(i[u],a),v=Ve(d)||to(d);if(v&&Ve(y))continue;if(s&&v&&!n.exact||(!s||n.exact)&&!xC(d,Du(y,u)))return!1}}else for(let u=0;u<i.length;u++)if(o==="attributes"?e.getAttrib(t,i[u]):Bl(e,t,i[u]))return!0}return!0},Hi=(e,t,n,o,s)=>{const a=e.formatter.get(n),i=e.dom;if(a&&t)for(let u=0;u<a.length;u++){const d=a[u];if(M1(e.dom,t,d)&&UT(i,t,d,"attributes",s,o)&&UT(i,t,d,"styles",s,o)){const y=d.classes;if(y){for(let v=0;v<y.length;v++)if(!e.dom.hasClass(t,Xc(y[v],o)))return}return d}}},TC=(e,t,n,o,s)=>{if(o)return EC(e,o,t,n,s);if(o=e.selection.getNode(),EC(e,o,t,n,s))return!0;const a=e.selection.getStart();return!!(a!==o&&EC(e,a,t,n,s))},s8=(e,t,n)=>{const o=[],s={},a=e.selection.getStart();return e.dom.getParent(a,i=>{for(let u=0;u<t.length;u++){const d=t[u];!s[d]&&Hi(e,i,d,n)&&(s[d]=!0,o.push(d))}},e.dom.getRoot()),o},r8=(e,t)=>{const n=s=>_o(s,ne.fromDom(e.getBody())),o=(s,a)=>Hi(e,s.dom,a)?w.some(a):w.none();return w.from(e.selection.getStart(!0)).bind(s=>SC(ne.fromDom(s),a=>$o(t,i=>o(a,i)),n)).getOrNull()},a8=(e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n){const s=e.selection.getStart(),a=Dm(o,s);for(let i=n.length-1;i>=0;i--){const u=n[i];if(!qr(u))return!0;for(let d=a.length-1;d>=0;d--)if(o.is(a[d],u.selector))return!0}}return!1},c8=(e,t,n)=>En(n,(o,s)=>{const a=P0(e,s);return e.formatter.matchNode(t,s,{},a)?o.concat([s]):o},[]),sp=m,HT="_mce_caret",i8=(e,t)=>e.importNode(t,!0),l8=e=>{const t=[];for(;e;){if(e.nodeType===3&&e.nodeValue!==sp||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},WT=e=>l8(e).length>0,qT=e=>{if(e){const t=new ks(e,e);for(e=t.current();e;e=t.next())if(Ft(e))return e}return null},zC=e=>{const t=ne.fromTag("span");return ts(t,{id:HT,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&fs(t,ne.fromText(sp)),t},u8=e=>{const t=qT(e);return t&&t.nodeValue.charAt(0)===sp&&t.deleteData(0,1),t},AC=(e,t,n=!0)=>{const o=e.dom,s=e.selection;if(WT(t))sd(e,!1,ne.fromDom(t),n);else{const a=s.getRng(),i=o.getParent(t,o.isBlock),u=a.startContainer,d=a.startOffset,y=a.endContainer,v=a.endOffset,T=u8(t);o.remove(t,!0),u===T&&d>0&&a.setStart(T,d-1),y===T&&v>0&&a.setEnd(T,v-1),i&&o.isEmpty(i)&&Ic(ne.fromDom(i)),s.setRng(a)}},NC=(e,t,n=!0)=>{const o=e.dom,s=e.selection;if(t)AC(e,t,n);else if(t=zu(e.getBody(),s.getStart()),!t)for(;t=o.get(HT);)AC(e,t,!1)},f8=(e,t,n)=>{const o=e.dom,s=o.getParent(n,et(Kf,e));s&&o.isEmpty(s)?n.parentNode.replaceChild(t,n):(Gh(ne.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},VT=(e,t)=>(e.appendChild(t),t),GT=(e,t)=>{const n=pn(e,(o,s)=>VT(o,s.cloneNode(!1)),t);return VT(n,n.ownerDocument.createTextNode(sp))},d8=(e,t,n,o,s,a)=>{const i=e.formatter,u=e.dom,d=Qe(ze(i.get()),T=>T!==o&&!Lt(T,"removeformat")),y=c8(e,n,d);if(Qe(y,T=>!B0(e,T,o)).length>0){const T=n.cloneNode(!1);return u.add(t,T),i.remove(o,s,T,a),u.remove(T),w.some(T)}else return w.none()},m8=(e,t,n)=>{let o,s;const a=e.selection,i=a.getRng();let u=i.startOffset;const y=i.startContainer.nodeValue;o=zu(e.getBody(),a.getStart()),o&&(s=qT(o));const v=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(y&&u>0&&u<y.length&&v.test(y.charAt(u))&&v.test(y.charAt(u-1))){const T=a.getBookmark();i.collapse(!0);let N=Bu(e,i,e.formatter.get(t));N=Qm(N),e.formatter.apply(t,n,N),a.moveToBookmark(T)}else(!o||s.nodeValue!==sp)&&(o=i8(e.getDoc(),zC(!0).dom),s=o.firstChild,i.insertNode(o),u=1),e.formatter.apply(t,n,o),a.setCursorLocation(s,u)},p8=(e,t,n,o)=>{const s=e.dom,a=e.selection;let i,u,d;const y=[],v=a.getRng(),T=v.startContainer,N=v.startOffset;for(u=T,T.nodeType===3&&(N!==T.nodeValue.length&&(i=!0),u=u.parentNode);u;){if(Hi(e,u,t,n,o)){d=u;break}u.nextSibling&&(i=!0),y.push(u),u=u.parentNode}if(!!d)if(i){const F=a.getBookmark();v.collapse(!0);let U=Bu(e,v,e.formatter.get(t),!0);U=Qm(U),e.formatter.remove(t,n,U,o),a.moveToBookmark(F)}else{const F=zu(e.getBody(),d),U=zC(!1).dom;f8(e,U,F!==null?F:d);const j=d8(e,U,d,t,n,o),H=GT(y.concat(j.toArray()),U);AC(e,F,!1),a.setCursorLocation(H,1),s.isEmpty(d)&&s.remove(d)}},g8=(e,t)=>{const n=e.selection,o=e.getBody();NC(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===sp&&NC(e,zu(o,n.getStart())),(t===37||t===39)&&NC(e,zu(o,n.getStart()))},h8=e=>{e.on("mouseup keydown",t=>{g8(e,t.keyCode)})},y8=(e,t)=>{const n=zC(!1),o=GT(t,n.dom);return kr(ne.fromDom(e),n),Oo(ne.fromDom(e)),je(o,0)},b8=(e,t)=>{const n=e.schema.getTextInlineElements();return gn(n,tn(t))&&!da(t.dom)&&!Oc(t.dom)},k8=e=>da(e.dom)&&WT(e.dom),j1={},KT=Zs,YT=ls,w8=(e,t)=>{j1[e]||(j1[e]=[]),j1[e].push(t)},_8=(e,t)=>{YT(j1[e],n=>{n(t)})};w8("pre",e=>{const t=e.selection.getRng();let n;const o=i=>a(i.previousSibling)&&O(n,i.previousSibling)!==-1,s=(i,u)=>{const d=ne.fromDom(u),y=_a(d).dom;Oo(d),fc(ne.fromDom(i),[ne.fromTag("br",y),ne.fromTag("br",y),...ms(d)])},a=ia(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),YT(KT(KT(n,a),o),i=>{s(i.previousSibling,i)}))});const RC=nt.each,DC=e=>dn(e)&&!ma(e)&&!da(e)&&!Oc(e),XT=(e,t)=>{for(let n=e;n;n=n[t]){if(Ft(n)&&Bn(n.data))return e;if(dn(n)&&!ma(n))return n}return e},ZT=(e,t,n)=>{const o=YE(e);if(t&&n&&(t=XT(t,"previousSibling"),n=XT(n,"nextSibling"),o.compare(t,n))){for(let s=t.nextSibling;s&&s!==n;){const a=s;s=s.nextSibling,t.appendChild(a)}return e.remove(n),nt.each(nt.grep(n.childNodes),s=>{t.appendChild(s)}),t}return n},QT=(e,t,n,o)=>{if(o&&t.merge_siblings!==!1){const s=ZT(e,Rm(o),o);ZT(e,s,Rm(s,!0))}},v8=(e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";RC(e.select(o,n),s=>{DC(s)&&RC(t.styles,(a,i)=>{e.setStyle(s,i,"")})})}},OC=(e,t,n)=>{RC(e.childNodes,o=>{DC(o)&&(t(o)&&n(o),o.hasChildNodes()&&OC(o,t,n))})},C8=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},JT=(e,t)=>n=>!!(n&&Bl(e,n,t)),ez=(e,t,n)=>o=>{e.setStyle(o,t,n),o.getAttribute("style")===""&&o.removeAttribute("style"),C8(e,o)},dh=wc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),S8=/^(src|href|style)$/,PC=nt.each,U1=Fg,x8=e=>/^(TR|TH|TD)$/.test(e.nodeName),tz=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),nz=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"];if(dn(o)){const a=o.childNodes.length-1;!n&&s&&s--,o=o.childNodes[s>a?a:s]}return Ft(o)&&n&&s>=o.nodeValue.length&&(o=new ks(o,e.getBody()).next()||o),Ft(o)&&!n&&s===0&&(o=new ks(o,e.getBody()).prev()||o),o},oz=(e,t)=>{const n=t?"firstChild":"lastChild";if(x8(e)&&e[n]){const o=e[n];return e.nodeName==="TR"&&o[n]||o}return e},BC=(e,t,n,o)=>{const s=e.create(n,o);return t.parentNode.insertBefore(s,t),s.appendChild(t),s},sz=(e,t,n,o,s)=>{const a=ne.fromDom(t),i=ne.fromDom(e.create(o,s)),u=n?rl(a):bi(a);return fc(i,u),n?(kr(a,i),_d(i,a)):(ca(a,i),fs(i,a)),i.dom},E8=(e,t)=>t.links&&e.nodeName==="A",T8=(e,t,n)=>{const o=t.parentNode;let s;const a=e.dom,i=fa(e);Sa(n)&&o===a.getRoot()&&(!n.list_block||!U1(t,n.list_block))&&M(ho(t.childNodes),u=>{Ru(e,i,u.nodeName.toLowerCase())?s?s.appendChild(u):(s=BC(a,u,i),a.setAttribs(s,If(e))):s=null}),!(Ub(n)&&!U1(n.inline,t))&&a.remove(t,!0)},rz=(e,t,n,o,s)=>{let a;const i=e.dom;if(!M1(i,o,t)&&!E8(o,t))return dh.keep();const u=o;if(Ls(t)&&t.remove==="all"&&le(t.preserve_attributes)){const d=Qe(i.getAttribs(u),y=>ce(t.preserve_attributes,y.name.toLowerCase()));if(i.removeAllAttribs(u),M(d,y=>i.setAttrib(u,y.name,y.value)),d.length>0)return dh.rename("span")}if(t.remove!=="all"){PC(t.styles,(y,v)=>{y=Du(Xc(y,n),v+""),Je(v)&&(v=y,s=null),(t.remove_similar||!s||U1(Bl(i,s,v),y))&&i.setStyle(u,v,""),a=!0}),a&&i.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),PC(t.attributes,(y,v)=>{let T;if(y=Xc(y,n),Je(v)&&(v=y,s=null),t.remove_similar||!s||U1(i.getAttrib(s,v),y)){if(v==="class"&&(y=i.getAttrib(u,v),y&&(T="",M(y.split(/\s+/),N=>{/mce\-\w+/.test(N)&&(T+=(T?" ":"")+N)}),T))){i.setAttrib(u,v,T);return}if(S8.test(v)&&u.removeAttribute("data-mce-"+v),v==="style"&&ia(["li"])(u)&&i.getStyle(u,"list-style-type")==="none"){u.removeAttribute(v),i.setStyle(u,"list-style-type","none");return}v==="class"&&u.removeAttribute("className"),u.removeAttribute(v)}}),PC(t.classes,y=>{y=Xc(y,n),(!s||i.hasClass(s,y))&&i.removeClass(u,y)});const d=i.getAttribs(u);for(let y=0;y<d.length;y++){const v=d[y].nodeName;if(v.indexOf("_")!==0&&v.indexOf("data-")!==0)return dh.keep()}}return t.remove!=="none"?(T8(e,u,t),dh.removed()):dh.keep()},rp=(e,t,n,o,s)=>rz(e,t,n,o,s).fold(cn,a=>(e.dom.rename(o,a),!0),wn),z8=(e,t,n,o,s)=>{let a;return M(Dm(e.dom,t.parentNode).reverse(),i=>{if(!a&&i.id!=="_start"&&i.id!=="_end"){const u=Hi(e,i,n,o,s);u&&u.split!==!1&&(a=i)}}),a},A8=(e,t,n,o)=>rz(e,t,n,o,o).fold(Z(o),s=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,s)),Z(null)),N8=(e,t,n,o,s,a,i,u)=>{let d,y,v;const T=e.dom;if(n){const N=n.parentNode;for(let F=o.parentNode;F&&F!==N;F=F.parentNode){d=T.clone(F,!1);for(let U=0;U<t.length&&(d=A8(e,t[U],u,d),d!==null);U++);d&&(y&&d.appendChild(y),v||(v=d),y=d)}a&&(!i.mixed||!T.isBlock(n))&&(o=T.split(n,o)),y&&(s.parentNode.insertBefore(y,s),v.appendChild(s),Ls(i)&&QT(T,i,u,y))}return o},az=(e,t,n,o,s)=>{const a=e.formatter.get(t),i=a[0];let u=!0;const d=e.dom,y=e.selection,v=H=>{const se=z8(e,H,t,n,s);return N8(e,a,se,H,H,!0,i,n)},T=H=>ma(H)&&dn(H)&&(H.id==="_start"||H.id==="_end"),N=H=>Ce(a,se=>rp(e,se,n,H,H)),F=H=>{let se=!0,ve=!1;dn(H)&&d.getContentEditable(H)&&(se=u,u=d.getContentEditable(H)==="true",ve=!0);const Se=ho(H.childNodes);if(u&&!ve){const Vt=N(H)||Ce(a,gt=>M1(d,H,gt)),lt=H.parentNode;!Vt&&L(lt)&&Zc(i)&&N(lt)}if(i.deep&&Se.length){for(let at=0;at<Se.length;at++)F(Se[at]);ve&&(u=se)}M(["underline","line-through","overline"],at=>{dn(H)&&e.dom.getStyle(H,"text-decoration")===at&&H.parentNode&&Ig(d,H.parentNode)===at&&rp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:at}},null,H)})},U=H=>{const se=d.get(H?"_start":"_end");let ve=se[H?"firstChild":"lastChild"];return T(ve)&&(ve=ve[H?"firstChild":"lastChild"]),Ft(ve)&&ve.data.length===0&&(ve=H?se.previousSibling||se.nextSibling:se.nextSibling||se.previousSibling),d.remove(se,!0),ve},j=H=>{let se,ve,Se=Bu(e,H,a,H.collapsed);if(i.split){if(Se=Qm(Se),se=nz(e,Se,!0),ve=nz(e,Se),se!==ve){if(se=oz(se,!0),ve=oz(ve,!1),tz(d,se,ve)){const at=w.from(se.firstChild).getOr(se);v(sz(d,at,!0,"span",{id:"_start","data-mce-type":"bookmark"})),U(!0);return}if(tz(d,ve,se)){const at=w.from(ve.lastChild).getOr(ve);v(sz(d,at,!1,"span",{id:"_end","data-mce-type":"bookmark"})),U(!1);return}se=BC(d,se,"span",{id:"_start","data-mce-type":"bookmark"}),ve=BC(d,ve,"span",{id:"_end","data-mce-type":"bookmark"});const Be=d.createRng();Be.setStartAfter(se),Be.setEndBefore(ve),$l(d,Be,at=>{M(at,Vt=>{!ma(Vt)&&!ma(Vt.parentNode)&&v(Vt)})}),v(se),v(ve),se=U(!0),ve=U()}else se=ve=v(se);Se.startContainer=se.parentNode?se.parentNode:se,Se.startOffset=d.nodeIndex(se),Se.endContainer=ve.parentNode?ve.parentNode:ve,Se.endOffset=d.nodeIndex(ve)+1}$l(d,Se,Be=>{M(Be,F)})};if(o){if(Nm(o)){const H=d.createRng();H.setStartBefore(o),H.setEndAfter(o),j(H)}else j(o);Hg(e,t,o,n);return}if(d.getContentEditable(y.getNode())==="false"){o=y.getNode();for(let H=0;H<a.length&&!(a[H].ceFalseOverride&&rp(e,a[H],n,o,o));H++);Hg(e,t,o,n);return}!y.isCollapsed()||!Ls(i)||Fl(e).length?(Lm(y,!0,()=>{Im(e,j)}),Ls(i)&&TC(e,t,n,y.getStart())&&jb(d,y,y.getRng()),e.nodeChanged()):p8(e,t,n,s),Hg(e,t,o,n)},cz=nt.each,R8=(e,t,n,o)=>{const s=a=>{if(a.nodeType===1&&a.parentNode&&a.parentNode.nodeType===1){const i=Ig(e,a.parentNode);e.getStyle(a,"color")&&i?e.setStyle(a,"text-decoration",i):e.getStyle(a,"text-decoration")===i&&e.setStyle(a,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(nt.walk(o,s,"childNodes"),s(o))},D8=(e,t,n,o)=>{t.styles&&t.styles.backgroundColor&&OC(o,JT(e,"fontSize"),ez(e,"backgroundColor",Xc(t.styles.backgroundColor,n)))},O8=(e,t,n,o)=>{Ls(t)&&(t.inline==="sub"||t.inline==="sup")&&(OC(o,JT(e,"fontSize"),ez(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",o),!0))},P8=(e,t,n,o)=>{cz(t,s=>{Ls(s)&&cz(e.dom.select(s.inline,o),a=>{!DC(a)||rp(e,s,n,a,s.exact?a:null)}),v8(e.dom,s,o)})},B8=(e,t,n,o,s)=>{Hi(e,s.parentNode,n,o)&&rp(e,t,o,s)||t.merge_with_parents&&e.dom.getParent(s.parentNode,a=>{if(Hi(e,a,n,o))return rp(e,t,o,s),!0})},H1=nt.each,$8=e=>dn(e)&&!ma(e)&&!da(e)&&!Oc(e),F8=(e,t,n,o)=>{if(j_(e)&&Ls(t)){const s=ey(e.schema),a=n8(ne.fromDom(n),i=>da(i.dom));return Vo(s,o)&&Fs(ne.fromDom(n.parentNode),!1)&&!a}else return!1},iz=(e,t,n,o)=>{const s=e.formatter.get(t),a=s[0],i=!o&&e.selection.isCollapsed(),u=e.dom,d=e.selection,y=(F,U=a)=>{if(Wt(U.onformat)&&U.onformat(F,U,n,o),H1(U.styles,(j,H)=>{u.setStyle(F,H,Xc(j,n))}),U.styles){const j=u.getAttrib(F,"style");j&&u.setAttrib(F,"data-mce-style",j)}H1(U.attributes,(j,H)=>{u.setAttrib(F,H,Xc(j,n))}),H1(U.classes,j=>{j=Xc(j,n),u.hasClass(F,j)||u.addClass(F,j)})},v=(F,U)=>{let j=!1;return H1(F,H=>{if(!qr(H))return!1;if(!(L(H.collapsed)&&H.collapsed!==i)&&u.is(U,H.selector)&&!da(U))return y(U,H),j=!0,!1}),j},T=F=>{if(ge(F)){const U=u.create(F);return y(U),U}else return null},N=(F,U,j)=>{const H=[];let se=!0;const ve=a.inline||a.block,Se=T(ve);$l(F,U,Be=>{let at;const Vt=lt=>{let gt=!1,Dt=se;const Pt=lt.nodeName.toLowerCase(),bn=lt.parentNode,nn=bn.nodeName.toLowerCase();if(dn(lt)&&F.getContentEditable(lt)&&(Dt=se,se=F.getContentEditable(lt)==="true",gt=!0),ps(lt)&&!F8(e,a,lt,nn)){at=null,Sa(a)&&F.remove(lt);return}if(Sa(a)&&a.wrapper&&Hi(e,lt,t,n)){at=null;return}if(se&&!gt&&Sa(a)&&!a.wrapper&&Kf(e,Pt)&&Ru(e,nn,ve)){const Ht=F.rename(lt,ve);y(Ht),H.push(Ht),at=null;return}if(qr(a)){let Ht=v(s,lt);if(!Ht&&L(bn)&&Zc(a)&&(Ht=v(s,bn)),!Ls(a)||Ht){at=null;return}}se&&!gt&&Ru(e,ve,Pt)&&Ru(e,nn,ve)&&!(!j&&Ft(lt)&&h(lt.data))&&!da(lt)&&(!Ls(a)||!F.isBlock(lt))?(at||(at=F.clone(Se,!1),lt.parentNode.insertBefore(at,lt),H.push(at)),at.appendChild(lt)):(at=null,M(ho(lt.childNodes),Vt),gt&&(se=Dt),at=null)};M(Be,Vt)}),a.links===!0&&M(H,Be=>{const at=Vt=>{Vt.nodeName==="A"&&y(Vt,a),M(ho(Vt.childNodes),at)};at(Be)}),M(H,Be=>{const at=gt=>{let Dt=0;return M(gt.childNodes,Pt=>{!O0(Pt)&&!ma(Pt)&&Dt++}),Dt},Vt=gt=>oo(gt.childNodes,$8).filter(Pt=>M1(F,Pt,a)).map(Pt=>{const bn=F.clone(Pt,!1);return y(bn),F.replace(bn,gt,!0),F.remove(Pt,!0),bn}).getOr(gt),lt=at(Be);if((H.length>1||!F.isBlock(Be))&&lt===0){F.remove(Be,!0);return}(Ls(a)||Sa(a)&&a.wrapper)&&(!a.exact&&lt===1&&(Be=Vt(Be)),P8(e,s,n,Be),B8(e,a,t,n,Be),D8(F,a,n,Be),R8(F,a,n,Be),O8(F,a,n,Be),QT(F,a,n,Be))})};if(u.getContentEditable(d.getNode())==="false"){o=d.getNode();for(let F=0,U=s.length;F<U;F++){const j=s[F];if(j.ceFalseOverride&&qr(j)&&u.is(o,j.selector)){y(o,j);break}}n1(e,t,o,n);return}if(a){if(o)if(Nm(o)){if(!v(s,o)){const F=u.createRng();F.setStartBefore(o),F.setEndAfter(o),N(u,Bu(e,F,s),!0)}}else N(u,o,!0);else!i||!Ls(a)||Fl(e).length?(d.setRng(wC(d.getRng())),Lm(d,!0,()=>{Im(e,(F,U)=>{const j=U?F:Bu(e,F,s);N(u,j,!1)})}),jb(u,d,d.getRng()),e.nodeChanged()):m8(e,t,n);_8(t,e)}n1(e,t,o,n)},lz=e=>gn(e,"vars"),I8=(e,t)=>{e.set({}),t.on("NodeChange",n=>{mz(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const o=w.from(n.node).map(s=>Nm(s)?s:s.startContainer).bind(s=>dn(s)?w.some(s):w.from(s.parentElement)).getOrThunk(()=>uz(t));mz(t,o,e.get())})},uz=e=>e.selection.getStart(),fz=(e,t,n,o,s)=>Eo(t,u=>{const d=e.formatter.matchNode(u,n,s!=null?s:{},o);return!Le(d)},u=>jT(e,u,n)?!0:o?!1:L(e.formatter.matchNode(u,n,s,!0))),dz=(e,t)=>{const n=t!=null?t:uz(e);return Qe(Dm(e.dom,n),o=>dn(o)&&!Oc(o))},mz=(e,t,n)=>{const o=dz(e,t);Ot(n,(s,a)=>{const i=u=>{const d=fz(e,o,a,u.similar,lz(u)?u.vars:void 0),y=d.isSome();if(u.state.get()!==y){u.state.set(y);const v=d.getOr(t);lz(u)?u.callback(y,{node:v,format:a,parents:o}):M(u.callbacks,T=>T(y,{node:v,format:a,parents:o}))}};M([s.withSimilar,s.withoutSimilar],i),M(s.withVars,i)})},L8=(e,t,n,o,s,a)=>{const i=t.get();M(n.split(","),u=>{const d=Vn(i,u).getOrThunk(()=>{const v={withSimilar:{state:xs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:xs(!1),similar:!1,callbacks:[]},withVars:[]};return i[u]=v,v}),y=()=>{const v=dz(e);return fz(e,v,u,s,a).isSome()};if(Le(a)){const v=s?d.withSimilar:d.withoutSimilar;v.callbacks.push(o),v.callbacks.length===1&&v.state.set(y())}else d.withVars.push({state:xs(y()),similar:s,vars:a,callback:o})}),t.set(i)},M8=(e,t,n)=>{const o=e.get();M(t.split(","),s=>Vn(o,s).each(a=>{o[s]={withSimilar:{...a.withSimilar,callbacks:Qe(a.withSimilar.callbacks,i=>i!==n)},withoutSimilar:{...a.withoutSimilar,callbacks:Qe(a.withoutSimilar.callbacks,i=>i!==n)},withVars:Qe(a.withVars,i=>i.callback!==n)}})),e.set(o)},j8=(e,t,n,o,s,a)=>(t.get()===null&&I8(t,e),L8(e,t,n,o,s,a),{unbind:()=>M8(t,n,o)}),U8=(e,t,n,o)=>{const s=e.formatter.get(t);TC(e,t,n,o)&&(!("toggle"in s[0])||s[0].toggle)?az(e,t,n,o):iz(e,t,n,o)};function ad(e){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function $C(e,t){return $C=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},$C(e,t)}function H8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W1(e,t,n){return H8()?W1=Reflect.construct:W1=function(s,a,i){var u=[null];u.push.apply(u,a);var d=Function.bind.apply(s,u),y=new d;return i&&$C(y,i.prototype),y},W1.apply(null,arguments)}function ei(e){return W8(e)||q8(e)||V8(e)||G8()}function W8(e){if(Array.isArray(e))return FC(e)}function q8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V8(e,t){if(!!e){if(typeof e=="string")return FC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FC(e,t)}}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function G8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K8=Object.hasOwnProperty,pz=Object.setPrototypeOf,Y8=Object.isFrozen,X8=Object.getPrototypeOf,Z8=Object.getOwnPropertyDescriptor,za=Object.freeze,Wi=Object.seal,Q8=Object.create,gz=typeof Reflect<"u"&&Reflect,q1=gz.apply,IC=gz.construct;q1||(q1=function(t,n,o){return t.apply(n,o)}),za||(za=function(t){return t}),Wi||(Wi=function(t){return t}),IC||(IC=function(t,n){return W1(t,ei(n))});var J8=ti(Array.prototype.forEach),e$=ti(Array.prototype.pop),mh=ti(Array.prototype.push),V1=ti(String.prototype.toLowerCase),t$=ti(String.prototype.match),Qu=ti(String.prototype.replace),n$=ti(String.prototype.indexOf),o$=ti(String.prototype.trim),Aa=ti(RegExp.prototype.test),LC=s$(TypeError);function ti(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return q1(e,t,o)}}function s$(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return IC(e,n)}}function Fo(e,t){pz&&pz(e,null);for(var n=t.length;n--;){var o=t[n];if(typeof o=="string"){var s=V1(o);s!==o&&(Y8(t)||(t[n]=s),o=s)}e[o]=!0}return e}function cd(e){var t=Q8(null),n;for(n in e)q1(K8,e,[n])&&(t[n]=e[n]);return t}function G1(e,t){for(;e!==null;){var n=Z8(e,t);if(n){if(n.get)return ti(n.get);if(typeof n.value=="function")return ti(n.value)}e=X8(e)}function o(s){return console.warn("fallback value for",s),null}return o}var hz=za(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MC=za(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jC=za(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r$=za(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),UC=za(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),a$=za(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yz=za(["#text"]),bz=za(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),HC=za(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kz=za(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K1=za(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c$=Wi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),i$=Wi(/<%[\w\W]*|[\w\W]*%>/gm),l$=Wi(/^data-[\-\w.\u00B7-\uFFFF]/),u$=Wi(/^aria-[\-\w]+$/),f$=Wi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),d$=Wi(/^(?:\w+script|data):/i),m$=Wi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),p$=Wi(/^html$/i),g$=function(){return typeof window>"u"?null:window},h$=function(t,n){if(ad(t)!=="object"||typeof t.createPolicy!="function")return null;var o=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(o=n.currentScript.getAttribute(s));var a="dompurify"+(o?"#"+o:"");try{return t.createPolicy(a,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function wz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g$(),t=function(Oe){return wz(Oe)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,o=e.document,s=e.DocumentFragment,a=e.HTMLTemplateElement,i=e.Node,u=e.Element,d=e.NodeFilter,y=e.NamedNodeMap,v=y===void 0?e.NamedNodeMap||e.MozNamedAttrMap:y,T=e.HTMLFormElement,N=e.DOMParser,F=e.trustedTypes,U=u.prototype,j=G1(U,"cloneNode"),H=G1(U,"nextSibling"),se=G1(U,"childNodes"),ve=G1(U,"parentNode");if(typeof a=="function"){var Se=o.createElement("template");Se.content&&Se.content.ownerDocument&&(o=Se.content.ownerDocument)}var Be=h$(F,n),at=Be?Be.createHTML(""):"",Vt=o,lt=Vt.implementation,gt=Vt.createNodeIterator,Dt=Vt.createDocumentFragment,Pt=Vt.getElementsByTagName,bn=n.importNode,nn={};try{nn=cd(o).documentMode?o.documentMode:{}}catch{}var Ht={};t.isSupported=typeof ve=="function"&&lt&&typeof lt.createHTMLDocument<"u"&&nn!==9;var fo=c$,Co=i$,Io=l$,js=u$,Nt=d$,fn=m$,no=f$,Qn=null,Ys=Fo({},[].concat(ei(hz),ei(MC),ei(jC),ei(UC),ei(yz))),Mt=null,_n=Fo({},[].concat(ei(bz),ei(HC),ei(kz),ei(K1))),on=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Bt=null,Jn=null,co=!0,xn=!0,Sn=!1,So=!1,xo=!1,Us=!1,Wo=!1,so=!1,qo=!1,$r=!1,Fr=!0,yr=!0,ai=!1,ha={},Kr=null,sc=Fo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ef=null,Gi=Fo({},["audio","video","img","source","image","track"]),Ki=null,ci=Fo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pd="http://www.w3.org/1998/Math/MathML",tf="http://www.w3.org/2000/svg",rc="http://www.w3.org/1999/xhtml",ii=rc,gd=!1,li,Ik=["application/xhtml+xml","text/html"],mx="text/html",Hl,Wl=null,Q6=o.createElement("form"),px=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},Lk=function(Oe){Wl&&Wl===Oe||((!Oe||ad(Oe)!=="object")&&(Oe={}),Oe=cd(Oe),Qn="ALLOWED_TAGS"in Oe?Fo({},Oe.ALLOWED_TAGS):Ys,Mt="ALLOWED_ATTR"in Oe?Fo({},Oe.ALLOWED_ATTR):_n,Ki="ADD_URI_SAFE_ATTR"in Oe?Fo(cd(ci),Oe.ADD_URI_SAFE_ATTR):ci,ef="ADD_DATA_URI_TAGS"in Oe?Fo(cd(Gi),Oe.ADD_DATA_URI_TAGS):Gi,Kr="FORBID_CONTENTS"in Oe?Fo({},Oe.FORBID_CONTENTS):sc,Bt="FORBID_TAGS"in Oe?Fo({},Oe.FORBID_TAGS):{},Jn="FORBID_ATTR"in Oe?Fo({},Oe.FORBID_ATTR):{},ha="USE_PROFILES"in Oe?Oe.USE_PROFILES:!1,co=Oe.ALLOW_ARIA_ATTR!==!1,xn=Oe.ALLOW_DATA_ATTR!==!1,Sn=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,So=Oe.SAFE_FOR_TEMPLATES||!1,xo=Oe.WHOLE_DOCUMENT||!1,so=Oe.RETURN_DOM||!1,qo=Oe.RETURN_DOM_FRAGMENT||!1,$r=Oe.RETURN_TRUSTED_TYPE||!1,Wo=Oe.FORCE_BODY||!1,Fr=Oe.SANITIZE_DOM!==!1,yr=Oe.KEEP_CONTENT!==!1,ai=Oe.IN_PLACE||!1,no=Oe.ALLOWED_URI_REGEXP||no,ii=Oe.NAMESPACE||rc,Oe.CUSTOM_ELEMENT_HANDLING&&px(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(on.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&px(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(on.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(on.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),li=Ik.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?li=mx:li=Oe.PARSER_MEDIA_TYPE,Hl=li==="application/xhtml+xml"?function(Yt){return Yt}:V1,So&&(xn=!1),qo&&(so=!0),ha&&(Qn=Fo({},ei(yz)),Mt=[],ha.html===!0&&(Fo(Qn,hz),Fo(Mt,bz)),ha.svg===!0&&(Fo(Qn,MC),Fo(Mt,HC),Fo(Mt,K1)),ha.svgFilters===!0&&(Fo(Qn,jC),Fo(Mt,HC),Fo(Mt,K1)),ha.mathMl===!0&&(Fo(Qn,UC),Fo(Mt,kz),Fo(Mt,K1))),Oe.ADD_TAGS&&(Qn===Ys&&(Qn=cd(Qn)),Fo(Qn,Oe.ADD_TAGS)),Oe.ADD_ATTR&&(Mt===_n&&(Mt=cd(Mt)),Fo(Mt,Oe.ADD_ATTR)),Oe.ADD_URI_SAFE_ATTR&&Fo(Ki,Oe.ADD_URI_SAFE_ATTR),Oe.FORBID_CONTENTS&&(Kr===sc&&(Kr=cd(Kr)),Fo(Kr,Oe.FORBID_CONTENTS)),yr&&(Qn["#text"]=!0),xo&&Fo(Qn,["html","head","body"]),Qn.table&&(Fo(Qn,["tbody"]),delete Bt.tbody),za&&za(Oe),Wl=Oe)},gx=Fo({},["mi","mo","mn","ms","mtext"]),ql=Fo({},["foreignobject","desc","title","annotation-xml"]),Mk=Fo({},["title","style","font","a","script"]),pe=Fo({},MC);Fo(pe,jC),Fo(pe,r$);var De=Fo({},UC);Fo(De,a$);var ht=function(Oe){var Yt=ve(Oe);(!Yt||!Yt.tagName)&&(Yt={namespaceURI:rc,tagName:"template"});var zn=V1(Oe.tagName),ds=V1(Yt.tagName);return Oe.namespaceURI===tf?Yt.namespaceURI===rc?zn==="svg":Yt.namespaceURI===pd?zn==="svg"&&(ds==="annotation-xml"||gx[ds]):Boolean(pe[zn]):Oe.namespaceURI===pd?Yt.namespaceURI===rc?zn==="math":Yt.namespaceURI===tf?zn==="math"&&ql[ds]:Boolean(De[zn]):Oe.namespaceURI===rc?Yt.namespaceURI===tf&&!ql[ds]||Yt.namespaceURI===pd&&!gx[ds]?!1:!De[zn]&&(Mk[zn]||!pe[zn]):!1},ut=function(Oe){mh(t.removed,{element:Oe});try{Oe.parentNode.removeChild(Oe)}catch{try{Oe.outerHTML=at}catch{Oe.remove()}}},mn=function(Oe,Yt){try{mh(t.removed,{attribute:Yt.getAttributeNode(Oe),from:Yt})}catch{mh(t.removed,{attribute:null,from:Yt})}if(Yt.removeAttribute(Oe),Oe==="is"&&!Mt[Oe])if(so||qo)try{ut(Yt)}catch{}else try{Yt.setAttribute(Oe,"")}catch{}},go=function(Oe){var Yt,zn;if(Wo)Oe="<remove></remove>"+Oe;else{var ds=t$(Oe,/^[\r\n\t ]+/);zn=ds&&ds[0]}li==="application/xhtml+xml"&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");var Ya=Be?Be.createHTML(Oe):Oe;if(ii===rc)try{Yt=new N().parseFromString(Ya,li)}catch{}if(!Yt||!Yt.documentElement){Yt=lt.createDocument(ii,"template",null);try{Yt.documentElement.innerHTML=gd?"":Ya}catch{}}var ya=Yt.body||Yt.documentElement;return Oe&&zn&&ya.insertBefore(o.createTextNode(zn),ya.childNodes[0]||null),ii===rc?Pt.call(Yt,xo?"html":"body")[0]:xo?Yt.documentElement:ya},mo=function(Oe){return gt.call(Oe.ownerDocument||Oe,Oe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Ra=function(Oe){return Oe instanceof T&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof v)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function")},ui=function(Oe){return ad(i)==="object"?Oe instanceof i:Oe&&ad(Oe)==="object"&&typeof Oe.nodeType=="number"&&typeof Oe.nodeName=="string"},Vl=function(Oe,Yt,zn){!Ht[Oe]||J8(Ht[Oe],function(ds){ds.call(t,Yt,zn,Wl)})},J6=function(Oe){var Yt;if(Vl("beforeSanitizeElements",Oe,null),Ra(Oe)||Aa(/[\u0080-\uFFFF]/,Oe.nodeName))return ut(Oe),!0;var zn=Hl(Oe.nodeName);if(Vl("uponSanitizeElement",Oe,{tagName:zn,allowedTags:Qn}),Oe.hasChildNodes()&&!ui(Oe.firstElementChild)&&(!ui(Oe.content)||!ui(Oe.content.firstElementChild))&&Aa(/<[/\w]/g,Oe.innerHTML)&&Aa(/<[/\w]/g,Oe.textContent)||zn==="select"&&Aa(/<template/i,Oe.innerHTML))return ut(Oe),!0;if(!Qn[zn]||Bt[zn]){if(!Bt[zn]&&tR(zn)&&(on.tagNameCheck instanceof RegExp&&Aa(on.tagNameCheck,zn)||on.tagNameCheck instanceof Function&&on.tagNameCheck(zn)))return!1;if(yr&&!Kr[zn]){var ds=ve(Oe)||Oe.parentNode,Ya=se(Oe)||Oe.childNodes;if(Ya&&ds)for(var ya=Ya.length,Yr=ya-1;Yr>=0;--Yr)ds.insertBefore(j(Ya[Yr],!0),H(Oe))}return ut(Oe),!0}return Oe instanceof u&&!ht(Oe)||(zn==="noscript"||zn==="noembed")&&Aa(/<\/no(script|embed)/i,Oe.innerHTML)?(ut(Oe),!0):(So&&Oe.nodeType===3&&(Yt=Oe.textContent,Yt=Qu(Yt,fo," "),Yt=Qu(Yt,Co," "),Oe.textContent!==Yt&&(mh(t.removed,{element:Oe.cloneNode()}),Oe.textContent=Yt)),Vl("afterSanitizeElements",Oe,null),!1)},eR=function(Oe,Yt,zn){if(Fr&&(Yt==="id"||Yt==="name")&&(zn in o||zn in Q6))return!1;if(!(xn&&!Jn[Yt]&&Aa(Io,Yt))){if(!(co&&Aa(js,Yt))){if(!Mt[Yt]||Jn[Yt]){if(!(tR(Oe)&&(on.tagNameCheck instanceof RegExp&&Aa(on.tagNameCheck,Oe)||on.tagNameCheck instanceof Function&&on.tagNameCheck(Oe))&&(on.attributeNameCheck instanceof RegExp&&Aa(on.attributeNameCheck,Yt)||on.attributeNameCheck instanceof Function&&on.attributeNameCheck(Yt))||Yt==="is"&&on.allowCustomizedBuiltInElements&&(on.tagNameCheck instanceof RegExp&&Aa(on.tagNameCheck,zn)||on.tagNameCheck instanceof Function&&on.tagNameCheck(zn))))return!1}else if(!Ki[Yt]){if(!Aa(no,Qu(zn,fn,""))){if(!((Yt==="src"||Yt==="xlink:href"||Yt==="href")&&Oe!=="script"&&n$(zn,"data:")===0&&ef[Oe])){if(!(Sn&&!Aa(Nt,Qu(zn,fn,"")))){if(zn)return!1}}}}}}return!0},tR=function(Oe){return Oe.indexOf("-")>0},nR=function(Oe){var Yt,zn,ds,Ya;Vl("beforeSanitizeAttributes",Oe,null);var ya=Oe.attributes;if(!!ya){var Yr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Mt};for(Ya=ya.length;Ya--;){Yt=ya[Ya];var jk=Yt,Xr=jk.name,oR=jk.namespaceURI;zn=Xr==="value"?Yt.value:o$(Yt.value),ds=Hl(Xr);var rY=zn;if(Yr.attrName=ds,Yr.attrValue=zn,Yr.keepAttr=!0,Yr.forceKeepAttr=void 0,Vl("uponSanitizeAttribute",Oe,Yr),zn=Yr.attrValue,!Yr.forceKeepAttr){if(!Yr.keepAttr){mn(Xr,Oe);continue}if(Aa(/\/>/i,zn)){mn(Xr,Oe);continue}So&&(zn=Qu(zn,fo," "),zn=Qu(zn,Co," "));var aY=Hl(Oe.nodeName);if(!eR(aY,ds,zn)){mn(Xr,Oe);continue}if(zn!==rY)try{oR?Oe.setAttributeNS(oR,Xr,zn):Oe.setAttribute(Xr,zn)}catch{mn(Xr,Oe)}}}Vl("afterSanitizeAttributes",Oe,null)}},sY=function Wn(Oe){var Yt,zn=mo(Oe);for(Vl("beforeSanitizeShadowDOM",Oe,null);Yt=zn.nextNode();)Vl("uponSanitizeShadowNode",Yt,null),!J6(Yt)&&(Yt.content instanceof s&&Wn(Yt.content),nR(Yt));Vl("afterSanitizeShadowDOM",Oe,null)};return t.sanitize=function(Wn,Oe){var Yt,zn,ds,Ya,ya;if(gd=!Wn,gd&&(Wn="<!-->"),typeof Wn!="string"&&!ui(Wn)){if(typeof Wn.toString!="function")throw LC("toString is not a function");if(Wn=Wn.toString(),typeof Wn!="string")throw LC("dirty is not a string, aborting")}if(!t.isSupported){if(ad(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Wn=="string")return e.toStaticHTML(Wn);if(ui(Wn))return e.toStaticHTML(Wn.outerHTML)}return Wn}if(Us||Lk(Oe),t.removed=[],typeof Wn=="string"&&(ai=!1),ai){if(Wn.nodeName){var Yr=Hl(Wn.nodeName);if(!Qn[Yr]||Bt[Yr])throw LC("root node is forbidden and cannot be sanitized in-place")}}else if(Wn instanceof i)Yt=go("<!---->"),zn=Yt.ownerDocument.importNode(Wn,!0),zn.nodeType===1&&zn.nodeName==="BODY"||zn.nodeName==="HTML"?Yt=zn:Yt.appendChild(zn);else{if(!so&&!So&&!xo&&Wn.indexOf("<")===-1)return Be&&$r?Be.createHTML(Wn):Wn;if(Yt=go(Wn),!Yt)return so?null:$r?at:""}Yt&&Wo&&ut(Yt.firstChild);for(var jk=mo(ai?Wn:Yt);ds=jk.nextNode();)ds.nodeType===3&&ds===Ya||J6(ds)||(ds.content instanceof s&&sY(ds.content),nR(ds),Ya=ds);if(Ya=null,ai)return Wn;if(so){if(qo)for(ya=Dt.call(Yt.ownerDocument);Yt.firstChild;)ya.appendChild(Yt.firstChild);else ya=Yt;return Mt.shadowroot&&(ya=bn.call(n,ya,!0)),ya}var Xr=xo?Yt.outerHTML:Yt.innerHTML;return xo&&Qn["!doctype"]&&Yt.ownerDocument&&Yt.ownerDocument.doctype&&Yt.ownerDocument.doctype.name&&Aa(p$,Yt.ownerDocument.doctype.name)&&(Xr="<!DOCTYPE "+Yt.ownerDocument.doctype.name+`>
`+Xr),So&&(Xr=Qu(Xr,fo," "),Xr=Qu(Xr,Co," ")),Be&&$r?Be.createHTML(Xr):Xr},t.setConfig=function(Wn){Lk(Wn),Us=!0},t.clearConfig=function(){Wl=null,Us=!1},t.isValidAttribute=function(Wn,Oe,Yt){Wl||Lk({});var zn=Hl(Wn),ds=Hl(Oe);return eR(zn,ds,Yt)},t.addHook=function(Wn,Oe){typeof Oe=="function"&&(Ht[Wn]=Ht[Wn]||[],mh(Ht[Wn],Oe))},t.removeHook=function(Wn){if(Ht[Wn])return e$(Ht[Wn])},t.removeHooks=function(Wn){Ht[Wn]&&(Ht[Wn]=[])},t.removeAllHooks=function(){Ht={}},t}var y$=wz();const _z=nt.explode,vz=()=>{const e={};return{addFilter:(s,a)=>{M(_z(s),i=>{gn(e,i)||(e[i]={name:i,callbacks:[]}),e[i].callbacks.push(a)})},getFilters:()=>rs(e),removeFilter:(s,a)=>{M(_z(s),i=>{if(gn(e,i))if(L(a)){const u=e[i],d=Qe(u.callbacks,y=>y!==a);d.length>0?u.callbacks=d:delete e[i]}else delete e[i]})}}},b$=(e,t)=>{M(t,n=>{e.attr(n,null)})},k$=(e,t,n)=>{e.addNodeFilter("font",o=>{M(o,s=>{const a=t.parse(s.attr("style")),i=s.attr("color"),u=s.attr("face"),d=s.attr("size");i&&(a.color=i),u&&(a["font-family"]=u),d&&(a["font-size"]=n[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",t.serialize(a)),b$(s,["color","face","size"])})})},w$=(e,t,n)=>{e.addNodeFilter("strike",o=>{const s=t.type!=="html4";M(o,a=>{if(s)a.name="s";else{const i=n.parse(a.attr("style"));i["text-decoration"]="line-through",a.name="span",a.attr("style",n.serialize(i))}})})},_$=(e,t,n)=>{const o=Uc();t.convert_fonts_to_spans&&k$(e,o,nt.explode(t.font_size_legacy_values)),w$(e,n,o)},v$=(e,t,n)=>{t.inline_styles&&_$(e,t,n)},C$=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),S$=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},WC=e=>{const[t,...n]=e.split(","),o=n.join(","),s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const a=s[2]===";base64",i=a?S$(o):decodeURIComponent(o);return w.some({type:s[1],data:i,base64Encoded:a})}else return w.none()},Cz=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch{return w.none()}const s=new Uint8Array(o.length);for(let a=0;a<s.length;a++)s[a]=o.charCodeAt(a);return w.some(new Blob([s],{type:e}))},x$=e=>new Promise((t,n)=>{WC(e).bind(({type:o,data:s,base64Encoded:a})=>Cz(o,s,a)).fold(()=>n("Invalid data URI"),t)}),E$=e=>un(e,"blob:")?C$(e):un(e,"data:")?x$(e):Promise.reject("Unknown URI format"),Sz=e=>new Promise((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{n(o.error.message)},o.readAsDataURL(e)});let T$=0;const z$=e=>(e||"blobid")+T$++,xz=(e,t,n)=>WC(e).bind(({data:o,type:s,base64Encoded:a})=>{if(t&&!a)return w.none();{const i=a?o:btoa(o);return n(i,s)}}),Ez=(e,t,n)=>{const o=e.create(z$(),t,n);return e.add(o),o},Tz=(e,t,n=!1)=>xz(t,n,(o,s)=>w.from(e.getByData(o,s)).orThunk(()=>Cz(s,o).map(a=>Ez(e,a,o)))),A$=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(un(t,"blob:")){const o=e.getByUri(t);return L(o)?Promise.resolve(o):E$(t).then(s=>Sz(s).then(a=>xz(a,!1,i=>w.some(Ez(e,s,i))).getOrThunk(n)))}else return un(t,"data:")?Tz(e,t).fold(n,o=>Promise.resolve(o)):Promise.reject("Unknown image data format")},N$=e=>L(e.attr("data-mce-bogus")),R$=e=>e.attr("src")===Gn.transparentSrc||L(e.attr("data-mce-placeholder")),D$=(e,t)=>{const{blob_cache:n}=t,o=s=>{const a=s.attr("src");R$(s)||N$(s)||Tz(n,a,!0).each(i=>{s.attr("src",i.blobUri())})};n&&e.addAttributeFilter("src",s=>M(s,o))},O$=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(o,s,a)=>{const i=nt.extend({},n.getBlockElements()),u=n.getNonEmptyElements(),d=n.getWhitespaceElements();i.body=1;for(let y=0,v=o.length;y<v;y++){let T=o[y],N=T.parent;if(i[T.parent.name]&&T===N.lastChild){let F=T.prev;for(;F;){const U=F.name;if(U!=="span"||F.attr("data-mce-type")!=="bookmark"){U==="br"&&(T=null);break}F=F.prev}if(T&&(T.remove(),fh(n,u,d,N))){const U=n.getElementRule(N.name);U&&(U.removeEmpty?N.remove():U.paddEmpty&&yC(t,a,i,N))}}else{let F=T;for(;N&&N.firstChild===F&&N.lastChild===F&&(F=N,!i[N.name]);)N=N.parent;if(F===N){const U=new pa("#text",3);U.value=Vs,T.replace(U)}}}}),e.addAttributeFilter("href",o=>{let s=o.length;const a=u=>u.split(" ").filter(y=>y.length>0).concat(["noopener"]).sort().join(" "),i=u=>{const d=u?nt.trim(u):"";return/\b(noopener)\b/g.test(d)?d:a(d)};if(!t.allow_unsafe_link_target)for(;s--;){const u=o[s];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",i(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let s=o.length,a,i,u,d;for(;s--;)if(d=o[s],d.name==="a"&&d.firstChild&&!d.attr("href")){u=d.parent,a=d.lastChild;do i=a.prev,u.insert(a,d),a=i;while(a)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let s=o.length,a,i;for(;s--;)if(a=o[s],i=a.parent,i.name==="ul"||i.name==="ol")if(a.prev&&a.prev.name==="li")a.prev.append(a);else{const u=new pa("li",1);u.attr("style","list-style-type: none"),a.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",o=>{const s=n.getValidClasses();let a=o.length;for(;a--;){const i=o[a],u=i.attr("class").split(" ");let d="";for(let y=0;y<u.length;y++){const v=u[y];let T=!1,N=s["*"];N&&N[v]&&(T=!0),N=s[i.name],!T&&N&&N[v]&&(T=!0),T&&(d&&(d+=" "),d+=v)}d.length||(d=null),i.attr("class",d)}}),D$(e,t)},zz=nt.each,P$=nt.trim,B$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),$$={ftp:21,http:80,https:443,mailto:25},F$=["img","video"],I$=(e,t)=>L(e)?!e:L(t)?!ce(F$,t):!0,L$=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Az=(e,t,n)=>{const o=L$(t);return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(o)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(o)?I$(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)};class ni{constructor(t,n){t=P$(t),this.settings=n||{};const o=this.settings.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){s.source=t;return}const a=t.indexOf("//")===0;if(t.indexOf("/")===0&&!a&&(t=(o&&o.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const u=this.settings.base_uri?this.settings.base_uri.path:new ni(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+s.toAbsPath(u,t);else{const d=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+s.toAbsPath(u,d[1])+d[2]}}t=t.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);zz(B$,(u,d)=>{let y=i[d];y&&(y=y.replace(/\(mce_at\)/g,"@@")),s[u]=y}),o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),!s.port&&s.host==="mce_host"&&(s.port=o.port),(!s.host||s.host==="mce_host")&&(s.host=o.host),s.source=""),a&&(s.protocol="")}static parseDataUri(t){let n;const o=decodeURIComponent(t).split(","),s=/data:([^;]+)/.exec(o[0]);return s&&(n=s[1]),{type:n,data:o[1]}}static isDomSafe(t,n,o={}){if(o.allow_script_urls)return!0;{const s=Oi.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Az(o,s,n)}}static getDocumentBaseUrl(t){let n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()}toRelative(t){let n;if(t==="./")return t;const o=new ni(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();return s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a?s:(n=this.toRelPath(this.path,o.path),o.query&&(n+="?"+o.query),o.anchor&&(n+="#"+o.anchor),n)}toAbsolute(t,n){const o=new ni(t,{base_uri:this});return o.getURI(n&&this.isSameOrigin(o))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=$$[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let o=0,s="",a,i;const u=t.substring(0,t.lastIndexOf("/")).split("/"),d=n.split("/");if(u.length>=d.length){for(a=0,i=u.length;a<i;a++)if(a>=d.length||u[a]!==d[a]){o=a+1;break}}if(u.length<d.length){for(a=0,i=d.length;a<i;a++)if(a>=u.length||u[a]!==d[a]){o=a+1;break}}if(o===1)return n;for(a=0,i=u.length-(o-1);a<i;a++)s+="../";for(a=o-1,i=d.length;a<i;a++)a!==o-1?s+="/"+d[a]:s+=d[a];return s}toAbsPath(t,n){let o,s=0,a=[],i;const u=/\/$/.test(n)?"/":"";let d=t.split("/");const y=n.split("/");for(zz(d,v=>{v&&a.push(v)}),d=a,o=y.length-1,a=[];o>=0;o--)if(!(y[o].length===0||y[o]===".")){if(y[o]===".."){s++;continue}if(s>0){s--;continue}a.push(y[o])}return o=d.length-s,o<=0?i=io(a).join("/"):i=d.slice(0,o).join("/")+"/"+io(a).join("/"),i.indexOf("/")!==0&&(i="/"+i),u&&i.lastIndexOf("/")!==i.length-1&&(i+=u),i}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const Nz=nt.makeMap,Rz=nt.extend,M$={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},j$=nt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),qC="data-mce-type",U$=(e,t)=>{const n={...M$};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},H$=(e,t)=>{const n=y$(),o=t.getSpecialElements(),s=e.validate;let a=0;return n.addHook("uponSanitizeElement",(i,u)=>{var d,y;i.nodeType===$&&!e.allow_conditional_comments&&/^\[if/i.test(i.nodeValue)&&(i.nodeValue=" "+i.nodeValue);const v=u.tagName;if(i.nodeType!==He||v==="body")return;const T=ne.fromDom(i),N=v.toLowerCase(),F=$a(T,qC),U=Bs(T,"data-mce-bogus");if(!F&&ge(U)){U==="all"?Oo(T):zs(T);return}const j=t.getElementRule(N);if(s&&!j){gn(o,N)?Oo(T):zs(T);return}else u.allowedTags[v]=!0;if(s&&!F){if(M((d=j.attributesForced)!==null&&d!==void 0?d:[],H=>{ao(T,H.name,H.value==="{$uid}"?`mce_${a++}`:H.value)}),M((y=j.attributesDefault)!==null&&y!==void 0?y:[],H=>{$a(T,H.name)||ao(T,H.name,H.value==="{$uid}"?`mce_${a++}`:H.value)}),j.attributesRequired&&!Ce(j.attributesRequired,H=>$a(T,H))){zs(T);return}if(j.removeEmptyAttrs&&ka(T)){zs(T);return}j.outputName&&j.outputName!==N&&Kw(T,j.outputName)}}),n.addHook("uponSanitizeAttribute",(i,u)=>{const d=i.tagName.toLowerCase(),{attrName:y,attrValue:v}=u;u.keepAttr=!s||t.isValid(d,y)||un(y,"data-")||un(y,"aria-"),y in j$&&Az(e,v,d)&&(u.keepAttr=!1),u.keepAttr?(u.allowedAttributes[y]=!0,y in t.getBoolAttrs()&&(u.attrValue=y),e.allow_svg_data_urls&&un(v,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):i.hasAttribute(qC)&&(y==="id"||y==="class"||y==="style")&&(u.forceKeepAttr=!0)}),n},Dz=(e,t,n)=>{const o=e.name,s=o in n&&o!=="title"&&o!=="textarea",a=t.childNodes;for(let i=0,u=a.length;i<u;i++){const d=a[i],y=new pa(d.nodeName.toLowerCase(),d.nodeType);if(dn(d)){const v=d.attributes;for(let T=0,N=v.length;T<N;T++){const F=v[T];y.attr(F.name,F.value)}}else Ft(d)?(y.value=d.data,s&&(y.raw=!0)):(pl(d)||xd(d)||Ed(d))&&(y.value=d.data);Dz(y,d,n),e.append(y)}},W$=(e,t,n)=>{const o=[];for(let s=e,a=s;L(s);a=s,s=s.walk())M(t,i=>i(s)),Ve(s.parent)&&s!==e?s=a:o.push(s);for(let s=o.length-1;s>=0;s--){const a=o[s];M(n,i=>i(a))}},q$=(e,t,n,o)=>{const s=n.validate,a=t.getNonEmptyElements(),i=t.getWhitespaceElements(),u=Rz(Nz("script,style,head,html,body,title,meta,param"),t.getBlockElements()),d=ey(t),y=/[ \t\r\n]+/g,v=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,N=se=>{for(se=se.parent;L(se);){if(se.name in i)return!0;se=se.parent}return!1},F=se=>{let ve=se;for(;L(ve);){if(ve.name in d)return fh(t,a,i,ve);ve=ve.parent}return!1},U=(se,ve)=>{const Se=ve?se.prev:se.next;return L(Se)?!1:se.parent.name in u&&(se.parent!==e||o.isRootContent)};return[se=>{if(se.type===3&&!N(se)){let ve=se.value;ve=ve.replace(y," "),(y4(se.prev,u)||U(se,!0))&&(ve=ve.replace(v,"")),ve.length===0?se.remove():se.value=ve}},se=>{var ve;if(se.type===1){const Se=t.getElementRule(se.name);if(s&&Se){const Be=fh(t,a,i,se);Se.paddInEmptyBlock&&Be&&F(se)?yC(n,o,u,se):Se.removeEmpty&&Be?u[se.name]?se.remove():se.unwrap():Se.paddEmpty&&(Be||g4(se))&&yC(n,o,u,se)}}else if(se.type===3&&!N(se)){let Se=se.value;(u[(ve=se.next)===null||ve===void 0?void 0:ve.name]||U(se,!1))&&(Se=Se.replace(T,"")),Se.length===0?se.remove():se.value=Se}}]},V$=(e,t)=>{var n;const o=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return o===!1?"":o===!0?"p":o},ap=(e={},t=Pi())=>{const n=vz(),o=vz(),s={validate:!0,root_name:"body",...e},a=new DOMParser,i=H$(s,t),u=(ve,Se,Be="html")=>{const at=Be==="xhtml"?"application/xhtml+xml":"text/html",Vt=gn(t.getSpecialElements(),Se.toLowerCase()),lt=Vt?`<${Se}>${ve}</${Se}>`:ve,gt=Be==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${lt}</body></html>`:`<body>${lt}</body>`,Dt=a.parseFromString(gt,at).body;return i.sanitize(Dt,U$(s,at)),i.removed=[],Vt?Dt.firstChild:Dt},d=n.addFilter,y=n.getFilters,v=n.removeFilter,T=o.addFilter,N=o.getFilters,F=o.removeFilter,U=(ve,Se)=>{const Be=ve.parent;Be&&t.children[ve.name]&&!t.isValidChild(Be.name,ve.name)&&Se.push(ve)},j=(ve,Se)=>{const Be=Rz(Nz("script,style,head,html,body,title,meta,param"),t.getBlockElements()),at=/^[ \t\r\n]+/,Vt=/[ \t\r\n]+$/;let lt=ve.firstChild,gt=null;const Dt=Pt=>{Pt&&(lt=Pt.firstChild,lt&&lt.type===3&&(lt.value=lt.value.replace(at,"")),lt=Pt.lastChild,lt&&lt.type===3&&(lt.value=lt.value.replace(Vt,"")))};if(!!t.isValidChild(ve.name,Se.toLowerCase())){for(;lt;){const Pt=lt.next;lt.type===3||lt.type===1&&lt.name!=="p"&&!Be[lt.name]&&!lt.attr(qC)?(gt||(gt=new pa(Se,1),gt.attr(s.forced_root_block_attrs),ve.insert(gt,lt)),gt.append(lt)):(Dt(gt),gt=null),lt=Pt}Dt(gt)}},se={schema:t,addAttributeFilter:T,getAttributeFilters:N,removeAttributeFilter:F,addNodeFilter:d,getNodeFilters:y,removeNodeFilter:v,parse:(ve,Se={})=>{var Be;const at=s.validate,Vt=(Be=Se.context)!==null&&Be!==void 0?Be:s.root_name,lt=u(ve,Vt,Se.format),gt=new pa(Vt,11);Dz(gt,lt,t.getSpecialElements());const[Dt,Pt]=q$(gt,t,s,Se),bn=[],nn=at?Io=>U(Io,bn):ye,Ht={nodes:{},attributes:{}},fo=Io=>BT(y(),N(),Io,Ht);if(W$(gt,[Dt,fo],[Pt,nn]),bn.reverse(),at&&bn.length>0)if(Se.context){const{pass:Io,fail:js}=kt(bn,Nt=>Nt.parent===gt);kC(js,t,fo),Se.invalid=Io.length>0}else kC(bn,t,fo);const Co=V$(s,Se);return Co&&(gt.name==="body"||Se.isRootContent)&&j(gt,Co),Se.invalid||$T(Ht,Se),gt}};return O$(se,s),v$(se,s,t),se},G$=e=>L1(e)?Gu({validate:!1}).serialize(e):e,Oz=(e,t)=>{const n=G$(e),o=t(n);if(o.isDefaultPrevented())return o;if(L1(e))if(o.content!==n){const s=ap({validate:!1,forced_root_block:!1}).parse(o.content,{context:e.name});return{...o,content:s}}else return{...o,content:e};else return o},Pz=(e,t)=>{if(t.no_events)return Pr.value(t);{const n=qg(e,t);return n.isDefaultPrevented()?Pr.error(o1(e,{content:"",...n}).content):Pr.value(n)}},Bz=(e,t,n)=>n.no_events?t:Oz(t,s=>o1(e,{...n,content:s})).content,VC=(e,t)=>{if(t.no_events)return Pr.value(t);{const n=Oz(t.content,o=>Wm(e,{...t,content:o}));return n.isDefaultPrevented()?(Wg(e,n),Pr.error(void 0)):Pr.value(n)}},GC=(e,t,n)=>{n.no_events||Wg(e,{...n,content:t})},KC=(e,t,n)=>({element:e,width:t,rows:n}),$z=(e,t)=>({element:e,cells:t}),K$=(e,t)=>({x:e,y:t}),Fz=(e,t)=>{const n=parseInt(Bs(e,t),10);return isNaN(n)?1:n},Y$=(e,t,n,o,s)=>{const a=Fz(s,"rowspan"),i=Fz(s,"colspan"),u=e.rows;for(let d=n;d<n+a;d++){u[d]||(u[d]=$z(tg(o),[]));for(let y=t;y<t+i;y++){const v=u[d].cells;v[y]=d===n&&y===t?s:hu(s)}}},X$=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},Z$=(e,t,n)=>{for(;X$(e,t,n);)t++;return t},Iz=e=>En(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),Lz=(e,t)=>{const n=e.rows;for(let o=0;o<n.length;o++){const s=n[o].cells;for(let a=0;a<s.length;a++)if(_o(s[a],t))return w.some(K$(a,o))}return w.none()},Mz=(e,t,n,o,s)=>{const a=[],i=e.rows;for(let u=n;u<=s;u++){const d=i[u].cells,y=t<o?d.slice(t,o+1):d.slice(o,t+1);a.push($z(i[u].element,y))}return a},Q$=(e,t,n)=>{const o=t.x,s=t.y,a=n.x,i=n.y,u=s<i?Mz(e,o,s,a,i):Mz(e,o,i,a,s);return KC(e.element,Iz(u),u)},J$=(e,t)=>{const n=hu(e.element),o=ne.fromTag("tbody");return fc(o,t),fs(n,o),n},eF=e=>W(e.rows,t=>{const n=W(t.cells,s=>{const a=tg(s);return is(a,"colspan"),is(a,"rowspan"),a}),o=hu(t.element);return fc(o,n),o}),tF=e=>{const t=KC(hu(e),0,[]);return M(wr(e,"tr"),(n,o)=>{M(wr(n,"td,th"),(s,a)=>{Y$(t,Z$(t,a,o),o,n,s)})}),KC(t.element,Iz(t.rows),t.rows)},nF=e=>J$(e,eF(e)),oF=(e,t,n)=>Lz(e,t).bind(o=>Lz(e,n).map(s=>Q$(e,o,s))),sF=e=>oo(e,t=>tn(t)==="ul"||tn(t)==="ol"),rF=(e,t)=>oo(e,n=>tn(n)==="li"&&$u(n,t)).fold(Z([]),n=>sF(e).map(o=>{const s=ne.fromTag(tn(o)),a=cs(wd(o),(i,u)=>un(u,"list-style"));return jr(s,a),[ne.fromTag("li"),s]}).getOr([])),aF=(e,t)=>{const n=En(t,(o,s)=>(fs(s,o),s),e);return t.length>0?Il([n]):n},cF=e=>hl(e)?nr(e).filter(_f).fold(Z([]),t=>[e,t]):_f(e)?[e]:[],iF=(e,t)=>{const n=ne.fromDom(t.commonAncestorContainer),o=Ll(n,e),s=Qe(o,Cf),a=rF(o,t),i=s.concat(a.length?a:cF(n));return W(i,hu)},jz=()=>Il([]),lF=(e,t)=>aF(ne.fromDom(t.cloneContents()),iF(e,t)),uF=(e,t)=>Ai(t,"table",et(_o,e)),fF=(e,t)=>uF(e,t[0]).bind(n=>{const o=t[0],s=t[t.length-1],a=tF(n);return oF(a,o,s).map(i=>Il([nF(i)]))}).getOrThunk(jz),dF=(e,t)=>t.length>0&&t[0].collapsed?jz():lF(e,t[0]),mF=(e,t)=>{const n=Mg(t,e);return n.length>0?fF(e,n):dF(e,t)},Y1=(e,t)=>t>=0&&t<e.length&&Nu(e.charAt(t)),Uz=e=>E(e.innerText),pF=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),gF=e=>w.from(e.selection.getRng()).map(t=>{const n=w.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),s=pF(n),a=e.dom.add(o,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),i=Uz(a),u=E(a.textContent);if(e.dom.remove(a),Y1(u,0)||Y1(u,u.length-1)){const d=n.getOr(o),y=Uz(d),v=y.indexOf(i);if(v===-1)return i;{const T=Y1(y,v-1),N=Y1(y,v+i.length);return(T?" ":"")+i+(N?" ":"")}}else return i}).getOr(""),hF=(e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),s=e.selection.getSel(),a=rr(e,Pm(s)),i=t.contextual?mF(ne.fromDom(e.getBody()),a).dom:n.cloneContents();return i&&o.appendChild(i),e.selection.serializer.serialize(o,t)},yF=(e,t)=>{if(t.format==="text")return gF(e);{const n=hF(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},bF=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),kF=(e,t,n={})=>{const o=bF(n,t);return Pz(e,o).fold(Pe,s=>{const a=yF(e,s);return Bz(e,a,s)})},YC=0,Hz=1,Wz=2,wF=(e,t)=>{const n=e.length+t.length+2,o=new Array(n),s=new Array(n),a=(v,T,N)=>({start:v,end:T,diag:N}),i=(v,T,N,F,U)=>{const j=d(v,T,N,F);if(j===null||j.start===T&&j.diag===T-F||j.end===v&&j.diag===v-N){let H=v,se=N;for(;H<T||se<F;)H<T&&se<F&&e[H]===t[se]?(U.push([YC,e[H]]),++H,++se):T-v>F-N?(U.push([Wz,e[H]]),++H):(U.push([Hz,t[se]]),++se)}else{i(v,j.start,N,j.start-j.diag,U);for(let H=j.start;H<j.end;++H)U.push([YC,e[H]]);i(j.end,T,j.end-j.diag,F,U)}},u=(v,T,N,F)=>{let U=v;for(;U-T<F&&U<N&&e[U]===t[U-T];)++U;return a(v,U,T)},d=(v,T,N,F)=>{const U=T-v,j=F-N;if(U===0||j===0)return null;const H=U-j,se=j+U,ve=(se%2===0?se:se+1)/2;o[1+ve]=v,s[1+ve]=T+1;let Se,Be,at,Vt,lt;for(Se=0;Se<=ve;++Se){for(Be=-Se;Be<=Se;Be+=2){for(at=Be+ve,Be===-Se||Be!==Se&&o[at-1]<o[at+1]?o[at]=o[at+1]:o[at]=o[at-1]+1,Vt=o[at],lt=Vt-v+N-Be;Vt<T&&lt<F&&e[Vt]===t[lt];)o[at]=++Vt,++lt;if(H%2!==0&&H-Se<=Be&&Be<=H+Se&&s[at-H]<=o[at])return u(s[at-H],Be+v-N,T,F)}for(Be=H-Se;Be<=H+Se;Be+=2){for(at=Be+ve-H,Be===H-Se||Be!==H+Se&&s[at+1]<=s[at-1]?s[at]=s[at+1]-1:s[at]=s[at-1],Vt=s[at]-1,lt=Vt-v+N-Be;Vt>=v&&lt>=N&&e[Vt]===t[lt];)s[at]=Vt--,lt--;if(H%2===0&&-Se<=Be&&Be<=Se&&s[at]<=o[at+H])return u(s[at],Be+v-N,T,F)}}},y=[];return i(0,e.length,0,t.length,y),y},qz=e=>dn(e)?e.outerHTML:Ft(e)?Oi.encodeRaw(e.data,!1):pl(e)?"<!--"+e.data+"-->":"",_F=e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o},vF=(e,t,n)=>{const o=_F(t);if(e.hasChildNodes()&&n<e.childNodes.length){const s=e.childNodes[n];s.parentNode.insertBefore(o,s)}else e.appendChild(o)},CF=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];n.parentNode.removeChild(n)}},SF=(e,t)=>{let n=0;M(e,o=>{o[0]===YC?n++:o[0]===Hz?(vF(t,o[1],n),n++):o[0]===Wz&&CF(t,n)})},xF=e=>Qe(W(ho(e.childNodes),qz),t=>t.length>0),EF=(e,t)=>{const n=W(ho(t.childNodes),qz);return SF(wF(n,e),t),t},TF=rn(()=>document.implementation.createHTMLDocument("undo")),zF=e=>e.indexOf("</iframe>")!==-1,AF=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),NF=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),X1=e=>{const t=xF(e.getBody()),n=Xt(t,s=>{const a=KE(e.serializer,s);return a.length>0?[a]:[]}),o=n.join("");return zF(o)?AF(n):NF(o)},XC=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?EF(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:L(o)&&Rg(o)?!o.isFakeCaret:!0}),e.selection.moveToBookmark(o)},ZC=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Vz=e=>{const t=ne.fromTag("body",TF());return _i(t,ZC(e)),M(wr(t,"*[data-mce-bogus]"),zs),uf(t)},RF=(e,t)=>ZC(e)===ZC(t),DF=(e,t)=>Vz(e)===Vz(t),QC=(e,t)=>!e||!t?!1:RF(e,t)?!0:DF(e,t),JC=e=>e.get()===0,Z1=(e,t,n)=>{JC(n)&&(e.typing=t)},Gz=(e,t)=>{e.typing&&(Z1(e,!1,t),e.add())},OF=e=>{e.typing&&(e.typing=!1,e.add())},PF=(e,t,n)=>{JC(t)&&n.set(Fy(e.selection))},BF=(e,t,n,o,s,a,i)=>{const u=X1(e);if(a=a||{},a=nt.extend(a,u),JC(o)===!1||e.removed)return null;const d=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:a,lastLevel:d,originalEvent:i}).isDefaultPrevented()||d&&QC(d,a))return null;t.data[n.get()]&&s.get().each(T=>{t.data[n.get()].beforeBookmark=T});const y=q_(e);if(y&&t.data.length>y){for(let T=0;T<t.data.length-1;T++)t.data[T]=t.data[T+1];t.data.length--,n.set(t.data.length)}a.bookmark=Fy(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(a),n.set(t.data.length-1);const v={level:a,lastLevel:d,originalEvent:i};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",v),e.dispatch("change",v)):e.dispatch("AddUndo",v),a},$F=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},FF=(e,t,n,o,s)=>{if(t.transact(o)){const a=t.data[n.get()].bookmark,i=t.data[n.get()-1];XC(e,i,!0),t.transact(s)&&(t.data[n.get()-1].beforeBookmark=a)}},IF=(e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],XC(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o},LF=(e,t,n,o)=>{let s;return t.typing&&(t.add(),t.typing=!1,Z1(t,!1,n)),o.get()>0&&(o.set(o.get()-1),s=t.data[o.get()],XC(e,s,!0),e.setDirty(!0),e.dispatch("Undo",{level:s})),s},MF=e=>{e.clear(),e.add()},jF=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!QC(X1(e),t.data[0]),UF=(e,t)=>t.get()<e.data.length-1&&!e.typing,HF=(e,t,n)=>(Gz(e,t),e.beforeChange(),e.ignore(n),e.add()),WF=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},qF=(e,t)=>{const n=e.dom,o=L(t)?t:e.getBody();Le(e.hasVisual)&&(e.hasVisual=G_(e)),M(n.select("table,a",o),s=>{switch(s.nodeName){case"TABLE":const a=K_(e),i=n.getAttrib(s,"border");(!i||i==="0")&&e.hasVisual?n.addClass(s,a):n.removeClass(s,a);break;case"A":if(!n.getAttrib(s,"href")){const u=n.getAttrib(s,"name")||s.id,d=sb(e);u&&e.hasVisual?n.addClass(s,d):n.removeClass(s,d)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Kz=e=>({init:{bindEvents:ye},undoManager:{beforeChange:(t,n)=>PF(e,t,n),add:(t,n,o,s,a,i)=>BF(e,t,n,o,s,a,i),undo:(t,n,o)=>LF(e,t,n,o),redo:(t,n)=>IF(e,t,n),clear:(t,n)=>$F(e,t,n),reset:t=>MF(t),hasUndo:(t,n)=>jF(e,t,n),hasRedo:(t,n)=>UF(t,n),transact:(t,n,o)=>HF(t,n,o),ignore:(t,n)=>WF(t,n),extra:(t,n,o,s)=>FF(e,t,n,o,s)},formatter:{match:(t,n,o,s)=>TC(e,t,n,o,s),matchAll:(t,n)=>s8(e,t,n),matchNode:(t,n,o,s)=>Hi(e,t,n,o,s),canApply:t=>a8(e,t),closest:t=>r8(e,t),apply:(t,n,o)=>iz(e,t,n,o),remove:(t,n,o,s)=>az(e,t,n,o,s),toggle:(t,n,o)=>U8(e,t,n,o),formatChanged:(t,n,o,s,a)=>j8(e,t,n,o,s,a)},editor:{getContent:t=>F9(e,t),setContent:(t,n)=>t8(e,t,n),insertContent:(t,n)=>Z4(e,t,n),addVisual:t=>qF(e,t)},selection:{getContent:(t,n)=>kF(e,t,n)},autocompleter:{addDecoration:t=>Yv(e,t),removeDecoration:()=>od(e,ne.fromDom(e.getBody()))},raw:{getModel:()=>w.none()}}),VF=e=>{const t=y=>zt(y)?y:{},{init:n,undoManager:o,formatter:s,editor:a,selection:i,autocompleter:u,raw:d}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(y,v,T)=>o.transact(T),ignore:(y,v)=>o.ignore(v),extra:(y,v,T,N)=>o.extra(T,N)},formatter:{match:(y,v,T,N)=>s.match(y,t(v),N),matchAll:s.matchAll,matchNode:s.matchNode,canApply:y=>s.canApply(y),closest:y=>s.closest(y),apply:(y,v,T)=>s.apply(y,t(v)),remove:(y,v,T,N)=>s.remove(y,t(v)),toggle:(y,v,T)=>s.toggle(y,t(v)),formatChanged:(y,v,T,N,F)=>s.formatChanged(v,T,N,F)},editor:{getContent:y=>a.getContent(y),setContent:(y,v)=>({content:a.setContent(y,v),html:""}),insertContent:(y,v)=>(a.insertContent(y),""),addVisual:a.addVisual},selection:{getContent:(y,v)=>i.getContent(v)},autocompleter:{addDecoration:u.addDecoration,removeDecoration:u.removeDecoration},raw:{getModel:()=>w.some(d.getRawModel())}}},GF=()=>{const e=Z(null),t=Z("");return{init:{bindEvents:ye},undoManager:{beforeChange:ye,add:e,undo:e,redo:e,clear:ye,reset:ye,hasUndo:cn,hasRedo:cn,transact:e,ignore:ye,extra:ye},formatter:{match:cn,matchAll:Z([]),matchNode:Z(void 0),canApply:cn,closest:t,apply:ye,remove:ye,toggle:ye,formatChanged:Z({unbind:ye})},editor:{getContent:t,setContent:Z({content:"",html:""}),insertContent:Z(""),addVisual:ye},selection:{getContent:t},autocompleter:{addDecoration:ye,removeDecoration:ye},raw:{getModel:Z(w.none())}}},Ml=e=>gn(e.plugins,"rtc"),KF=e=>Vn(e.plugins,"rtc").bind(t=>w.from(t.setup)),YF=e=>{const t=e;return KF(e).fold(()=>(t.rtcInstance=Kz(e),w.none()),n=>(t.rtcInstance=GF(),w.some(()=>n().then(o=>(t.rtcInstance=VF(o),o.rtc.isRemote)))))},eS=e=>e.rtcInstance?e.rtcInstance:Kz(e),Es=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},XF=(e,t,n)=>{Es(e).undoManager.beforeChange(t,n)},ZF=(e,t,n,o,s,a,i)=>Es(e).undoManager.add(t,n,o,s,a,i),QF=(e,t,n,o)=>Es(e).undoManager.undo(t,n,o),JF=(e,t,n)=>Es(e).undoManager.redo(t,n),eI=(e,t,n)=>{Es(e).undoManager.clear(t,n)},tI=(e,t)=>{Es(e).undoManager.reset(t)},nI=(e,t,n)=>Es(e).undoManager.hasUndo(t,n),oI=(e,t,n)=>Es(e).undoManager.hasRedo(t,n),sI=(e,t,n,o)=>Es(e).undoManager.transact(t,n,o),rI=(e,t,n)=>{Es(e).undoManager.ignore(t,n)},aI=(e,t,n,o,s)=>{Es(e).undoManager.extra(t,n,o,s)},cI=(e,t,n,o,s)=>Es(e).formatter.match(t,n,o,s),iI=(e,t,n)=>Es(e).formatter.matchAll(t,n),lI=(e,t,n,o,s)=>Es(e).formatter.matchNode(t,n,o,s),uI=(e,t)=>Es(e).formatter.canApply(t),fI=(e,t)=>Es(e).formatter.closest(t),dI=(e,t,n,o)=>{Es(e).formatter.apply(t,n,o)},mI=(e,t,n,o,s)=>{Es(e).formatter.remove(t,n,o,s)},pI=(e,t,n,o)=>{Es(e).formatter.toggle(t,n,o)},gI=(e,t,n,o,s,a)=>Es(e).formatter.formatChanged(t,n,o,s,a),hI=(e,t)=>eS(e).editor.getContent(t),yI=(e,t,n)=>eS(e).editor.setContent(t,n),bI=(e,t,n)=>eS(e).editor.insertContent(t,n),kI=(e,t,n)=>Es(e).selection.getContent(t,n),wI=(e,t)=>Es(e).editor.addVisual(t),Yz=e=>Es(e).init.bindEvents(),_I=(e,t)=>Es(e).autocompleter.addDecoration(t),vI=e=>Es(e).autocompleter.removeDecoration(),CI=(e,t={})=>{const n=t.format?t.format:"html";return kI(e,n,t)},Xz=e=>e.dom.length===0?(Oo(e),w.none()):w.some(e),SI=(e,t)=>e.filter(n=>Xf.isBookmarkNode(n.dom)).bind(t?yi:Ia),xI=(e,t,n,o)=>{const s=e.dom,a=t.dom,i=o?s.length:a.length;o?(rC(s,a,!1,!o),n.setStart(a,i)):(rC(a,s,!1,!o),n.setEnd(a,i))},EI=(e,t)=>{nr(e).each(n=>{const o=e.dom;t&&O1(n,je(o,0))?B1(o,0):!t&&P1(n,je(o,o.length))&&sC(o,o.length)})},Zz=(e,t,n,o)=>{e.bind(s=>((o?sC:B1)(s.dom,o?s.dom.length:0),t.filter(ko).map(i=>xI(s,i,n,o)))).orThunk(()=>SI(t,o).or(t).filter(ko).map(a=>EI(a,o)))},TI=(e,t)=>{const n=w.from(t.firstChild).map(ne.fromDom),o=w.from(t.lastChild).map(ne.fromDom);e.deleteContents(),e.insertNode(t);const s=n.bind(Ia).filter(ko).bind(Xz),a=o.bind(yi).filter(ko).bind(Xz);Zz(s,n,e,!0),Zz(a,o,e,!1),e.collapse(!1)},zI=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),AI=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),s=o?{context:o.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...s,...t});return Gu({validate:!1},e.schema).serialize(a)}else return t.content},NI=(e,t,n={})=>{const o=zI(n,t);VC(e,o).each(s=>{const a=AI(e,s),i=e.selection.getRng();TI(i,i.createContextualFragment(a)),e.selection.setRng(i),Wu(e,i),GC(e,a,s)})},Qz=(e,t,n)=>{if(e&&gn(e,t)){const o=Qe(e[t],s=>s!==n);o.length===0?delete e[t]:e[t]=o}};var RI=(e,t)=>{let n,o;const s=(i,u)=>oo(u,d=>e.is(d,i)),a=i=>e.getParents(i,null,e.getRoot());return{selectorChangedWithUnbind:(i,u)=>(n||(n={},o={},t.on("NodeChange",d=>{const y=d.element,v=a(y),T={};nt.each(n,(N,F)=>{s(F,v).each(U=>{o[F]||(M(N,j=>{j(!0,{node:U,selector:F,parents:v})}),o[F]=N),T[F]=N})}),nt.each(o,(N,F)=>{T[F]||(delete o[F],nt.each(N,U=>{U(!1,{node:y,selector:F,parents:v})}))})})),n[i]||(n[i]=[]),n[i].push(u),s(i,a(t.selection.getStart())).each(()=>{o[i]=n[i]}),{unbind:()=>{Qz(n,i,u),Qz(o,i,u)}})}};const Jz=e=>!!(e&&e.ownerDocument)&&Cs(ne.fromDom(e.ownerDocument),ne.fromDom(e)),DI=e=>e?Jz(e.startContainer)&&Jz(e.endContainer):!1,e2=(e,t,n,o)=>{let s,a;const{selectorChangedWithUnbind:i}=RI(e,o),u=(Nt,fn)=>{const no=e.createRng();L(Nt)&&L(fn)?(no.setStart(Nt,fn),no.setEnd(Nt,fn),Se(no),H(!1)):($m(e,no,o.getBody(),!0),Se(no))},d=Nt=>CI(o,Nt),y=(Nt,fn)=>NI(o,Nt,fn),v=Nt=>Po(o.getBody(),ve(),Nt),T=Nt=>pr(o.getBody(),ve(),Nt),N=(Nt,fn)=>Io.getBookmark(Nt,fn),F=Nt=>Io.moveToBookmark(Nt),U=(Nt,fn)=>(Vu(e,Nt,fn).each(Se),Nt),j=()=>{const Nt=ve(),fn=se();return!Nt||Nt.item?!1:Nt.compareEndPoints?Nt.compareEndPoints("StartToEnd",Nt)===0:!fn||Nt.collapsed},H=Nt=>{const fn=ve();fn.collapse(!!Nt),Se(fn)},se=()=>t.getSelection?t.getSelection():t.document.selection,ve=()=>{let Nt,fn,no;const Qn=(Mt,_n,on)=>{try{return _n.compareBoundaryPoints(Mt,on)}catch{return-1}},Ys=t.document;if(o.bookmark!==void 0&&Xo(o)===!1){const Mt=tp(o);if(Mt.isSome())return Mt.map(_n=>rr(o,[_n])[0]).getOr(Ys.createRange())}try{(Nt=se())&&!Si(Nt.anchorNode)&&(Nt.rangeCount>0?fn=Nt.getRangeAt(0):fn=Nt.createRange?Nt.createRange():Ys.createRange(),fn=rr(o,[fn])[0])}catch{}return fn||(fn=Ys.createRange()),fn.setStart&&fn.startContainer.nodeType===9&&fn.collapsed&&(no=e.getRoot(),fn.setStart(no,0),fn.setEnd(no,0)),s&&a&&(Qn(fn.START_TO_START,fn,s)===0&&Qn(fn.END_TO_END,fn,s)===0?fn=a:(s=null,a=null)),fn},Se=(Nt,fn)=>{let no;if(!DI(Nt))return;const Qn=se();if(Nt=o.dispatch("SetSelectionRange",{range:Nt,forward:fn}).range,Qn){a=Nt;try{Qn.removeAllRanges(),Qn.addRange(Nt)}catch{}fn===!1&&Qn.extend&&(Qn.collapse(Nt.endContainer,Nt.endOffset),Qn.extend(Nt.startContainer,Nt.startOffset)),s=Qn.rangeCount>0?Qn.getRangeAt(0):null}!Nt.collapsed&&Nt.startContainer===Nt.endContainer&&Qn.setBaseAndExtent&&Nt.endOffset-Nt.startOffset<2&&Nt.startContainer.hasChildNodes()&&(no=Nt.startContainer.childNodes[Nt.startOffset],no&&no.tagName==="IMG"&&(Qn.setBaseAndExtent(Nt.startContainer,Nt.startOffset,Nt.endContainer,Nt.endOffset),(Qn.anchorNode!==Nt.startContainer||Qn.focusNode!==Nt.endContainer)&&Qn.setBaseAndExtent(no,0,no,1))),o.dispatch("AfterSetSelectionRange",{range:Nt,forward:fn})},Be=Nt=>(y(e.getOuterHTML(Nt)),Nt),at=()=>Ga(o.getBody(),ve()),Vt=(Nt,fn)=>Ta(e,ve(),Nt,fn),lt=()=>{const Nt=se(),fn=Nt==null?void 0:Nt.anchorNode,no=Nt==null?void 0:Nt.focusNode;if(!Nt||!fn||!no||Si(fn)||Si(no))return!0;const Qn=e.createRng(),Ys=e.createRng();try{Qn.setStart(fn,Nt.anchorOffset),Qn.collapse(!0),Ys.setStart(no,Nt.focusOffset),Ys.collapse(!0)}catch{return!0}return Qn.compareBoundaryPoints(Qn.START_TO_START,Ys)<=0},Co={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:o,collapse:H,setCursorLocation:u,getContent:d,setContent:y,getBookmark:N,moveToBookmark:F,select:U,isCollapsed:j,isForward:lt,setNode:Be,getNode:at,getSel:se,setRng:Se,getRng:ve,getStart:v,getEnd:T,getSelectedBlocks:Vt,normalize:()=>{const Nt=ve(),fn=se();if(!M0(fn)&&Fm(o)){const no=Xm(e,Nt);return no.each(Qn=>{Se(Qn,lt())}),no.getOr(Nt)}return Nt},selectorChanged:(Nt,fn)=>(i(Nt,fn),Co),selectorChangedWithUnbind:i,getScrollContainer:()=>{let Nt,fn=e.getRoot();for(;fn&&fn.nodeName!=="BODY";){if(fn.scrollHeight>fn.clientHeight){Nt=fn;break}fn=fn.parentNode}return Nt},scrollIntoView:(Nt,fn)=>{L(Nt)?nh(o,Nt,fn):Wu(o,ve(),fn)},placeCaretAt:(Nt,fn)=>Se(xa(Nt,fn,o.getDoc())),getBoundingClientRect:()=>{const Nt=ve();return Nt.collapsed?je.fromRangeStart(Nt).getClientRects()[0]:Nt.getBoundingClientRect()},destroy:()=>{t=s=a=null,js.destroy()}},Io=Xf(Co),js=l1(Co,o);return Co.bookmarkManager=Io,Co.controlSelection=js,Co},OI=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(o,s)=>{let a=o.length;for(;a--;){const i=o[a];i.attr("tabindex",i.attr("data-mce-tabindex")),i.attr(s,null)}}),e.addAttributeFilter("src,href,style",(o,s)=>{const a="data-mce-"+s,i=t.url_converter,u=t.url_converter_scope;let d=o.length;for(;d--;){const y=o[d];let v=y.attr(a);v!==void 0?(y.attr(s,v.length>0?v:null),y.attr(a,null)):(v=y.attr(s),s==="style"?v=n.serializeStyle(n.parseStyle(v),y.name):i&&(v=i.call(u,v,s,y.name)),y.attr(s,v.length>0?v:null))}}),e.addAttributeFilter("class",o=>{let s=o.length;for(;s--;){const a=o[s];let i=a.attr("class");i&&(i=a.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),a.attr("class",i.length>0?i:null))}}),e.addAttributeFilter("data-mce-type",(o,s,a)=>{let i=o.length;for(;i--;){const u=o[i];u.attr("data-mce-type")==="bookmark"&&!a.cleanup&&(w.from(u.firstChild).exists(y=>!h(y.value))?u.unwrap():u.remove())}}),e.addNodeFilter("noscript",o=>{let s=o.length;for(;s--;){const a=o[s].firstChild;a&&(a.value=Oi.decode(a.value))}}),e.addNodeFilter("script,style",(o,s)=>{const a=u=>u.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=o.length;for(;i--;){const u=o[i],d=u.firstChild?u.firstChild.value:"";if(s==="script"){const y=u.attr("type");y&&u.attr("type",y==="mce-no/type"?null:y.replace(/^mce\-/,"")),t.element_format==="xhtml"&&d.length>0&&(u.firstChild.value=`// <![CDATA[
`+a(d)+`
// ]]>`)}else t.element_format==="xhtml"&&d.length>0&&(u.firstChild.value=`<!--
`+a(d)+`
-->`)}}),e.addNodeFilter("#comment",o=>{let s=o.length;for(;s--;){const a=o[s];t.preserve_cdata&&a.value.indexOf("[CDATA[")===0?(a.name="#cdata",a.type=4,a.value=n.decode(a.value.replace(/^\[CDATA\[|\]\]$/g,""))):a.value.indexOf("mce:protected ")===0&&(a.name="#text",a.type=3,a.raw=!0,a.value=unescape(a.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",(o,s)=>{let a=o.length;for(;a--;){const i=o[a];i.type===7?i.remove():i.type===1&&s==="input"&&!i.attr("type")&&i.attr("type","text")}}),e.addAttributeFilter("data-mce-type",o=>{M(o,s=>{s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(o,s)=>{let a=o.length;for(;a--;)o[a].attr(s,null)})},PI=e=>{const t=o=>o&&o.name==="br",n=e.lastChild;if(t(n)){const o=n.prev;t(o)&&(n.remove(),o.remove())}},BI=(e,t,n)=>{let o;const s=e.dom;let a=t.cloneNode(!0);const i=document.implementation;if(i.createHTMLDocument){const u=i.createHTMLDocument("");nt.each(a.nodeName==="BODY"?a.childNodes:[a],d=>{u.body.appendChild(u.importNode(d,!0))}),a.nodeName!=="BODY"?a=u.body.firstChild:a=u.body,o=s.doc,s.doc=u}return V0(e,{...n,node:a}),o&&(s.doc=o),a},$I=(e,t)=>e&&e.hasEventListeners("PreProcess")&&!t.no_events,FI=(e,t,n)=>$I(e,n)?BI(e,t,n):t,II=(e,t,n)=>{nt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(o,s)=>{let a=o.length;for(;a--;)o[a].attr(s,null)}),t.push(n))},LI=(e,t,n)=>!t.no_events&&e?G0(e,{...t,content:n}).content:n,MI=(e,t,n)=>{const o=E(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||su(ne.fromDom(t))?o:nt.trim(o)},jI=(e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,s=e.parse(t,o);return PI(s),s},UI=(e,t,n)=>Gu(e,t).serialize(n),HI=(e,t,n,o,s)=>{const a=UI(t,n,o);return LI(e,s,a)},WI=(e,t)=>{const n=["data-mce-selected"],o=t&&t.dom?t.dom:Ho.DOM,s=t&&t.schema?t.schema:Pi(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const a=ap(e,s);OI(a,e,o);const i=(u,d={})=>{const y={format:"html",...d},v=FI(t,u,y),T=MI(o,v,y),N=jI(a,T,y);return y.format==="tree"?N:HI(t,e,s,N,y)};return{schema:s,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:i,addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:et(II,a,n),getTempAttrs:Z(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},t2=(e,t)=>{const n=WI(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},qI="html",VI=(e,t)=>({...e,format:t,get:!0,getInner:!0}),GI=(e,t={})=>{const n=t.format?t.format:qI,o=VI(t,n);return Pz(e,o).fold(Pe,s=>{const a=hI(e,s);return Bz(e,a,s)})},KI="html",YI=(e,t)=>({format:KI,...e,set:!0,content:t}),tS=(e,t,n={})=>{const o=YI(n,t);return VC(e,o).map(s=>{const a=yI(e,s.content,s);return GC(e,a.html,s),a.content}).getOr(t)},XI="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),ZI="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),QI=e=>{const t=Qe(XI,o=>gn(e,o)),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Qt(t)},JI=e=>{const t=nt.makeMap(e.plugins," "),o=Qe(ZI,s=>gn(t,s));return Qt(o)},e7=(e,t)=>{const n=QI(e),o=JI(t),s=o.length>0,a=n.length>0,i=t.theme==="mobile";if(s||a||i){const u=`
- `,d=i?`

Themes:${u}mobile`:"",y=s?`

Plugins:${u}${o.join(u)}`:"",v=a?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+d+y+v)}},t7=(e,t)=>{e7(e,t)},Q1=Ho.DOM,n7=e=>{Q1.setStyle(e.id,"display",e.orgDisplay)},J1=e=>w.from(e).each(t=>t.destroy()),o7=e=>{e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},s7=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Q1.unbind(t,"submit reset",e.formEventDelegate))},r7=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),s=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&Q1.remove(s.nextSibling),K0(e),e.editorManager.remove(e),!e.inline&&o&&n7(e),Y0(e),Q1.remove(e.getContainer()),J1(t),J1(n),e.destroy()}},a7=(e,t)=>{const{selection:n,dom:o}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),J1(n),J1(o)),s7(e),o7(e),e.destroyed=!0}},ek=(()=>{const e={};return{add:(s,a)=>{e[s]=a},get:s=>e[s]?e[s]:{icons:{}},has:s=>gn(e,s)}})(),cp=mr.ModelManager,n2=(e,t)=>t.dom[e],o2=(e,t)=>parseInt(qs(t,e),10),c7=et(n2,"clientWidth"),i7=et(n2,"clientHeight"),l7=et(o2,"margin-top"),u7=et(o2,"margin-left"),f7=e=>e.dom.getBoundingClientRect(),d7=(e,t,n)=>{const o=c7(e),s=i7(e);return t>=0&&n>=0&&t<=o&&n<=s},m7=(e,t,n,o)=>{const s=f7(t),a=e?s.left+t.dom.clientLeft+u7(t):0,i=e?s.top+t.dom.clientTop+l7(t):0,u=n-a,d=o-i;return{x:u,y:d}},p7=(e,t,n)=>{const o=ne.fromDom(e.getBody()),s=e.inline?o:Kl(o),a=m7(e.inline,s,t,n);return d7(s,a.x,a.y)},g7=e=>w.from(e).map(ne.fromDom),h7=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return g7(t).map(On).getOr(!1)},y7=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}},s2=e=>{const t=[],n=()=>{const N=e.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():y7()},o=()=>w.from(t[0]),s=(N,F)=>N.type===F.type&&N.text===F.text&&!N.progressBar&&!N.timeout&&!F.progressBar&&!F.timeout,a=()=>{M(t,N=>{N.reposition()})},i=N=>{t.push(N)},u=N=>{Yn(t,F=>F===N).each(F=>{t.splice(F,1)})},d=(N,F=!0)=>{if(!(e.removed||!h7(e)))return F&&e.dispatch("BeforeOpenNotification",{notification:N}),oo(t,U=>s(n().getArgs(U),N)).getOrThunk(()=>{e.editorManager.setActive(e);const U=n().open(N,()=>{u(U),a(),o().fold(()=>e.focus(),j=>v1(ne.fromDom(j.getEl())))});return i(U),a(),e.dispatch("OpenNotification",{notification:{...U}}),U})},y=()=>{o().each(N=>{n().close(N),u(N),a()})},v=Z(t);return(N=>{N.on("SkinLoaded",()=>{const F=$_(N);F&&d({text:F,type:"warning",timeout:0},!1),a()}),N.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(a)}),N.on("remove",()=>{M(t.slice(),F=>{n().close(F)})})})(e),{open:d,close:y,getNotifications:v}},ip=mr.PluginManager,id=mr.ThemeManager;var b7=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}};const r2=e=>{let t=[];const n=()=>{const j=e.theme;return j&&j.getWindowManagerImpl?j.getWindowManagerImpl():b7()},o=(j,H)=>(...se)=>H?H.apply(j,se):void 0,s=j=>{e.dispatch("OpenWindow",{dialog:j})},a=j=>{e.dispatch("CloseWindow",{dialog:j})},i=j=>{t.push(j),s(j)},u=j=>{a(j),t=Qe(t,H=>H!==j),t.length===0&&e.focus()},d=()=>w.from(t[t.length-1]),y=j=>{e.editorManager.setActive(e),sh(e),e.ui.show();const H=j();return i(H),H},v=(j,H)=>y(()=>n().open(j,H,u)),T=j=>y(()=>n().openUrl(j,u)),N=(j,H,se)=>{const ve=n();ve.alert(j,o(se||ve,H))},F=(j,H,se)=>{const ve=n();ve.confirm(j,o(se||ve,H))},U=()=>{d().each(j=>{n().close(j),u(j)})};return e.on("remove",()=>{M(t,j=>{n().close(j)})}),{open:v,openUrl:T,alert:N,confirm:F,close:U}},a2=(e,t)=>{e.notificationManager.open({type:"error",text:t})},tk=(e,t)=>{e._skinLoaded?a2(e,t):e.on("SkinLoaded",()=>{a2(e,t)})},k7=(e,t)=>{tk(e,Hr.translate(["Failed to upload image: {0}",t]))},ph=(e,t,n)=>{t1(e,t,{message:n}),console.error(n)},gh=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,w7=(e,t,n)=>{ph(e,"PluginLoadError",gh("plugin",t,n))},_7=(e,t,n)=>{ph(e,"IconsLoadError",gh("icons",t,n))},v7=(e,t,n)=>{ph(e,"LanguageLoadError",gh("language",t,n))},C7=(e,t,n)=>{ph(e,"ThemeLoadError",gh("theme",t,n))},S7=(e,t,n)=>{ph(e,"ModelLoadError",gh("model",t,n))},x7=(e,t,n)=>{const o=Hr.translate(["Failed to initialize plugin: {0}",t]);t1(e,"PluginLoadError",{message:o}),nk(o,n),tk(e,o)},nk=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},E7=e=>/^[a-z0-9\-]+$/i.test(e),T7=e=>c2(e,N_(e)),z7=e=>c2(e,Qy(e)),c2=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",s=`content${e.editorManager.suffix}.css`,a=e.inline===!0;return W(t,i=>E7(i)&&!a?`${n}/${i}/${s}`:e.documentBaseURI.toAbsolute(i))},A7=e=>{e.contentCSS=e.contentCSS.concat(T7(e),z7(e))},N7=wn,R7=(e,t,n)=>Jl(e,t,N7,n),D7=e=>e?ho(e.getElementsByTagName("img")):[],O7=(e,t)=>{const n={};return{findAll:(s,a=wn)=>{const i=Qe(D7(s),d=>{const y=d.src;return d.hasAttribute("data-mce-bogus")||d.hasAttribute("data-mce-placeholder")||!y||y===Gn.transparentSrc?!1:un(y,"blob:")?!e.isUploaded(y)&&a(d):un(y,"data:")?a(d):!1}),u=W(i,d=>{const y=d.src;if(gn(n,y))return n[y].then(v=>ge(v)?v:{image:d,blobInfo:v.blobInfo});{const v=A$(t,y).then(T=>(delete n[y],{image:d,blobInfo:T})).catch(T=>(delete n[y],T));return n[y]=v,v}});return Promise.all(u)}}},i2=()=>{let n={};const o=(N,F)=>({status:N,resultUri:F}),s=N=>N in n;return{hasBlobUri:s,getResultUri:N=>{const F=n[N];return F?F.resultUri:null},isPending:N=>s(N)?n[N].status===1:!1,isUploaded:N=>s(N)?n[N].status===2:!1,markPending:N=>{n[N]=o(1,null)},markUploaded:(N,F)=>{n[N]=o(2,F)},removeFailed:N=>{delete n[N]},destroy:()=>{n={}}}};let P7=0;const B7=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36),t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},$7=e=>e+P7+++B7(),F7=()=>{let e=[];const t=T=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[T.toLowerCase()]||"dat",n=(T,N,F,U,j)=>{if(ge(T))return o({id:T,name:U,filename:j,blob:N,base64:F});if(zt(T))return o(T);throw new Error("Unknown input type")},o=T=>{if(!T.blob||!T.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const N=T.id||$7("blobid"),F=T.name||N,U=T.blob;return{id:Z(N),name:Z(F),filename:Z(T.filename||F+"."+t(U.type)),blob:Z(U),base64:Z(T.base64),blobUri:Z(T.blobUri||URL.createObjectURL(U)),uri:Z(T.uri)}},s=T=>{i(T.id())||e.push(T)},a=T=>oo(e,T).getOrUndefined(),i=T=>a(N=>N.id()===T);return{create:n,add:s,get:i,getByUri:T=>a(N=>N.blobUri()===T),getByData:(T,N)=>a(F=>F.base64()===T&&F.blob().type===N),findFirst:a,removeByUri:T=>{e=Qe(e,N=>N.blobUri()===T?(URL.revokeObjectURL(N.blobUri()),!1):!0)},destroy:()=>{M(e,T=>{URL.revokeObjectURL(T.blobUri())}),e=[]}}},I7=(e,t)=>{const n={},o=(U,j)=>U?U.replace(/\/$/,"")+"/"+j.replace(/^\//,""):j,s=(U,j)=>new Promise((H,se)=>{const ve=new XMLHttpRequest;ve.open("POST",t.url),ve.withCredentials=t.credentials,ve.upload.onprogress=Be=>{j(Be.loaded/Be.total*100)},ve.onerror=()=>{se("Image upload failed due to a XHR Transport error. Code: "+ve.status)},ve.onload=()=>{if(ve.status<200||ve.status>=300){se("HTTP Error: "+ve.status);return}const Be=JSON.parse(ve.responseText);if(!Be||!ge(Be.location)){se("Invalid JSON: "+ve.responseText);return}H(o(t.basePath,Be.location))};const Se=new FormData;Se.append("file",U.blob(),U.filename()),ve.send(Se)}),a=()=>new Promise(U=>{U([])}),i=(U,j)=>({url:j,blobInfo:U,status:!0}),u=(U,j)=>({url:"",blobInfo:U,status:!1,error:j}),d=(U,j)=>{nt.each(n[U],H=>{H(j)}),delete n[U]},y=(U,j,H)=>(e.markPending(U.blobUri()),new Promise(se=>{let ve,Se;try{const Be=()=>{ve&&(ve.close(),Se=ye)},at=lt=>{Be(),e.markUploaded(U.blobUri(),lt),d(U.blobUri(),i(U,lt)),se(i(U,lt))},Vt=lt=>{Be(),e.removeFailed(U.blobUri()),d(U.blobUri(),u(U,lt)),se(u(U,lt))};Se=lt=>{lt<0||lt>100||w.from(ve).orThunk(()=>w.from(H).map(an)).each(gt=>{ve=gt,gt.progressBar.value(lt)})},j(U,Se).then(at,lt=>{Vt(ge(lt)?{message:lt}:lt)})}catch(Be){se(u(U,Be))}})),v=U=>U===s,T=U=>{const j=U.blobUri();return new Promise(H=>{n[j]=n[j]||[],n[j].push(H)})},N=(U,j)=>(U=nt.grep(U,H=>!e.isUploaded(H.blobUri())),Promise.all(nt.map(U,H=>e.isPending(H.blobUri())?T(H):y(H,t.handler,j)))),F=(U,j)=>!t.url&&v(t.handler)?a():N(U,j);return Wt(t.handler)===!1&&(t.handler=s),{upload:F}},l2=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),u2=(e,t)=>I7(t,{url:Ky(e),basePath:T_(e),credentials:Yy(e),handler:hg(e)}),L7=e=>{const t=i2(),n=u2(e,t);return{upload:(o,s=!0)=>n.upload(o,s?l2(e):void 0)}},M7=e=>{const t=F7();let n,o;const s=i2(),a=[],i=Se=>Be=>e.selection?Se(Be):[],u=Se=>Se+(Se.indexOf("?")===-1?"?":"&")+new Date().getTime(),d=(Se,Be,at)=>{let Vt=0;do Vt=Se.indexOf(Be,Vt),Vt!==-1&&(Se=Se.substring(0,Vt)+at+Se.substr(Vt+Be.length),Vt+=at.length-Be.length+1);while(Vt!==-1);return Se},y=(Se,Be,at)=>{const Vt=`src="${at}"${at===Gn.transparentSrc?' data-mce-placeholder="1"':""}`;return Se=d(Se,`src="${Be}"`,Vt),Se=d(Se,'data-mce-src="'+Be+'"','data-mce-src="'+at+'"'),Se},v=(Se,Be)=>{M(e.undoManager.data,at=>{at.type==="fragmented"?at.fragments=W(at.fragments,Vt=>y(Vt,Se,Be)):at.content=y(at.content,Se,Be)})},T=(Se,Be)=>{const at=e.convertURL(Be,"src");v(Se.src,Be),ts(ne.fromDom(Se),{src:mm(e)?u(Be):Be,"data-mce-src":at})},N=()=>(n||(n=u2(e,s)),H().then(i(Se=>{const Be=W(Se,at=>at.blobInfo);return n.upload(Be,l2(e)).then(i(at=>{const Vt=[];let lt=!1;const gt=W(at,(Dt,Pt)=>{const bn=Se[Pt].blobInfo,nn=Se[Pt].image;let Ht=!1;return Dt.status&&Vy(e)?(Dt.url&&!Lt(nn.src,Dt.url)&&(lt=!0),t.removeByUri(nn.src),Ml(e)||T(nn,Dt.url)):Dt.error&&(Dt.error.remove&&(v(nn.getAttribute("src"),Gn.transparentSrc),Vt.push(nn),Ht=!0),k7(e,Dt.error.message)),{element:nn,status:Dt.status,uploadUri:Dt.url,blobInfo:bn,removed:Ht}});return Vt.length>0&&!Ml(e)?e.undoManager.transact(()=>{M(Vt,Dt=>{e.dom.remove(Dt),t.removeByUri(Dt.src)})}):lt&&e.undoManager.dispatchChange(),gt}))}))),F=()=>dm(e)?N():Promise.resolve([]),U=Se=>ro(a,Be=>Be(Se)),j=Se=>{a.push(Se)},H=()=>(o||(o=O7(s,t)),o.findAll(e.getBody(),U).then(i(Se=>{const Be=Qe(Se,at=>ge(at)?(tk(e,at),!1):!0);return Ml(e)||M(Be,at=>{v(at.image.src,at.blobInfo.blobUri()),at.image.src=at.blobInfo.blobUri(),at.image.removeAttribute("data-mce-src")}),Be}))),se=()=>{t.destroy(),s.destroy(),o=n=null},ve=Se=>Se.replace(/src="(blob:[^"]+)"/g,(Be,at)=>{const Vt=s.getResultUri(at);if(Vt)return'src="'+Vt+'"';let lt=t.getByUri(at);if(lt||(lt=En(e.editorManager.get(),(gt,Dt)=>gt||Dt.editorUpload&&Dt.editorUpload.blobCache.getByUri(at),null)),lt){const gt=lt.blob();return'src="data:'+gt.type+";base64,"+lt.base64()+'"'}return Be});return e.on("SetContent",()=>{dm(e)?F():H()}),e.on("RawSaveContent",Se=>{Se.content=ve(Se.content)}),e.on("GetContent",Se=>{Se.source_view||Se.format==="raw"||Se.format==="tree"||(Se.content=ve(Se.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Se=>{M(Se,Be=>{const at=Be.attr("src");if(t.getByUri(at))return;const Vt=s.getResultUri(at);Vt&&Be.attr("src",Vt)})})}),{blobCache:t,addFilter:j,uploadImages:N,uploadImagesAuto:F,scanForImages:H,destroy:se}},j7=e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const s={inline:"span",styles:{textDecoration:"line-through"},exact:!0},a={inline:"strike",remove:"all",preserve_attributes:["class","style"]},i={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[i,s,a]:[s,i,a]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(s,a,i)=>dn(s)&&s.hasAttribute("href"),onformat:(s,a,i)=>{nt.each(i,(u,d)=>{t.setAttrib(s,d,u)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":s=>{var a;return(a=s==null?void 0:s.customValue)!==null&&a!==void 0?a:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),s=>{o[s]={block:s,remove:"all"}}),o},f2={remove_similar:!0,inherit:!1},lp={selector:"td,th",...f2},U7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...lp},tablecellverticalalign:{styles:{"vertical-align":"%value"},...lp},tablecellbordercolor:{styles:{borderColor:"%value"},...lp},tablecellclass:{classes:["%value"],...lp},tableclass:{selector:"table",classes:["%value"],...f2},tablecellborderstyle:{styles:{borderStyle:"%value"},...lp},tablecellborderwidth:{styles:{borderWidth:"%value"},...lp}},H7=Z(U7),W7=e=>{const t={},n=i=>L(i)?t[i]:t,o=i=>gn(t,i),s=(i,u)=>{i&&(ge(i)?(le(u)||(u=[u]),M(u,d=>{Le(d.deep)&&(d.deep=!qr(d)),Le(d.split)&&(d.split=!qr(d)||Ls(d)),Le(d.remove)&&qr(d)&&!Ls(d)&&(d.remove="none"),qr(d)&&Ls(d)&&(d.mixed=!0,d.block_expand=!0),ge(d.classes)&&(d.classes=d.classes.split(/\s+/))}),t[i]=u):Ot(i,(d,y)=>{s(y,d)}))},a=i=>(i&&t[i]&&delete t[i],t);return s(j7(e)),s(H7()),s(L_(e)),{get:n,has:o,register:s,unregister:a}},ok=nt.each,Na=Ho.DOM,d2=(e,t)=>{let n,o,s;const a=t&&t.schema||Pi({}),i=(v,T)=>{T.classes.length&&Na.addClass(v,T.classes.join(" ")),Na.setAttribs(v,T.attrs)},u=v=>{o=typeof v=="string"?{name:v,classes:[],attrs:{}}:v;const T=Na.create(o.name);return i(T,o),T},d=(v,T)=>{const N=typeof v!="string"?v.nodeName.toLowerCase():v,F=a.getElementRule(N),U=F&&F.parentsRequired;return U&&U.length?T&&nt.inArray(U,T)!==-1?T:U[0]:!1},y=(v,T,N)=>{let F,U;const j=T.length>0&&T[0],H=j&&j.name,se=d(v,H);if(se)H===se?(U=T[0],T=T.slice(1)):U=se;else if(j)U=T[0],T=T.slice(1);else if(!N)return v;return U&&(F=u(U),F.appendChild(v)),N&&(F||(F=Na.create("div"),F.appendChild(v)),nt.each(N,ve=>{const Se=u(ve);F.insertBefore(Se,v)})),y(F,T,U&&U.siblings)};return e&&e.length?(o=e[0],n=u(o),s=Na.create("div"),s.appendChild(y(n,e.slice(1),o.siblings)),s):""},q7=e=>{let t;const n={classes:[],attrs:{}};return e=n.selector=nt.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(o,s,a,i,u)=>{switch(s){case"#":n.attrs.id=a;break;case".":n.classes.push(a);break;case":":nt.inArray("checked disabled enabled read-only required".split(" "),a)!==-1&&(n.attrs[a]=a);break}if(i==="["){const d=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);d&&(n.attrs[d[1]]=d[2])}return""})),n.name=t||"div",n},V7=e=>!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=nt.map(t.split(/(?:~\+|~|\+)/),q7),o=n.pop();return n.length&&(o.siblings=n),o}).reverse()),G7=(e,t)=>{let n,o,s="",a,i=M_(e);if(i==="")return"";const u=v=>v.replace(/%(\w+)/g,"");if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){const v=Vn(t,"preview");if(Zo(v,!1))return"";i=v.getOr(i)}n=t.block||t.inline||"span";const d=V7(t.selector);d.length?(d[0].name||(d[0].name=n),n=t.selector,o=d2(d,e)):o=d2([n],e);const y=Na.select(n,o)[0]||o.firstChild;return ok(t.styles,(v,T)=>{const N=u(v);N&&Na.setStyle(y,T,N)}),ok(t.attributes,(v,T)=>{const N=u(v);N&&Na.setAttrib(y,T,N)}),ok(t.classes,v=>{const T=u(v);Na.hasClass(y,T)||Na.addClass(y,T)}),e.dispatch("PreviewFormats"),Na.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),a=Na.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,ok(i.split(" "),v=>{let T=Na.getStyle(y,v,!0);if(!(v==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(T)&&(T=Na.getStyle(e.getBody(),v,!0),Yc(T).toLowerCase()==="#ffffff"))&&!(v==="color"&&Yc(T).toLowerCase()==="#000000")){if(v==="font-size"&&/em|%$/.test(T)){if(a===0)return;T=parseFloat(T)/(/%$/.test(T)?100:1)*a+"px"}v==="border"&&T&&(s+="padding:0 2px;"),s+=v+":"+T+";"}}),e.dispatch("AfterPreviewFormats"),Na.remove(o),s},K7=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},m2=e=>{const t=W7(e),n=xs(null);return K7(e),h8(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(o,s,a)=>{dI(e,o,s,a)},remove:(o,s,a,i)=>{mI(e,o,s,a,i)},toggle:(o,s,a)=>{pI(e,o,s,a)},match:(o,s,a,i)=>cI(e,o,s,a,i),closest:o=>fI(e,o),matchAll:(o,s)=>iI(e,o,s),matchNode:(o,s,a,i)=>lI(e,o,s,a,i),canApply:o=>uI(e,o),formatChanged:(o,s,a,i)=>gI(e,n,o,s,a,i),getCssText:et(G7,e)}},p2=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Y7=(e,t,n)=>{const o=xs(!1),s=d=>{Z1(t,!1,n),t.add({},d)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",d=>{const y=d.command;p2(y)||(Gz(t,n),t.beforeChange())}),e.on("ExecCommand",d=>{const y=d.command;p2(y)||s(d)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",d=>{const y=d.keyCode;d.isDefaultPrevented()||((y>=33&&y<=36||y>=37&&y<=40||y===45||d.ctrlKey)&&(s(),e.nodeChanged()),(y===46||y===8)&&e.nodeChanged(),o.get()&&t.typing&&QC(X1(e),t.data[0])===!1&&(e.isDirty()===!1&&e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged()))}),e.on("keydown",d=>{const y=d.keyCode;if(d.isDefaultPrevented())return;if(y>=33&&y<=36||y>=37&&y<=40||y===45){t.typing&&s(d);return}const v=d.ctrlKey&&!d.altKey||d.metaKey;(y<16||y>20)&&y!==224&&y!==91&&!t.typing&&!v&&(t.beforeChange(),Z1(t,!0,n),t.add({},d),o.set(!0))}),e.on("mousedown",d=>{t.typing&&s(d)});const a=d=>d.inputType==="insertReplacementText",i=d=>d.inputType==="insertText"&&d.data===null,u=d=>d.inputType==="insertFromPaste"||d.inputType==="insertFromDrop";e.on("input",d=>{d.inputType&&(a(d)||i(d)||u(d))&&s(d)}),e.on("AddUndo Undo Redo ClearUndos",d=>{d.isDefaultPrevented()||e.nodeChanged()})},X7=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},g2=e=>{const t=Hc(),n=xs(0),o=xs(0),s={data:[],typing:!1,beforeChange:()=>{XF(e,n,t)},add:(a,i)=>ZF(e,s,o,n,t,a,i),dispatchChange:()=>{e.setDirty(!0),e.dispatch("change",{level:X1(e),lastLevel:Ut(s.data,o.get()).getOrUndefined()})},undo:()=>QF(e,s,n,o),redo:()=>JF(e,o,s.data),clear:()=>{eI(e,s,o)},reset:()=>{tI(e,s)},hasUndo:()=>nI(e,s,o),hasRedo:()=>oI(e,s,o),transact:a=>sI(e,s,n,a),ignore:a=>{rI(e,n,a)},extra:(a,i)=>{aI(e,s,o,a,i)}};return Ml(e)||Y7(e,s,n),X7(e),s},Z7=[9,27,sn.HOME,sn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,sn.DOWN,sn.UP,sn.LEFT,sn.RIGHT].concat(Gn.browser.isFirefox()?[224]:[]),h2="data-mce-placeholder",y2=e=>e.type==="keydown"||e.type==="keyup",b2=e=>{const t=e.keyCode;return t===sn.BACKSPACE||t===sn.DELETE},Q7=e=>{if(y2(e)){const t=e.keyCode;return!b2(e)&&(sn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ce(Z7,t))}else return!1},J7=e=>y2(e)&&!(b2(e)||e.type==="keyup"&&e.keyCode===229),eL=(e,t,n)=>{if(Fs(ne.fromDom(t),!1)){const o=t.firstElementChild;return o?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===o.nodeName.toLowerCase():!0}else return!1},tL=e=>{const t=e.dom,n=fa(e),o=B_(e),s=(a,i)=>{if(Q7(a))return;const u=e.getBody(),d=J7(a)?!1:eL(t,u,n);(t.getAttrib(u,h2)!==""!==d||i)&&(t.setAttrib(u,h2,d?o:null),t.setAttrib(u,"aria-placeholder",d?o:null),ev(e,d),e.on(d?"keydown":"keyup",s),e.off(d?"keyup":"keydown",s))};o&&e.on("init",a=>{s(a,!0),e.on("change SetContent ExecCommand",s),e.on("paste",i=>Ea.setEditorTimeout(e,()=>s(i)))})},nL=(e,t)=>({block:e,position:t}),oL=(e,t)=>({from:e,to:t}),nS=(e,t)=>{const n=ne.fromDom(e),o=ne.fromDom(t.container());return $1(n,o).map(s=>nL(s,t))},sL=e=>_o(e.from.block,e.to.block)===!1,rL=e=>nr(e.from.block).bind(t=>nr(e.to.block).filter(n=>_o(t,n))).isSome(),aL=e=>os(e.from.block.dom)===!1&&os(e.to.block.dom)===!1,cL=(e,t,n)=>ps(n.position.getNode())&&Fs(n.block)===!1?Ol(!1,n.block.dom).bind(o=>o.isEqual(n.position)?va(t,e,o).bind(s=>nS(e,s)):w.some(n)).getOr(n):n,iL=(e,t,n)=>{const o=nS(e,je.fromRangeStart(n)),s=o.bind(a=>va(t,e,a.position).bind(i=>nS(e,i).map(u=>cL(e,t,u))));return zo(o,s,oL).filter(a=>sL(a)&&rL(a)&&aL(a))},lL=(e,t,n)=>n.collapsed?iL(e,t,n):w.none(),uL=e=>{const t=ms(e);return Yn(t,ua).fold(Z(t),n=>t.slice(0,n))},k2=e=>{const t=uL(e);return M(t,Oo),t},w2=(e,t)=>{const n=Ll(t,e);return oo(n.reverse(),o=>Fs(o)).each(Oo)},fL=e=>Qe(bi(e),t=>!Fs(t)).length===0,dL=(e,t,n,o)=>{if(Fs(n))return Ic(n),Cr(n.dom);fL(o)&&Fs(t)&&kr(o,ne.fromTag("br"));const s=tc(n.dom,je.before(o.dom));return M(k2(t),a=>{kr(o,a)}),w2(e,t),s},mL=(e,t,n)=>{if(Fs(n))return Oo(n),Fs(t)&&Ic(t),Cr(t.dom);const o=Va(n.dom);return M(k2(t),s=>{fs(n,s)}),w2(e,t),o},pL=(e,t)=>{const n=Ll(t,e);return w.from(n[n.length-1])},gL=(e,t)=>Cs(t,e)?pL(t,e):w.none(),_2=(e,t)=>{Ol(e,t.dom).map(n=>n.getNode()).map(ne.fromDom).filter(Ri).each(Oo)},v2=(e,t,n)=>(_2(!0,t),_2(!1,n),gL(t,n).fold(et(mL,e,t,n),et(dL,e,t,n))),C2=(e,t,n,o)=>t?v2(e,o,n):v2(e,n,o),oS=(e,t)=>{const n=ne.fromDom(e.getBody());return lL(n.dom,t,e.selection.getRng()).map(s=>()=>{C2(n,t,s.from.block,s.to.block).each(a=>{e.selection.setRng(a.toRange())})})},hL=(e,t)=>{const n=t.getRng();return zo($1(e,ne.fromDom(n.startContainer)),$1(e,ne.fromDom(n.endContainer)),(o,s)=>_o(o,s)===!1?w.some(()=>{n.deleteContents(),C2(e,!0,o,s).each(a=>{t.setRng(a.toRange())})}):w.none()).getOr(w.none())},S2=(e,t)=>{const n=ne.fromDom(t),o=et(_o,e);return zi(n,ou,o).isSome()},yL=(e,t)=>S2(e,t.startContainer)||S2(e,t.endContainer),bL=(e,t)=>{const n=tc(e.dom,je.fromRangeStart(t)).isNone(),o=Ca(e.dom,je.fromRangeEnd(t)).isNone();return!yL(e,t)&&n&&o},kL=e=>w.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),wL=e=>{const t=ne.fromDom(e.getBody()),n=e.selection.getRng();return bL(t,n)?kL(e):hL(t,e.selection)},sS=(e,t)=>e.selection.isCollapsed()?w.none():wL(e),_L=la,vL=os,jl=(e,t,n,o,s)=>w.from(t._selectionOverrides.showCaret(e,n,o,s)),CL=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},hh=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?w.none():w.some(CL(t)),SL=(e,t,n)=>{const o=Wf(1,e.getBody(),t),s=je.fromRangeStart(o),a=s.getNode();if(Nl(a))return jl(1,e,a,!s.isAtEnd(),!1);const i=s.getNode(!0);if(Nl(i))return jl(1,e,i,!1,!1);const u=e.dom.getParent(s.getNode(),d=>vL(d)||_L(d));return Nl(u)?jl(1,e,u,!1,n):w.none()},rS=(e,t,n)=>t.collapsed?SL(e,t,n).getOr(t):t,xL=e=>Yu(e)||ih(e),EL=e=>Xu(e)||lh(e),TL=(e,t)=>{Ft(t)&&t.data.length===0&&e.remove(t)},x2=(e,t,n,o,s,a)=>{jl(o,e,a.getNode(!s),s,!0).each(i=>{if(t.collapsed){const u=t.cloneRange();s?u.setEnd(i.startContainer,i.startOffset):u.setStart(i.endContainer,i.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(i)}),TL(e.dom,n)},zL=(e,t)=>{const n=e.selection.getRng();if(!Ft(n.commonAncestorContainer))return w.none();const o=t?Is.Forwards:Is.Backwards,s=Wr(e.getBody()),a=et(vm,t?s.next:s.prev),i=t?xL:EL,u=Eu(o,e.getBody(),n),d=oc(t,a(u));if(!d||!Vf(u,d))return w.none();if(i(d))return w.some(()=>x2(e,n,u.getNode(),o,t,d));const y=a(d);return y&&i(y)&&Vf(d,y)?w.some(()=>x2(e,n,u.getNode(),o,t,y)):w.none()},aS=(e,t)=>zL(e,t),cS=(e,t)=>{const n=e.getBody();return t?Cr(n).filter(Yu):Va(n).filter(Xu)},iS=e=>{const t=e.selection.getRng();return!t.collapsed&&(cS(e,!0).exists(n=>n.isEqual(je.fromRangeStart(t)))||cS(e,!1).exists(n=>n.isEqual(je.fromRangeEnd(t))))},AL=e=>ou(ne.fromDom(e))||hl(ne.fromDom(e)),Ka=wc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),NL=(e,t)=>{const n=t.getNode(e===!1),o=e?"after":"before";return dn(n)&&n.getAttribute("data-mce-caret")===o},RL=(e,t,n,o)=>{const s=a=>kf(ne.fromDom(a))&&!_c(n,o,e);return Tg(!t,n).fold(()=>Tg(t,o).fold(cn,s),s)},E2=(e,t,n,o)=>{const s=o.getNode(t===!1);return $1(ne.fromDom(e),ne.fromDom(n.getNode())).map(a=>Fs(a)?Ka.remove(a.dom):Ka.moveToElement(s)).orThunk(()=>w.some(Ka.moveToElement(s)))},T2=(e,t,n)=>va(t,e,n).bind(o=>AL(o.getNode())||RL(e,t,n,o)?w.none():t&&os(o.getNode())||t===!1&&os(o.getNode(!0))?E2(e,t,n,o):t&&Xu(n)||t===!1&&Yu(n)?w.some(Ka.moveToPosition(o)):w.none()),DL=(e,t)=>e&&os(t.nextSibling)?w.some(Ka.moveToElement(t.nextSibling)):e===!1&&os(t.previousSibling)?w.some(Ka.moveToElement(t.previousSibling)):w.none(),OL=(e,t,n)=>n.fold(o=>w.some(Ka.remove(o)),o=>w.some(Ka.moveToElement(o)),o=>_c(t,o,e)?w.none():w.some(Ka.moveToPosition(o))),PL=(e,t,n)=>NL(t,n)?DL(t,n.getNode(t===!1)).fold(()=>T2(e,t,n),w.some):T2(e,t,n).bind(o=>OL(e,n,o)),BL=(e,t,n)=>{const o=Wf(t?1:-1,e,n),s=je.fromRangeStart(o),a=ne.fromDom(e);return t===!1&&Xu(s)?w.some(Ka.remove(s.getNode(!0))):t&&Yu(s)?w.some(Ka.remove(s.getNode())):t===!1&&Yu(s)&&nC(a,s)?Z9(a,s).map(i=>Ka.remove(i.getNode())):t&&Xu(s)&&tC(a,s)?Q9(a,s).map(i=>Ka.remove(i.getNode())):PL(e,t,s)},$L=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),sd(e,t,ne.fromDom(n)),!0),FL=(e,t)=>n=>{const o=t?je.before(n):je.after(n);return e.selection.setRng(o.toRange()),!0},IL=e=>t=>(e.selection.setRng(t.toRange()),!0),z2=(e,t)=>w.from(op(e.getBody(),t)),LL=(e,t)=>{const n=e.selection.getNode();return z2(e,n).filter(os).fold(()=>BL(e.getBody(),t,e.selection.getRng()).map(o=>()=>o.fold($L(e,t),FL(e,t),IL(e))),()=>w.some(ye))},ML=e=>{M(wr(e,".mce-offscreen-selection"),Oo)},jL=(e,t)=>{const n=e.selection.getNode();return os(n)&&!gl(n)?z2(e,n.parentNode).filter(os).fold(()=>w.some(()=>{ML(ne.fromDom(e.getBody())),sd(e,t,ne.fromDom(e.selection.getNode())),cC(e)}),()=>w.some(ye)):iS(e)?w.some(()=>{ST(e,e.selection.getRng(),ne.fromDom(e.getBody()))}):w.none()},A2=e=>{const t=e.dom,n=e.selection,o=op(e.getBody(),n.getNode());if(la(o)&&t.isBlock(o)&&t.isEmpty(o)){const s=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(s),n.setRng(je.before(s).toRange())}return!0},lS=(e,t)=>e.selection.isCollapsed()?LL(e,t):jL(e,t),UL=(e,t)=>{const n=je.fromRangeStart(e.selection.getRng());return va(t,e.getBody(),n).filter(o=>t?W9(o):q9(o)).bind(o=>w.from(Eg(t?0:-1,o))).map(o=>()=>e.selection.select(o))},uS=(e,t)=>e.selection.isCollapsed()?UL(e,t):w.none(),up=Ft,N2=e=>up(e)&&e.data[0]===m,R2=e=>up(e)&&e.data[e.data.length-1]===m,D2=e=>e.ownerDocument.createTextNode(m),HL=e=>{if(up(e.previousSibling))return R2(e.previousSibling)||e.previousSibling.appendData(m),e.previousSibling;if(up(e))return N2(e)||e.insertData(0,m),e;{const t=D2(e);return e.parentNode.insertBefore(t,e),t}},WL=e=>{if(up(e.nextSibling))return N2(e.nextSibling)||e.nextSibling.insertData(0,m),e.nextSibling;if(up(e))return R2(e)||e.appendData(m),e;{const t=D2(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}},sk=(e,t)=>e?HL(t):WL(t),qL=et(sk,!0),VL=et(sk,!1),O2=(e,t)=>Ft(e.container())?sk(t,e.container()):sk(t,e.getNode()),P2=(e,t)=>{const n=t.get();return n&&e.container()===n&&mt(n)},fS=(e,t)=>t.fold(n=>{Al(e.get());const o=qL(n);return e.set(o),w.some(je(o,o.length-1))},n=>Cr(n).map(o=>{if(P2(o,e))return je(e.get(),1);{Al(e.get());const s=O2(o,!0);return e.set(s),je(s,1)}}),n=>Va(n).map(o=>{if(P2(o,e))return je(e.get(),e.get().length-1);{Al(e.get());const s=O2(o,!1);return e.set(s),je(s,s.length-1)}}),n=>{Al(e.get());const o=VL(n);return e.set(o),w.some(je(o,1))}),B2=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return w.none()},Gr=wc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$2=(e,t)=>{const n=Li(t,e);return n||e},GL=(e,t,n)=>{const o=wT(n),s=$2(t,o.container());return Zu(e,s,o).fold(()=>Ca(s,o).bind(et(Zu,e,s)).map(a=>Gr.before(a)),w.none)},KL=(e,t)=>zu(e,t)===null,F2=(e,t,n)=>Zu(e,t,n).filter(et(KL,t)),YL=(e,t,n)=>{const o=_T(n);return F2(e,t,o).bind(s=>tc(s,o).isNone()?w.some(Gr.start(s)):w.none())},XL=(e,t,n)=>{const o=wT(n);return F2(e,t,o).bind(s=>Ca(s,o).isNone()?w.some(Gr.end(s)):w.none())},ZL=(e,t,n)=>{const o=_T(n),s=$2(t,o.container());return Zu(e,s,o).fold(()=>tc(s,o).bind(et(Zu,e,s)).map(a=>Gr.after(a)),w.none)},I2=e=>DB(dS(e))===!1,qi=(e,t,n)=>B2([GL,YL,XL,ZL],[e,t,n]).filter(I2),dS=e=>e.fold(Pe,Pe,Pe,Pe),L2=e=>e.fold(Z("before"),Z("start"),Z("end"),Z("after")),rk=e=>e.fold(Gr.before,Gr.before,Gr.after,Gr.after),mS=e=>e.fold(Gr.start,Gr.start,Gr.end,Gr.end),QL=(e,t)=>L2(e)===L2(t)&&dS(e)===dS(t),JL=(e,t,n,o,s,a)=>zo(Zu(t,n,o),Zu(t,n,s),(i,u)=>i!==u&&PB(n,i,u)?Gr.after(e?i:u):a).getOr(a),eM=(e,t)=>e.fold(wn,n=>!QL(n,t)),tM=(e,t,n,o,s)=>{const a=oc(e,s);return va(e,n,a).map(et(oc,e)).fold(()=>o.map(rk),d=>qi(t,n,d).map(et(JL,e,t,n,a,d)).filter(et(eM,o))).filter(I2)},nM=(e,t)=>e?t.fold(Ze(w.some,Gr.start),w.none,Ze(w.some,Gr.after),w.none):t.fold(w.none,Ze(w.some,Gr.before),w.none,Ze(w.some,Gr.end)),oM=(e,t,n,o)=>{const s=oc(e,o),a=qi(t,n,s);return qi(t,n,s).bind(et(nM,e)).orThunk(()=>tM(e,t,n,a,o))},sM=e=>Wt(e.selection.getSel().modify),M2=(e,t,n)=>{const o=e?1:-1;return t.setRng(je(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},rM=(e,t)=>{const n=t.selection.getRng(),o=e?je.fromRangeEnd(n):je.fromRangeStart(n);return sM(t)?e&&as(o)?M2(!0,t.selection,o):!e&&uo(o)?M2(!1,t.selection,o):!1:!1};var Vi;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Vi||(Vi={}));const ak=(e,t)=>e===Is.Backwards?io(t):t,aM=(e,t,n)=>e===Is.Forwards?t.next(n):t.prev(n),cM=(e,t,n,o)=>ps(o.getNode(t===Is.Forwards))?Vi.Br:_c(n,o)===!1?Vi.Block:Vi.Wrap,j2=(e,t,n,o)=>{const s=Wr(n);let a=o;const i=[];for(;a;){const u=aM(t,s,a);if(!u)break;if(ps(u.getNode(!1)))return t===Is.Forwards?{positions:ak(t,i).concat([u]),breakType:Vi.Br,breakAt:w.some(u)}:{positions:ak(t,i),breakType:Vi.Br,breakAt:w.some(u)};if(!u.isVisible()){a=u;continue}if(e(a,u)){const d=cM(n,t,a,u);return{positions:ak(t,i),breakType:d,breakAt:w.some(u)}}i.push(u),a=u}return{positions:ak(t,i),breakType:Vi.Eol,breakAt:w.none()}},U2=(e,t,n,o)=>t(n,o).breakAt.map(s=>{const a=t(n,s).positions;return e===Is.Backwards?a.concat(s):[s].concat(a)}).getOr([]),pS=(e,t)=>En(e,(n,o)=>n.fold(()=>w.some(o),s=>zo(Tn(s.getClientRects()),Tn(o.getClientRects()),(a,i)=>{const u=Math.abs(t-a.left);return Math.abs(t-i.left)<=u?o:s}).or(n)),w.none()),ck=(e,t)=>Tn(t.getClientRects()).bind(n=>pS(e,n.left)),yh=et(j2,je.isAbove,-1),bh=et(j2,je.isBelow,1),H2=et(U2,-1,yh),W2=et(U2,1,bh),iM=(e,t)=>yh(e,t).breakAt.isNone(),lM=(e,t)=>bh(e,t).breakAt.isNone(),uM=e=>Cr(e).map(t=>[t].concat(bh(e,t).positions)).getOr([]),fM=e=>Va(e).map(t=>yh(e,t).positions.concat(t)).getOr([]),dM=(e,t)=>ck(H2(e,t),t),mM=(e,t)=>ck(W2(e,t),t),pM=os,q2=(e,t)=>Math.abs(e.left-t),V2=(e,t)=>Math.abs(e.right-t),gM=e=>Vo(e,"node"),G2=(e,t)=>G(e,(n,o)=>{const s=Math.min(q2(n,t),V2(n,t)),a=Math.min(q2(o,t),V2(o,t));return a===s&&gM(o)&&pM(o.node)||a<s?o:n}),hM=e=>{const t=n=>W(n,o=>{const s=xl(o);return s.node=e,s});if(dn(e))return t(e.getClientRects());if(Ft(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},K2=e=>Xt(e,hM);var kh;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(kh||(kh={}));const yM=(e,t,n,o)=>{for(;o=Uf(o,e,Ha,t);)if(n(o))return},Y2=(e,t,n,o,s,a)=>{let i=0;const u=[],d=T=>{let N=K2([T]);e===-1&&(N=N.reverse());for(let F=0;F<N.length;F++){const U=N[F];if(!n(U,y)){if(u.length>0&&t(U,dt(u))&&i++,U.line=i,s(U))return!0;u.push(U)}}},y=dt(a.getClientRects());if(!y)return u;const v=a.getNode();return d(v),yM(e,o,d,v),u},bM=(e,t)=>t.line>e,kM=(e,t)=>t.line===e,wM=et(Y2,kh.Up,om,Fi),_M=et(Y2,kh.Down,Fi,om),vM=(e,t,n,o)=>{const s=Wr(t);let a,i,u,d;const y=[];let v=0;const T=F=>dt(F.getClientRects());e===1?(a=s.next,i=Fi,u=om,d=je.after(o)):(a=s.prev,i=om,u=Fi,d=je.before(o));const N=T(d);do{if(!d.isVisible())continue;const F=T(d);if(u(F,N))continue;y.length>0&&i(F,dt(y))&&v++;const U=xl(F);if(U.position=d,U.line=v,n(U))return y;y.push(U)}while(d=a(d));return y},X2=e=>t=>bM(e,t),gS=e=>t=>kM(e,t),Ul=(e,t)=>{e.selection.setRng(t),Wu(e,e.selection.getRng())},hS=(e,t,n)=>w.some(rS(e,t,n)),Z2=(e,t,n,o,s,a)=>{const i=t===Is.Forwards,u=Wr(e.getBody()),d=et(vm,i?u.next:u.prev),y=i?o:s;if(!n.collapsed){const U=sm(n);if(a(U))return jl(t,e,U,t===Is.Backwards,!1);if(iS(e)){const j=n.cloneRange();return j.collapse(t===Is.Backwards),w.from(j)}}const v=Eu(t,e.getBody(),n);if(y(v))return hh(e,v.getNode(!i));const T=oc(i,d(v)),N=cu(n);if(!T)return N?w.some(n):w.none();if(y(T))return jl(t,e,T.getNode(!i),i,!1);const F=d(T);return F&&y(F)&&Vf(T,F)?jl(t,e,F.getNode(!i),i,!1):N?hS(e,T.toRange(),!1):w.none()},Q2=(e,t,n,o,s,a)=>{const i=Eu(t,e.getBody(),n),u=dt(i.getClientRects()),d=t===kh.Down,y=e.getBody();if(!u)return w.none();if(iS(e)){const H=d?je.fromRangeEnd(n):je.fromRangeStart(n);return(d?mM:dM)(y,H).orThunk(()=>w.from(H)).map(ve=>ve.toRange())}const T=(d?_M:wM)(y,X2(1),i),N=Qe(T,gS(1)),F=u.left,U=G2(N,F);if(U&&a(U.node)){const H=Math.abs(F-U.left),se=Math.abs(F-U.right);return jl(t,e,U.node,H<se,!1)}let j;if(o(i)?j=i.getNode():s(i)?j=i.getNode(!0):j=sm(n),j){const H=vM(t,y,X2(1),j);let se=G2(Qe(H,gS(1)),F);if(se||(se=dt(Qe(H,gS(0))),se))return hS(e,se.position.toRange(),!1)}return N.length===0?yS(e,d).filter(d?s:o).map(H=>rS(e,H.toRange(),!1)):w.none()},yS=(e,t)=>{const n=e.selection.getRng(),o=t?je.fromRangeEnd(n):je.fromRangeStart(n),s=g0(o.container(),e.getBody());if(t){const a=bh(s,o);return Pn(a.positions)}else{const a=yh(s,o);return Tn(a.positions)}},J2=(e,t,n)=>yS(e,t).filter(n).exists(o=>(e.selection.setRng(o.toRange()),!0)),ik=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},eA=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},tA=(e,t,n)=>fS(t,n).map(o=>(ik(e,o),n)),CM=(e,t,n)=>{const o=je.fromRangeStart(e);if(e.collapsed)return o;{const s=je.fromRangeEnd(e);return n?tc(t,s).getOr(s):Ca(t,o).getOr(o)}},SM=(e,t,n)=>{const o=e.getBody(),s=CM(e.selection.getRng(),o,n),a=et(rd,e);return oM(n,a,o,s).bind(u=>tA(e,t,u))},xM=(e,t,n)=>{const o=W(wr(ne.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),i=>i.dom),s=Qe(o,e),a=Qe(n,e);M(Fe(s,a),et(eA,!1)),M(Fe(a,s),et(eA,!0))},EM=(e,t)=>{if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){const n=je.fromRangeStart(e.selection.getRng());je.isTextPosition(n)&&BB(n)===!1&&(ik(e,u0(t.get(),n)),t.set(null))}},TM=(e,t,n,o)=>{if(t.selection.isCollapsed()){const s=Qe(o,e);M(s,a=>{const i=je.fromRangeStart(t.selection.getRng());qi(e,t.getBody(),i).bind(u=>tA(t,n,u))})}},nA=(e,t,n)=>Lf(e)?SM(e,t,n).isSome():!1,oA=(e,t,n)=>Lf(t)?rM(e,t):!1,zM=e=>{const t=xs(null),n=et(rd,e);return e.on("NodeChange",o=>{Lf(e)&&(xM(n,e.dom,o.parents),EM(e,t),TM(n,e,t,o.parents))}),t},AM=et(oA,!0),NM=et(oA,!1),lk=(e,t,n)=>{if(Lf(e)){const o=yS(e,t).getOrThunk(()=>{const s=e.selection.getRng();return t?je.fromRangeEnd(s):je.fromRangeStart(s)});return qi(et(rd,e),e.getBody(),o).exists(s=>{const a=rk(s);return fS(n,a).exists(i=>(ik(e,i),!0))})}else return!1},RM=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},DM=e=>zo(Cr(e),Va(e),(t,n)=>{const o=oc(!0,t),s=oc(!1,n);return Ca(e,o).forall(a=>a.isEqual(s))}).getOr(!0),sA=(e,t)=>n=>fS(t,n).map(o=>()=>ik(e,o)),rA=(e,t,n,o)=>{const s=e.getBody(),a=et(rd,e);e.undoManager.ignore(()=>{e.selection.setRng(RM(n,o)),aC(e),qi(a,s,je.fromRangeStart(e.selection.getRng())).map(mS).bind(sA(e,t)).each(en)}),e.nodeChanged()},OM=(e,t)=>{const n=Li(t,e);return n||e},PM=(e,t,n,o)=>{const s=OM(e.getBody(),o.container()),a=et(rd,e),i=qi(a,s,o);return i.bind(d=>n?d.fold(Z(w.some(mS(d))),w.none,Z(w.some(rk(d))),w.none):d.fold(w.none,Z(w.some(rk(d))),w.none,Z(w.some(mS(d))))).map(sA(e,t)).getOrThunk(()=>{const d=Sm(n,s,o),y=d.bind(v=>qi(a,s,v));return zo(i,y,()=>Zu(a,s,o).bind(v=>DM(v)?w.some(()=>{sd(e,n,ne.fromDom(v))}):w.none())).getOrThunk(()=>y.bind(()=>d.map(v=>()=>{n?rA(e,t,o,v):rA(e,t,v,o)})))})},bS=(e,t,n)=>{if(e.selection.isCollapsed()&&Lf(e)){const o=je.fromRangeStart(e.selection.getRng());return PM(e,t,n,o)}return w.none()},BM=(e,t)=>{const n=Ll(t,e);return Yn(n,ua).fold(Z(n),o=>n.slice(0,o))},$M=e=>cl(e)===1,FM=(e,t,n,o)=>{const s=et(b8,t),a=W(Qe(o,s),i=>i.dom);if(a.length===0)sd(t,e,n);else{const i=y8(n.dom,a);t.selection.setRng(i.toRange())}},IM=(e,t)=>{const n=ne.fromDom(e.getBody()),o=ne.fromDom(e.selection.getStart()),s=Qe(BM(n,o),$M);return Pn(s).bind(a=>{const i=je.fromRangeStart(e.selection.getRng());return LB(t,i,a.dom)&&!k8(a)?w.some(()=>FM(t,e,a,s)):w.none()})},kS=(e,t)=>e.selection.isCollapsed()?IM(e,t):w.none(),wS=(e,t,n)=>w.some(()=>{e._selectionOverrides.hideFakeCaret(),sd(e,t,ne.fromDom(n))}),LM=(e,t)=>{const n=t?ih:lh,o=t?Is.Forwards:Is.Backwards,s=Eu(o,e.getBody(),e.selection.getRng());return n(s)?wS(e,t,s.getNode(!t)):w.from(oc(t,s)).filter(a=>n(a)&&Vf(s,a)).map(a=>()=>wS(e,t,a.getNode(!t)))},MM=(e,t)=>{const n=e.selection.getNode();return pc(n)?wS(e,t,n):w.none()},_S=(e,t)=>e.selection.isCollapsed()?LM(e,t):MM(e,t),jM=e=>Bc(e,t=>la(t.dom)||os(t.dom)).exists(t=>la(t.dom)),vS=e=>{const t=parseInt(e,10);return isNaN(t)?0:t},aA=(e,t)=>{const n=e||$p(t)?"margin":"padding",o=qs(t,"direction")==="rtl"?"-right":"-left";return n+o},UM=(e,t,n,o,s,a)=>{const i=aA(n,ne.fromDom(a));if(t==="outdent"){const u=Math.max(0,vS(a.style[i])-o);e.setStyle(a,i,u?u+s:"")}else{const u=vS(a.style[i])+o+s;e.setStyle(a,i,u)}},HM=(e,t)=>ro(t,n=>{const o=aA(Zy(e),n),s=wi(n,o).map(vS).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&s>0}),cA=e=>{const t=lA(e);return!e.mode.isReadOnly()&&(t.length>1||HM(e,t))},iA=e=>_f(e)||hl(e),WM=e=>nr(e).exists(iA),lA=e=>Qe(Ss(e.selection.getSelectedBlocks()),t=>!iA(t)&&!WM(t)&&jM(t)),uA=(e,t)=>{const{dom:n}=e,o=A_(e),s=/[a-z%]+$/i.exec(o)[0],a=parseInt(o,10),i=Zy(e);M(lA(e),u=>{UM(n,t,i,a,s,u.dom)})},qM=e=>uA(e,"indent"),fA=e=>uA(e,"outdent"),dA=e=>{if(e.selection.isCollapsed()&&cA(e)){const t=e.dom,n=e.selection.getRng(),o=je.fromRangeStart(n),s=t.getParent(n.startContainer,t.isBlock);if(s!==null&&eC(ne.fromDom(s),o))return w.some(()=>fA(e))}return w.none()},mA=(e,t,n)=>$o([dA,lS,aS,(o,s)=>bS(o,t,s),oS,gC,uS,_S,sS,kS],o=>o(e,n)),VM=(e,t)=>{mA(e,t,!1).fold(()=>{aC(e),cC(e)},en)},GM=(e,t)=>{mA(e,t,!0).fold(()=>$B(e),en)},KM=(e,t)=>{e.addCommand("delete",()=>{VM(e,t)}),e.addCommand("forwardDelete",()=>{GM(e,t)})},pA=5,YM=400,gA=e=>e.touches===void 0||e.touches.length!==1?w.none():w.some(e.touches[0]),XM=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>pA||o>pA},ZM=e=>{const t=Hc(),n=xs(!1),o=em(s=>{e.dispatch("longpress",{...s,type:"longpress"}),n.set(!0)},YM);e.on("touchstart",s=>{gA(s).each(a=>{o.cancel();const i={x:a.clientX,y:a.clientY,target:s.target};o.throttle(s),n.set(!1),t.set(i)})},!0),e.on("touchmove",s=>{o.cancel(),gA(s).each(a=>{t.on(i=>{XM(a,i)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",s=>{o.cancel(),s.type!=="touchcancel"&&t.get().filter(a=>a.target.isEqualNode(s.target)).each(()=>{n.get()?s.preventDefault():e.dispatch("tap",{...s,type:"tap"})})},!0)},CS=(e,t)=>gn(e,t.nodeName),QM=(e,t)=>Ft(t)?!0:dn(t)?!CS(e,t)&&!ma(t):!1,JM=(e,t,n)=>Ce(rT(ne.fromDom(n),ne.fromDom(t)),o=>CS(e,o.dom)),ej=(e,t)=>{if(Ft(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||CS(e,t.nextSibling)))return!0}return!1},hA=e=>e.dom.create(fa(e),If(e)),tj=e=>{const t=e.dom,n=e.selection,o=e.schema,s=o.getBlockElements();let a=n.getStart();const i=e.getBody();let u,d,y;const v=fa(e);if(!a||!dn(a))return;const T=i.nodeName.toLowerCase();if(!o.isValidChild(T,v.toLowerCase())||JM(s,i,a))return;const N=n.getRng(),F=N.startContainer,U=N.startOffset,j=N.endContainer,H=N.endOffset,se=Xo(e);for(a=i.firstChild;a;)if(QM(s,a)){if(ej(s,a)){d=a,a=a.nextSibling,t.remove(d);continue}u||(u=hA(e),a.parentNode.insertBefore(u,a),y=!0),d=a,a=a.nextSibling,u.appendChild(d)}else u=null,a=a.nextSibling;y&&se&&(N.setStart(F,U),N.setEnd(j,H),n.setRng(N),e.nodeChanged())},yA=(e,t,n)=>{const o=ne.fromDom(hA(e)),s=hc();fs(o,s),n(t,o);const a=document.createRange();return a.setStartBefore(s.dom),a.setEndBefore(s.dom),a},nj=e=>{e.on("NodeChange",et(tj,e))},bA=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,oj=(e,t,n)=>function(o){const s=arguments,a=s[s.length-2],i=a>0?t.charAt(a-1):"";if(i==='"')return o;if(i===">"){const u=t.lastIndexOf("<",a);if(u!==-1&&t.substring(u,a).indexOf('contenteditable="false"')!==-1)return o}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]=="string"?s[1]:s[0])+"</span>"},sj=(e,t,n)=>{let o=t.length,s=n.content;if(n.format!=="raw"){for(;o--;)s=s.replace(t[o],oj(e,s,db(e)));n.content=s}},rj=e=>{const t="contenteditable",n=" "+nt.trim(t0(e))+" ",o=" "+nt.trim(db(e))+" ",s=bA(n),a=bA(o),i=n0(e);i.length>0&&e.on("BeforeSetContent",u=>{sj(e,i,u)}),e.parser.addAttributeFilter("class",u=>{let d=u.length;for(;d--;){const y=u[d];s(y)?y.attr(t,"true"):a(y)&&y.attr(t,"false")}}),e.serializer.addAttributeFilter(t,u=>{let d=u.length;for(;d--;){const y=u[d];!s(y)&&!a(y)||(i.length>0&&y.attr("data-mce-content")?(y.name="#text",y.type=3,y.raw=!0,y.value=y.attr("data-mce-content")):y.attr(t,null))}})},aj=e=>$c(ne.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),kA=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Ua(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},cj=(e,t)=>{const n=aj(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),kA(e,n);return}vn(n)&&(kA(e,n),e.undoManager.add())}},ij=e=>{e.on("keyup compositionstart",et(cj,e))},wA=os,lj=(e,t,n)=>Z2(t,e,n,Yu,Xu,wA),uj=(e,t,n)=>Q2(t,e,n,a=>Yu(a)||oT(a),a=>Xu(a)||sT(a),wA),fj=e=>{const t=e.dom.create(fa(e));return t.innerHTML='<br data-mce-bogus="1">',t},_A=(e,t,n)=>{const o=Wr(e.getBody()),s=et(vm,t===1?o.next:o.prev);if(n.collapsed){const a=e.dom.getParent(n.startContainer,"PRE");if(!a)return;if(!s(je.fromRangeStart(n))){const u=ne.fromDom(fj(e));t===1?ca(ne.fromDom(a),u):kr(ne.fromDom(a),u),e.selection.select(u.dom,!0),e.selection.collapse()}}},dj=(e,t)=>{const n=t?Is.Forwards:Is.Backwards,o=e.selection.getRng();return lj(n,e,o).orThunk(()=>(_A(e,n,o),w.none()))},mj=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return uj(n,e,o).orThunk(()=>(_A(e,n,o),w.none()))},vA=(e,t)=>dj(e,t).exists(n=>(Ul(e,n),!0)),CA=(e,t)=>mj(e,t).exists(n=>(Ul(e,n),!0)),SA=(e,t)=>J2(e,t,t?Xu:Yu),uk=(e,t)=>cS(e,!t).map(n=>{const o=n.toRange(),s=e.selection.getRng();return t?o.setStart(s.startContainer,s.startOffset):o.setEnd(s.endContainer,s.endOffset),o}).exists(n=>(Ul(e,n),!0)),pj=e=>ce(["figcaption"],tn(e)),gj=(e,t)=>{const n=et(_o,t);return Bc(ne.fromDom(e.container()),ua,n).filter(pj)},hj=(e,t,n)=>t?lM(e.dom,n):iM(e.dom,n),yj=(e,t)=>{const n=ne.fromDom(e.getBody()),o=je.fromRangeStart(e.selection.getRng());return gj(o,n).exists(()=>{if(hj(n,t,o)){const a=yA(e,n,t?fs:_d);return e.selection.setRng(a),!0}else return!1})},xA=(e,t)=>e.selection.isCollapsed()?yj(e,t):!1,EA={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},bj=e=>W(e,t=>({...EA,action:ye,...t})),kj=e=>W(e,t=>({...EA,action:()=>w.none(),...t})),TA=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,wj=(e,t)=>Xt(bj(e),n=>TA(n,t)?[n]:[]),_j=(e,t)=>Xt(kj(e),n=>TA(n,t)?[n]:[]),Kn=(e,...t)=>()=>e.apply(null,t),wh=(e,t)=>oo(wj(e,t),n=>n.action()),zA=(e,t)=>$o(_j(e,t),n=>n.action()),AA=(e,t)=>{const n=t?Is.Forwards:Is.Backwards,o=e.selection.getRng();return Z2(e,n,o,ih,lh,pc).exists(s=>(Ul(e,s),!0))},NA=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return Q2(e,n,o,ih,lh,pc).exists(s=>(Ul(e,s),!0))},RA=(e,t)=>J2(e,t,t?lh:ih),DA=wc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),_h={...DA,none:e=>DA.none(e)},vj=(e,t)=>OA(e,t,wn),OA=(e,t,n)=>Xt(ms(e),o=>aa(o,t)?n(o)?[o]:[]:OA(o,t,n)),Cj=(e,t,n=cn)=>{if(n(t))return w.none();if(ce(e,tn(t)))return w.some(t);const o=s=>aa(s,"table")||n(s);return Ai(t,e.join(","),o)},Sj=(e,t)=>Cj(["td","th"],e,t),xj=e=>vj(e,"th,td"),PA=(e,t)=>ja(e,"table",t),SS=(e,t,n,o,s=wn)=>{const a=o===1;if(!a&&n<=0)return _h.first(e[0]);if(a&&n>=e.length-1)return _h.last(e[e.length-1]);{const i=n+o,u=e[i];return s(u)?_h.middle(t,u):SS(e,t,i,o,s)}},BA=(e,t)=>PA(e,t).bind(n=>{const o=xj(n);return Yn(o,a=>_o(e,a)).map(a=>({index:a,all:o}))}),Ej=(e,t,n)=>BA(e,n).fold(()=>_h.none(e),s=>SS(s.all,e,s.index,1,t)),Tj=(e,t,n)=>BA(e,n).fold(()=>_h.none(),s=>SS(s.all,e,s.index,-1,t)),zj=e=>ja(e,"[contenteditable]"),$A=(e,t=!1)=>On(e)?e.dom.isContentEditable:zj(e).fold(Z(t),n=>Aj(n)==="true"),Aj=e=>e.dom.contentEditable,Nj=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Rj=(e,t)=>Xt(t,n=>{const o=Nj(xl(n.getBoundingClientRect()),-1);return[{x:o.left,y:e(o),cell:n},{x:o.right,y:e(o),cell:n}]}),Dj=(e,t,n)=>En(e,(o,s)=>o.fold(()=>w.some(s),a=>{const i=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n)),u=Math.sqrt(Math.abs(s.x-t)+Math.abs(s.y-n));return w.some(u<i?s:a)}),w.none()),FA=(e,t,n,o,s)=>{const a=wr(ne.fromDom(n),"td,th,caption").map(u=>u.dom),i=Qe(Rj(e,a),u=>t(u,s));return Dj(i,o,s).map(u=>u.cell)},Oj=e=>e.bottom,Pj=e=>e.top,Bj=(e,t)=>e.y<t,$j=(e,t)=>e.y>t,Fj=et(FA,Oj,Bj),Ij=et(FA,Pj,$j),Lj=(e,t)=>Tn(t.getClientRects()).bind(n=>Fj(e,n.left,n.top)).bind(n=>ck(fM(n),t)),Mj=(e,t)=>Pn(t.getClientRects()).bind(n=>Ij(e,n.left,n.top)).bind(n=>ck(uM(n),t)),jj=(e,t,n)=>n.breakAt.exists(o=>e(t,o).breakAt.isSome()),Uj=e=>e.breakType===Vi.Wrap&&e.positions.length===0,Hj=e=>e.breakType===Vi.Br&&e.positions.length===1,IA=(e,t,n)=>{const o=e(t,n);return Uj(o)||!ps(n.getNode())&&Hj(o)?!jj(e,t,o):o.breakAt.isNone()},Wj=et(IA,yh),qj=et(IA,bh),Vj=(e,t,n)=>{const o=je.fromRangeStart(t);return Ol(!e,n).exists(s=>s.isEqual(o))},Gj=(e,t,n,o)=>{const s=e.selection.getRng(),a=t?1:-1;return vu()&&Vj(t,s,n)?(jl(a,e,n,!t,!1).each(i=>{Ul(e,i)}),!0):!1},Kj=(e,t,n)=>Lj(t,n).orThunk(()=>Tn(n.getClientRects()).bind(o=>pS(H2(e,je.before(t)),o.left))).getOr(je.before(t)),Yj=(e,t,n)=>Mj(t,n).orThunk(()=>Tn(n.getClientRects()).bind(o=>pS(W2(e,je.after(t)),o.left))).getOr(je.after(t)),LA=(e,t)=>{const n=t.getNode(e);return Ma(n)?w.some(n):w.none()},Xj=(e,t,n)=>{t.undoManager.transact(()=>{const o=e?ca:kr,s=yA(t,ne.fromDom(n),o);Ul(t,s)})},MA=(e,t,n)=>{const o=LA(!!t,n),s=t===!1;o.fold(()=>Ul(e,n.toRange()),a=>Ol(s,e.getBody()).filter(i=>i.isEqual(n)).fold(()=>Ul(e,n.toRange()),i=>Xj(t,e,a)))},Zj=(e,t,n,o)=>{const s=e.selection.getRng(),a=je.fromRangeStart(s),i=e.getBody();if(!t&&Wj(o,a)){const u=Kj(i,n,a);return MA(e,t,u),!0}else if(t&&qj(o,a)){const u=Yj(i,n,a);return MA(e,t,u),!0}else return!1},jA=(e,t,n)=>w.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(o=>w.from(e.dom.getParent(o,"table")).map(s=>n(e,t,s,o))).getOr(!1),UA=(e,t)=>jA(e,t,Gj),HA=(e,t)=>jA(e,t,Zj),Qj=e=>{const t=Mu.exact(e,0,e,0);return Xg(t)},WA=(e,t,n)=>n.fold(w.none,w.none,(o,s)=>Vv(s).map(a=>Qj(a)),o=>(e.execCommand("mceTableInsertRowAfter"),qA(e,t,o))),qA=(e,t,n)=>WA(e,t,Ej(n,$A)),Jj=(e,t,n)=>WA(e,t,Tj(n,$A)),VA=(e,t)=>{const n=["table","li","dl"],o=ne.fromDom(e.getBody()),s=u=>{const d=tn(u);return _o(u,o)||ce(n,d)},a=e.selection.getRng(),i=ne.fromDom(t?a.endContainer:a.startContainer);return Sj(i,s).map(u=>(PA(u,s).each(v=>{e.model.table.clearSelectedCells(v.dom)}),e.selection.collapse(!t),(t?qA:Jj)(e,s,u).each(v=>{e.selection.setRng(v)}),!0)).getOr(!1)},eU=(e,t,n)=>{const o=Gn.os.isMacOS()||Gn.os.isiOS();wh([{keyCode:sn.RIGHT,action:Kn(vA,e,!0)},{keyCode:sn.LEFT,action:Kn(vA,e,!1)},{keyCode:sn.UP,action:Kn(CA,e,!1)},{keyCode:sn.DOWN,action:Kn(CA,e,!0)},...o?[{keyCode:sn.UP,action:Kn(uk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:sn.DOWN,action:Kn(uk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:sn.RIGHT,action:Kn(UA,e,!0)},{keyCode:sn.LEFT,action:Kn(UA,e,!1)},{keyCode:sn.UP,action:Kn(HA,e,!1)},{keyCode:sn.DOWN,action:Kn(HA,e,!0)},{keyCode:sn.RIGHT,action:Kn(AA,e,!0)},{keyCode:sn.LEFT,action:Kn(AA,e,!1)},{keyCode:sn.UP,action:Kn(NA,e,!1)},{keyCode:sn.DOWN,action:Kn(NA,e,!0)},{keyCode:sn.RIGHT,action:Kn(nA,e,t,!0)},{keyCode:sn.LEFT,action:Kn(nA,e,t,!1)},{keyCode:sn.RIGHT,ctrlKey:!o,altKey:o,action:Kn(AM,e,t)},{keyCode:sn.LEFT,ctrlKey:!o,altKey:o,action:Kn(NM,e,t)},{keyCode:sn.UP,action:Kn(xA,e,!1)},{keyCode:sn.DOWN,action:Kn(xA,e,!0)}],n).each(s=>{n.preventDefault()})},tU=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()===!1&&eU(e,t,n)})},oi=(e,t)=>({container:e,offset:t}),fk=Ho.DOM,dk=e=>t=>e===t?-1:0,nU=e=>t=>e.isBlock(t)||ce(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",xS=(e,t,n)=>{if(Ft(e)&&t>=0)return w.some(oi(e,t));{const o=$i(fk);return w.from(o.backwards(e,t,dk(e),n)).map(s=>oi(s.container,s.container.data.length))}},oU=(e,t,n)=>{if(Ft(e)&&t>=e.length)return w.some(oi(e,t));{const o=$i(fk);return w.from(o.forwards(e,t,dk(e),n)).map(s=>oi(s.container,0))}},ES=(e,t,n)=>{if(!Ft(e))return w.none();const o=e.textContent;if(t>=0&&t<=o.length)return w.some(oi(e,t));{const s=$i(fk);return w.from(s.backwards(e,t,dk(e),n)).bind(a=>{const i=a.container.data;return ES(a.container,t+i.length,n)})}},GA=(e,t,n)=>{if(!Ft(e))return w.none();const o=e.textContent;if(t<=o.length)return w.some(oi(e,t));{const s=$i(fk);return w.from(s.forwards(e,t,dk(e),n)).bind(a=>GA(a.container,t-o.length,n))}},TS=(e,t,n,o,s)=>{const a=$i(e,nU(e));return w.from(a.backwards(t,n,o,s))},sU=e=>e.collapsed&&e.startContainer.nodeType===3,KA=e=>e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,""),YA=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,zS=(e,t)=>e.substring(t.length),rU=(e,t,n)=>{let o;for(o=t-1;o>=0;o--){const s=e.charAt(o);if(YA(s))return w.none();if(s===n)break}return w.some(o)},aU=(e,t,n,o=0)=>{if(!sU(t))return w.none();const s=(i,u,d)=>rU(d,u,n).getOr(u),a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return TS(e,t.startContainer,t.startOffset,s,a).bind(i=>{const u=t.cloneRange();if(u.setStart(i.container,i.offset),u.setEnd(t.endContainer,t.endOffset),u.collapsed)return w.none();const d=KA(u);return d.lastIndexOf(n)!==0||zS(d,n).length<o?w.none():w.some({text:zS(d,n),range:u,triggerChar:n})})},XA=(e,t,n,o=0)=>ch(ne.fromDom(t.startContainer)).fold(()=>aU(e,t,n,o),s=>{const a=e.createRng();a.selectNode(s.dom);const i=KA(a);return w.some({range:a,text:zS(i,n),triggerChar:n})}),cU=e=>e.nodeType===Zt,iU=e=>e.nodeType===He,ZA=e=>{if(cU(e))return oi(e,e.data.length);{const t=e.childNodes;return t.length>0?ZA(t[t.length-1]):oi(e,t.length)}},QA=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?QA(n[t],0):n.length>0&&iU(e)&&n.length===t?ZA(n[n.length-1]):oi(e,t)},lU=(e,t)=>{const n=e.getParent(t.container,e.isBlock);return TS(e,t.container,t.offset,(o,s)=>s===0?-1:s,n).filter(o=>{const s=o.container.data.charAt(o.offset-1);return!YA(s)}).isSome()},uU=e=>t=>{const n=QA(t.startContainer,t.startOffset);return!lU(e,n)},fU=(e,t,n)=>$o(n.triggerChars,o=>XA(e,t,o)),dU=(e,t)=>{const n=t(),o=e.selection.getRng();return fU(e.dom,o,n).bind(s=>JA(e,t,s))},JA=(e,t,n,o={})=>{const s=t(),i=e.selection.getRng().startContainer.nodeValue,u=Qe(s.lookupByChar(n.triggerChar),y=>n.text.length>=y.minChars&&y.matches.getOrThunk(()=>uU(e.dom))(n.range,i,n.text));if(u.length===0)return w.none();const d=Promise.all(W(u,y=>y.fetch(n.text,y.maxResults,o).then(T=>({matchText:n.text,items:T,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}))));return w.some({lookupData:d,context:n})};var si;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(si||(si={}));const AS=(e,t,n)=>e.stype===si.Error?t(e.serror):n(e.svalue),mU=e=>{const t=[],n=[];return M(e,o=>{AS(o,s=>n.push(s),s=>t.push(s))}),{values:t,errors:n}},pU=(e,t)=>e.stype===si.Error?{stype:si.Error,serror:t(e.serror)}:e,gU=(e,t)=>e.stype===si.Value?{stype:si.Value,svalue:t(e.svalue)}:e,hU=(e,t)=>e.stype===si.Value?t(e.svalue):e,yU=(e,t)=>e.stype===si.Error?t(e.serror):e,eN=e=>({stype:si.Value,svalue:e}),tN=e=>({stype:si.Error,serror:e}),hr={fromResult:e=>e.fold(tN,eN),toResult:e=>AS(e,Pr.error,Pr.value),svalue:eN,partition:mU,serror:tN,bind:hU,bindError:yU,map:gU,mapError:pU,fold:AS},NS=e=>zt(e)&&ze(e).length>100?" removed due to size":JSON.stringify(e,null,2),bU=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Z("... (only showing first ten failures)")}]):e;return W(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},mk=(e,t)=>hr.serror([{path:e,getErrorInfo:t}]),kU=(e,t,n)=>mk(e,()=>'Could not find valid *required* value for "'+t+'" in '+NS(n)),wU=(e,t)=>mk(e,()=>'Choice schema did not contain choice key: "'+t+'"'),_U=(e,t,n)=>mk(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+NS(t)),vU=(e,t)=>mk(e,Z(t)),CU=(e,t,n,o)=>Vn(n,o).fold(()=>_U(e,n,o),a=>a.extract(e.concat(["branch: "+o]),t)),SU=(e,t)=>({extract:(s,a)=>Vn(a,e).fold(()=>wU(s,e),u=>CU(s,a,t,u)),toString:()=>"chooseOn("+e+"). Possible values: "+ze(t)}),xU=(e,t)=>t,EU=(e,t)=>ot(e)&&ot(t)?pk(e,t):t,nN=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)gn(s,a)&&(n[a]=e(n[a],s[a]))}return n},pk=nN(EU),TU=nN(xU),oN=()=>({tag:"required",process:{}}),zU=e=>({tag:"defaultedThunk",process:e}),sN=e=>zU(Z(e)),AU=()=>({tag:"option",process:{}}),NU=(e,t)=>e.length>0?hr.svalue(pk(t,TU.apply(void 0,e))):hr.svalue(t),rN=e=>Ze(hr.serror,eo)(e),RU={consolidateObj:(e,t)=>{const n=hr.partition(e);return n.errors.length>0?rN(n.errors):NU(n.values,t)},consolidateArr:e=>{const t=hr.partition(e);return t.errors.length>0?rN(t.errors):hr.svalue(t.values)}},DU=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),OU=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),aN=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},RS=e=>{const t=(o,s)=>hr.bindError(e(s),a=>vU(o,a)),n=Z("val");return{extract:t,toString:n}},PU=RS(hr.svalue),BU=(e,t,n,o)=>Vn(t,n).fold(()=>kU(e,n,t),o),cN=(e,t,n,o)=>{const s=Vn(e,t).getOrThunk(()=>n(e));return o(s)},$U=(e,t,n)=>n(Vn(e,t)),FU=(e,t,n,o)=>{const s=Vn(e,t).map(a=>a===!0?n(e):a);return o(s)},IU=(e,t,n,o,s)=>{const a=u=>s.extract(t.concat([o]),u),i=u=>u.fold(()=>hr.svalue(w.none()),d=>{const y=s.extract(t.concat([o]),d);return hr.map(y,w.some)});switch(e.tag){case"required":return BU(t,n,o,a);case"defaultedThunk":return cN(n,o,e.process,a);case"option":return $U(n,o,i);case"defaultedOptionThunk":return FU(n,o,e.process,i);case"mergeWithThunk":return cN(n,o,Z({}),u=>{const d=pk(e.process(n),u);return a(d)})}},LU=(e,t,n)=>{const o={},s=[];for(const a of n)aN(a,(i,u,d,y)=>{const v=IU(d,e,t,i,y);hr.fold(v,T=>{s.push(...T)},T=>{o[u]=T})},(i,u)=>{o[i]=u(t)});return s.length>0?hr.serror(s):hr.svalue(o)},DS=e=>({extract:(o,s)=>LU(o,s,e),toString:()=>{const o=W(e,s=>aN(s,(a,i,u,d)=>a+" -> "+d.toString(),(a,i)=>"state("+a+")"));return`obj{
`+o.join(`
`)+"}"}}),iN=e=>({extract:(o,s)=>{const a=W(s,(i,u)=>e.extract(o.concat(["["+u+"]"]),i));return RU.consolidateArr(a)},toString:()=>"array("+e.toString()+")"}),MU=e=>RS(t=>e(t).fold(hr.serror,hr.svalue)),jU=(e,t,n)=>{const o=t.extract([e],n);return hr.mapError(o,s=>({input:n,errors:s}))},UU=(e,t,n)=>hr.toResult(jU(e,t,n)),HU=e=>`Errors: 
`+bU(e.errors).join(`
`)+`

Input object: `+NS(e.input),lN=(e,t)=>SU(e,hn(t,DS)),WU=Z(PU),gk=(e,t)=>RS(n=>{const o=typeof n;return e(n)?hr.svalue(n):hr.serror(`Expected type: ${t} but got: ${o}`)}),qU=gk(Je,"number"),hk=gk(ge,"string"),VU=gk(ft,"boolean"),OS=gk(Wt,"function"),vh=DU,uN=OU,GU=e=>MU(t=>ce(e,t)?Pr.value(t):Pr.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),fN=(e,t)=>vh(e,e,oN(),t),dN=e=>fN(e,hk),mN=e=>fN(e,OS),KU=(e,t)=>vh(e,e,oN(),iN(t)),PS=(e,t)=>vh(e,e,AU(),t),yk=e=>PS(e,hk),YU=e=>PS(e,OS),XU=(e,t)=>vh(e,e,sN(t),WU()),fp=(e,t,n)=>vh(e,e,sN(t),n),pN=(e,t)=>fp(e,t,qU),ZU=(e,t)=>fp(e,t,hk),gN=(e,t,n)=>fp(e,t,GU(n)),BS=(e,t)=>fp(e,t,VU),$S=(e,t)=>fp(e,t,OS),QU=(e,t,n)=>fp(e,t,iN(n)),JU=dN("type"),eH=mN("fetch"),FS=mN("onAction"),tH=$S("onSetup",()=>ye),nH=yk("text"),oH=yk("icon"),sH=yk("tooltip"),rH=yk("label"),aH=BS("active",!1),cH=BS("enabled",!0),hN=BS("primary",!1),iH=e=>XU("columns",e),Ch=e=>ZU("type",e),lH=DS([JU,dN("ch"),pN("minChars",1),iH(1),pN("maxResults",10),YU("matches"),eH,FS,QU("highlightOn",[],hk)]),uH=e=>UU("Autocompleter",lH,e),IS=[cH,sH,oH,nH,tH],yN=[aH].concat(IS),fH=[$S("predicate",cn),gN("scope","node",["node","editor"]),gN("position","selection",["node","selection","line"])],dH=IS.concat([Ch("contextformbutton"),hN,FS,uN("original",Pe)]),mH=yN.concat([Ch("contextformbutton"),hN,FS,uN("original",Pe)]),pH=IS.concat([Ch("contextformbutton")]),gH=yN.concat([Ch("contextformtogglebutton")]),hH=lN("type",{contextformbutton:dH,contextformtogglebutton:mH});DS([Ch("contextform"),$S("initValue",Z("")),rH,KU("commands",hH),PS("launch",lN("type",{contextformbutton:pH,contextformtogglebutton:gH}))].concat(fH));const yH=e=>{const t=e.ui.registry.getAll().popups,n=hn(t,i=>uH(i).fold(u=>{throw new Error(HU(u))},Pe)),o=Lo(wo(n,i=>i.ch)),s=rs(n);return{dataset:n,triggerChars:o,lookupByChar:i=>Qe(s,u=>u.ch===i)}},bH=(e,t)=>{const n=em(t.load,50);e.on("keypress compositionend",o=>{o.which!==27&&n.throttle()}),e.on("keydown",o=>{const s=o.which;s===8?n.throttle():s===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},kH=e=>{const t=Hc(),n=xs(!1),o=t.isSet,s=()=>{o()&&(vI(e),a1(e),n.set(!1),t.clear())},a=y=>{o()||(_I(e,y.range),t.set({triggerChar:y.triggerChar,matchLength:y.text.length}))},i=rn(()=>yH(e)),u=y=>t.get().map(v=>XA(e.dom,e.selection.getRng(),v.triggerChar).bind(T=>JA(e,i,T,y))).getOrThunk(()=>dU(e,i)),d=y=>{u(y).fold(s,v=>{a(v.context),v.lookupData.then(T=>{t.get().map(N=>{const F=v.context;N.triggerChar===F.triggerChar&&(F.text.length-N.matchLength>=10?s():(t.set({...N,matchLength:F.text.length}),n.get()?r1(e,{lookupData:T}):(n.set(!0),s1(e,{lookupData:T}))))})})})};e.addCommand("mceAutocompleterReload",(y,v)=>{const T=zt(v)?v.fetchOptions:{};d(T)}),e.addCommand("mceAutocompleterClose",s),bH(e,{cancelIfNecessary:s,load:d})},bN=e=>(t,n,o={})=>{const s=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:!1,srcElement:s,cancelable:!1,preventDefault:ye,inputType:n},i=Kp(new InputEvent(e));return t.dispatch(e,{...i,...a,...o})},LS=bN("input"),MS=bN("beforeinput"),wH=(e,t,n)=>{const o=n.keyCode===sn.BACKSPACE?"deleteContentBackward":"deleteContentForward";zA([{keyCode:sn.BACKSPACE,action:Kn(dA,e)},{keyCode:sn.BACKSPACE,action:Kn(lS,e,!1)},{keyCode:sn.DELETE,action:Kn(lS,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(aS,e,!1)},{keyCode:sn.DELETE,action:Kn(aS,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(bS,e,t,!1)},{keyCode:sn.DELETE,action:Kn(bS,e,t,!0)},{keyCode:sn.BACKSPACE,action:Kn(gC,e,!1)},{keyCode:sn.DELETE,action:Kn(gC,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(uS,e,!1)},{keyCode:sn.DELETE,action:Kn(uS,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(_S,e,!1)},{keyCode:sn.DELETE,action:Kn(_S,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(sS,e,!1)},{keyCode:sn.DELETE,action:Kn(sS,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(oS,e,!1)},{keyCode:sn.DELETE,action:Kn(oS,e,!0)},{keyCode:sn.BACKSPACE,action:Kn(kS,e,!1)},{keyCode:sn.DELETE,action:Kn(kS,e,!0)}],n).each(s=>{n.preventDefault(),MS(e,o).isDefaultPrevented()||(s(),LS(e,o))})},_H=(e,t)=>{wh([{keyCode:sn.BACKSPACE,action:Kn(A2,e)},{keyCode:sn.DELETE,action:Kn(A2,e)}],t)},vH=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()===!1&&wH(e,t,n)}),e.on("keyup",n=>{n.isDefaultPrevented()===!1&&_H(e,n)})},CH=e=>{for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Sh=(e,t)=>{let n,o=t;const s=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const u=CH(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(s.doc.createTextNode(Vs),t.firstChild)}const i=s.createRng();if(t.normalize(),t.hasChildNodes()){const u=new ks(t,t);for(;n=u.current();){if(Ft(n)){i.setStart(n,0),i.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=u.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else ps(t)?t.nextSibling&&s.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Wu(e,i)},SH=(e,t)=>{const n=e.getRoot();let o,s;for(o=t;o!==n&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(s=o),o=o.parentNode;return o!==n?s:n},jS=e=>w.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),xH=e=>jS(e).fold(Z(""),t=>t.nodeName.toUpperCase()),EH=e=>jS(e).filter(t=>hl(ne.fromDom(t))).isSome(),TH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,zH=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},kN=(e,t)=>e&&e.parentNode&&e.parentNode.nodeName===t,wN=e=>e&&/^(OL|UL|LI)$/.test(e.nodeName),AH=e=>wN(e)&&wN(e.parentNode),bk=e=>{const t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},kk=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];for(;o&&!dn(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},NH=(e,t,n,o,s)=>{const a=e.dom,i=e.selection.getRng();if(n===e.getBody())return;AH(n)&&(s="LI");let u=t(s);if(kk(n,o,!0)&&kk(n,o,!1))if(kN(n,"LI")){const d=bk(n);a.insertAfter(u,d),zH(n)?a.remove(d):a.remove(n)}else a.replace(u,n);else if(kk(n,o,!0))kN(n,"LI")?(a.insertAfter(u,bk(n)),u.appendChild(a.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),a.remove(o);else if(kk(n,o,!1))a.insertAfter(u,bk(n)),a.remove(o);else{n=bk(n);const d=i.cloneRange();d.setStartAfter(o),d.setEndAfter(n);const y=d.extractContents();s==="LI"&&TH(y,"LI")?(u=y.firstChild,a.insertAfter(y,n)):(a.insertAfter(y,n),a.insertAfter(u,n)),a.remove(o)}Sh(e,u)},RH=e=>{M(xf(ne.fromDom(e),ko),t=>{const n=t.dom;n.nodeValue=E(n.nodeValue)})},DH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),OH=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),US=e=>{e.innerHTML='<br data-mce-bogus="1">'},HS=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,_N=(e,t)=>t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true",PH=(e,t,n)=>{let o=n;const s=[];let a;if(!!o){for(;o=o.firstChild;){if(e.isBlock(o))return;dn(o)&&!t[o.nodeName.toLowerCase()]&&s.push(o)}for(a=s.length;a--;)o=s[a],(!o.hasChildNodes()||o.firstChild===o.lastChild&&o.firstChild.nodeValue===""||DH(e,o))&&e.remove(o)}},WS=(e,t,n)=>Ft(t)===!1?n:e?n===1&&t.data.charAt(n-1)===m?0:n:n===t.data.length-1&&t.data.charAt(n)===m?t.data.length:n,BH=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,WS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,WS(!1,e.endContainer,e.endOffset)),t},$H=e=>{do Ft(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},vN=(e,t)=>{const n=e.getRoot();let o,s;for(o=t;o!==n&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(s=o),o=o.parentNode;return o!==n?s:n},FH=(e,t,n)=>{const o=e.dom;w.from(n.style).map(o.parseStyle).each(d=>{const v={...wd(ne.fromDom(t)),...d};o.setStyles(t,v)});const s=w.from(n.class).map(d=>d.split(/\s+/)),a=w.from(t.className).map(d=>Qe(d.split(/\s+/),y=>y!==""));zo(s,a,(d,y)=>{const v=Qe(y,N=>!ce(d,N)),T=[...d,...v];o.setAttrib(t,"class",T.join(" "))});const i=["style","class"],u=cs(n,(d,y)=>!ce(i,y));o.setAttribs(t,u)},xh=(e,t)=>{if(fa(e).toLowerCase()===t.tagName.toLowerCase()){const o=If(e);FH(e,t,o)}},IH=(e,t,n,o,s)=>{let a,i,u,d,y,v;const T=e.dom,N=vN(T,o);if(i=T.getParent(o,T.isBlock),!i||!_N(T,i)){if(i=i||N,i===e.getBody()||OH(i)?v=i.nodeName.toLowerCase():v=i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return a=T.create(t),xh(e,a),i.appendChild(a),n.setStart(a,0),n.setEnd(a,0),a;for(d=o;d.parentNode!==i;)d=d.parentNode;for(;d&&!T.isBlock(d);)u=d,d=d.previousSibling;if(u&&e.schema.isValidChild(v,t.toLowerCase())){for(a=T.create(t),xh(e,a),u.parentNode.insertBefore(a,u),d=u;d&&!T.isBlock(d);)y=d.nextSibling,a.appendChild(d),d=y;n.setStart(o,s),n.setEnd(o,s)}}return o},LH=(e,t)=>{t.normalize();const n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},MH=(e,t)=>{const n=E_(e);return Ve(t)?!1:ge(n)?ce(nt.explode(n),t.nodeName.toLowerCase()):n},CN={insert:(e,t)=>{let n,o,s,a,i,u,d,y,v;const T=e.dom,N=e.schema,F=N.getNonEmptyElements(),U=e.selection.getRng(),j=fa(e),H=lt=>{let gt=o,Dt,Pt,bn;const nn=N.getTextInlineElements();if(lt||y==="TABLE"||y==="HR"?Dt=T.create(lt||j):Dt=a.cloneNode(!1),bn=Dt,x_(e)===!1)T.setAttrib(Dt,"style",null),T.setAttrib(Dt,"class",null);else do if(nn[gt.nodeName]){if(da(gt)||ma(gt))continue;Pt=gt.cloneNode(!1),T.setAttrib(Pt,"id",""),Dt.hasChildNodes()?(Pt.appendChild(Dt.firstChild),Dt.appendChild(Pt)):(bn=Pt,Dt.appendChild(Pt))}while((gt=gt.parentNode)&&gt!==at);return xh(e,Dt),US(bn),Dt},se=lt=>{let gt,Dt;const Pt=WS(lt,o,s);if(Ft(o)&&(lt?Pt>0:Pt<o.nodeValue.length))return!1;if(o.parentNode===a&&v&&!lt||lt&&dn(o)&&o===a.firstChild)return!0;if(HS(o,"TABLE")||HS(o,"HR"))return v&&!lt||!v&&lt;const bn=new ks(o,a);for(Ft(o)&&(lt&&Pt===0?bn.prev():!lt&&Pt===o.nodeValue.length&&bn.next());gt=bn.current();){if(dn(gt)){if(!gt.getAttribute("data-mce-bogus")&&(Dt=gt.nodeName.toLowerCase(),F[Dt]&&Dt!=="br"))return!1}else if(Ft(gt)&&!yc(gt.nodeValue))return!1;lt?bn.prev():bn.next()}return!0},ve=()=>{/^(H[1-6]|PRE|FIGURE)$/.test(y)&&Vt!=="HGROUP"?i=H(j):i=H(),MH(e,d)&&_N(T,d)&&T.isEmpty(a)?i=T.split(d,a):T.insertAfter(i,a),Sh(e,i)};Xm(T,U).each(lt=>{U.setStart(lt.startContainer,lt.startOffset),U.setEnd(lt.endContainer,lt.endOffset)}),o=U.startContainer,s=U.startOffset;const Se=!!(t&&t.shiftKey),Be=!!(t&&t.ctrlKey);dn(o)&&o.hasChildNodes()&&(v=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,v&&Ft(o)?s=o.nodeValue.length:s=0);const at=vN(T,o);if(!at)return;Se||(o=IH(e,j,U,o,s)),a=T.getParent(o,T.isBlock),d=a?T.getParent(a.parentNode,T.isBlock):null,y=a?a.nodeName.toUpperCase():"";const Vt=d?d.nodeName.toUpperCase():"";if(Vt==="LI"&&!Be&&(a=d,d=d.parentNode,y=Vt),/^(LI|DT|DD)$/.test(y)&&T.isEmpty(a)){NH(e,H,d,a,j);return}a!==e.getBody()&&(Me(a)?(i=Ua(a),T.isEmpty(a)&&US(a),xh(e,i),Sh(e,i)):se()?ve():se(!0)?(i=a.parentNode.insertBefore(H(),a),Sh(e,HS(a,"HR")?i:a)):(n=BH(U).cloneRange(),n.setEndAfter(a),u=n.extractContents(),RH(u),$H(u),i=u.firstChild,T.insertAfter(u,a),PH(T,F,i),LH(T,a),T.isEmpty(a)&&US(a),i.normalize(),T.isEmpty(i)?(T.remove(i),ve()):(xh(e,i),Sh(e,i))),T.setAttrib(i,"id",""),e.dispatch("NewBlock",{newBlock:i}))},fakeEventName:"insertParagraph"},jH=(e,t,n)=>{const o=new ks(t,n);let s;const a=e.getNonEmptyElements();for(;s=o.next();)if(a[s.nodeName.toLowerCase()]||s.length>0)return!0},SN=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),Wu(e,o)},UH=(e,t)=>{const n=e.selection,o=e.dom,s=n.getRng();let a,i;Xm(o,s).each(F=>{s.setStart(F.startContainer,F.startOffset),s.setEnd(F.endContainer,F.endOffset)});let u=s.startOffset,d=s.startContainer;if(d.nodeType===1&&d.hasChildNodes()){const F=u>d.childNodes.length-1;d=d.childNodes[Math.min(u,d.childNodes.length-1)]||d,F&&d.nodeType===3?u=d.nodeValue.length:u=0}let y=o.getParent(d,o.isBlock);const v=y?o.getParent(y.parentNode,o.isBlock):null,T=v?v.nodeName.toUpperCase():"",N=!!(t&&t.ctrlKey);T==="LI"&&!N&&(y=v),d&&d.nodeType===3&&u>=d.nodeValue.length&&(jH(e.schema,d,y)||(a=o.create("br"),s.insertNode(a),s.setStartAfter(a),s.setEndAfter(a),i=!0)),a=o.create("br"),Ey(o,s,a),SN(e,a,i),e.undoManager.add()},HH=(e,t)=>{const n=ne.fromTag("br");kr(ne.fromDom(t),n),e.undoManager.add()},WH=(e,t)=>{VH(e.getBody(),t)||ca(ne.fromDom(t),ne.fromTag("br"));const n=ne.fromTag("br");ca(ne.fromDom(t),n),SN(e,n.dom,!1),e.undoManager.add()},qH=e=>ps(e.getNode()),VH=(e,t)=>qH(je.after(t))?!0:Ca(e,je.after(t)).map(n=>ps(n.getNode())).getOr(!1),xN=e=>e&&e.nodeName==="A"&&"href"in e,GH=e=>e.fold(cn,xN,xN,cn),KH=e=>{const t=et(rd,e),n=je.fromRangeStart(e.selection.getRng());return qi(t,e.getBody(),n).filter(GH)},YH=(e,t)=>{t.fold(ye,et(HH,e),et(WH,e),ye)},EN={insert:(e,t)=>{const n=KH(e);n.isSome()?n.each(et(YH,e)):UH(e,t)},fakeEventName:"insertLineBreak"},TN=(e,t)=>jS(e).filter(n=>t.length>0&&aa(ne.fromDom(n),t)).isSome(),XH=e=>TN(e,C_(e)),ZH=e=>TN(e,S_(e)),Sc=wc.generate([{br:[]},{block:[]},{none:[]}]),QH=(e,t)=>ZH(e),zN=e=>(t,n)=>EH(t)===e,AN=(e,t)=>(n,o)=>xH(n)===e.toUpperCase()===t,wk=e=>AN("pre",e),JH=()=>AN("summary",!0),_k=e=>(t,n)=>fm(t)===e,eW=(e,t)=>XH(e),vk=(e,t)=>t,tW=e=>{const t=fa(e),n=SH(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t)},ri=(e,t)=>(n,o)=>En(e,(a,i)=>a&&i(n,o),!0)?w.some(t):w.none(),nW=(e,t)=>B2([ri([QH],Sc.none()),ri([JH()],Sc.br()),ri([wk(!0),_k(!1),vk],Sc.br()),ri([wk(!0),_k(!1)],Sc.block()),ri([wk(!0),_k(!0),vk],Sc.block()),ri([wk(!0),_k(!0)],Sc.br()),ri([zN(!0),vk],Sc.br()),ri([zN(!0)],Sc.block()),ri([eW],Sc.br()),ri([vk],Sc.br()),ri([tW],Sc.block())],[e,!!(t&&t.shiftKey)]).getOr(Sc.none()),Ck=(e,t,n)=>{t.selection.isCollapsed()||aC(t),!(L(n)&&MS(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),L(n)&&LS(t,e.fakeEventName))},NN=(e,t)=>{const n=()=>Ck(EN,e,t),o=()=>Ck(CN,e,t),s=nW(e,t);switch(v_(e)){case"linebreak":s.fold(n,n,ye);break;case"block":s.fold(o,o,ye);break;case"invert":s.fold(o,n,ye);break;default:s.fold(n,o,ye);break}},oW=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),OF(e.undoManager),e.undoManager.transact(()=>{NN(e,t)}))},sW=e=>{e.on("keydown",t=>{t.keyCode===sn.ENTER&&oW(e,t)})},rW=(e,t,n)=>{const o=Gn.os.isMacOS()||Gn.os.isiOS();wh([{keyCode:sn.END,action:Kn(SA,e,!0)},{keyCode:sn.HOME,action:Kn(SA,e,!1)},...o?[]:[{keyCode:sn.HOME,action:Kn(uk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:sn.END,action:Kn(uk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:sn.END,action:Kn(RA,e,!0)},{keyCode:sn.HOME,action:Kn(RA,e,!1)},{keyCode:sn.END,action:Kn(lk,e,!0,t)},{keyCode:sn.HOME,action:Kn(lk,e,!1,t)}],n).each(s=>{n.preventDefault()})},aW=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()===!1&&rW(e,t,n)})},cW=e=>{e.on("input",t=>{t.isComposing===!1&&pB(e)})},iW=Do(),lW=(e,t,n)=>{wh([{keyCode:sn.PAGE_UP,action:Kn(lk,e,!1,t)},{keyCode:sn.PAGE_DOWN,action:Kn(lk,e,!0,t)}],n)},RN=e=>e.stopImmediatePropagation(),DN=e=>e.keyCode===sn.PAGE_UP||e.keyCode===sn.PAGE_DOWN,ON=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",RN,!0):!n&&e.get()&&t.off("NodeChange",RN),e.set(n)},uW=(e,t)=>{if(iW.os.isMacOS())return;const n=xs(!1);e.on("keydown",o=>{DN(o)&&ON(n,e,!0)}),e.on("keyup",o=>{o.isDefaultPrevented()===!1&&lW(e,t,o),DN(o)&&n.get()&&(ON(n,e,!1),e.nodeChanged())})},PN=(e,t)=>{const n=t.container(),o=t.offset();return Ft(n)?(n.insertData(o,e),w.some(je(n,o+e.length))):qf(t).map(s=>{const a=ne.fromText(e);return t.isAtEnd()?ca(s,a):kr(s,a),je(a.dom,e.length)})},fW=et(PN,Vs),dW=et(PN," "),mW=e=>t=>t.fold(n=>tc(e.dom,je.before(n)),n=>Cr(n),n=>Va(n),n=>Ca(e.dom,je.after(n))),pW=(e,t)=>n=>aB(e,n)?fW(t):dW(t),gW=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),hW=e=>{const t=je.fromRangeStart(e.selection.getRng()),n=ne.fromDom(e.getBody());if(e.selection.isCollapsed()){const o=et(rd,e),s=je.fromRangeStart(e.selection.getRng());return qi(o,e.getBody(),s).bind(mW(n)).map(a=>()=>pW(n,t)(a).each(gW(e)))}else return w.none()},yW=(e,t)=>{zA([{keyCode:sn.SPACEBAR,action:Kn(hW,e)}],t).each(n=>{t.preventDefault(),MS(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),LS(e,"insertText",{data:" "}))})},bW=e=>{e.on("keydown",t=>{t.isDefaultPrevented()===!1&&yW(e,t)})},kW=e=>zl(e)?[{keyCode:sn.TAB,action:Kn(VA,e,!0)},{keyCode:sn.TAB,shiftKey:!0,action:Kn(VA,e,!1)}]:[],wW=(e,t)=>{wh([...kW(e)],t).each(n=>{t.preventDefault()})},_W=e=>{e.on("keydown",t=>{t.isDefaultPrevented()===!1&&wW(e,t)})},vW=e=>{if(e.addShortcut("Meta+P","","mcePrint"),kH(e),Ml(e))return xs(null);{const t=zM(e);return ij(e),tU(e,t),vH(e,t),sW(e),bW(e),cW(e),_W(e),aW(e,t),uW(e,t),t}};class CW{constructor(t){this.lastPath=[],this.editor=t;let n;const o=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",s=>{const a=t.selection.getRng(),i={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset};(s.type==="nodechange"||!Jc(i,n))&&t.dispatch("SelectionChange"),n=i}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const s=t.selection.getStart(!0);!s||Fm(t)&&!o.isSameElementPath(s)&&t.dom.isChildOf(s,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",s=>{!s.isDefaultPrevented()&&Fm(t)&&(t.selection.getNode().nodeName==="IMG"?Ea.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t){const n=this.editor.selection;let o,s,a;this.editor.initialized&&n&&!hm(this.editor)&&!this.editor.mode.isReadOnly()&&(a=this.editor.getBody(),o=n.getStart(!0)||a,(o.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(o,a))&&(o=a),s=[],this.editor.dom.getParent(o,i=>{if(i===a)return!0;s.push(i)}),t=t||{},t.element=o,t.parents=s,this.editor.dispatch("NodeChange",t))}isSameElementPath(t){let n;const o=this.editor,s=io(o.dom.getParents(t,wn,o.getBody()));if(s.length===this.lastPath.length){for(n=s.length;n>=0&&s[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=s,!0}return this.lastPath=s,!1}}const BN="x-tinymce/html",Sk=Z(BN),qS="<!-- "+BN+" -->",SW=e=>qS+e,xW=e=>e.replace(qS,""),$N=e=>e.indexOf(qS)!==-1,EW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),TW=(e,t)=>{let n="<"+e;const o=wo(t,(s,a)=>a+'="'+Oi.encodeAllRaw(s)+'"');return o.length&&(n+=" "+o.join(" ")),n+">"},zW=(e,t,n)=>{const o=e.split(/\n\n/),s=TW(t,n),a="</"+t+">",i=W(o,d=>d.split(/\n/).join("<br />")),u=d=>s+d+a;return i.length===1?i[0]:W(i,u).join("")},FN="%MCEPASTEBIN%",AW=(e,t)=>{const{dom:n,selection:o}=e,s=e.getBody();t.set(o.getRng());const a=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},FN);Gn.browser.isFirefox()&&n.setStyle(a,"left",n.getStyle(s,"direction",!0)==="rtl"?65535:-65535),n.bind(a,"beforedeactivate focusin focusout",i=>{i.stopPropagation()}),a.focus(),o.select(a,!0)},NW=(e,t)=>{const n=e.dom;if(VS(e)){let o;const s=t.get();for(;o=VS(e);)n.remove(o),n.unbind(o);s&&e.selection.setRng(s)}t.set(null)},VS=e=>e.dom.get("mcepastebin"),RW=e=>e&&e.id==="mcepastebin",DW=e=>{const t=e.dom,n=(i,u)=>{i.appendChild(u),t.remove(u,!0)},[o,...s]=Qe(e.getBody().childNodes,RW);M(s,i=>{n(o,i)});const a=t.select("div[id=mcepastebin]",o);for(let i=a.length-1;i>=0;i--){const u=t.create("div");o.insertBefore(u,a[i]),n(u,a[i])}return o?o.innerHTML:""},IN=e=>e===FN,OW=e=>{const t=xs(null);return{create:()=>AW(e,t),remove:()=>NW(e,t),getEl:()=>VS(e),getHtml:()=>DW(e),getLastRng:t.get}},LN=(e,t)=>(nt.each(t,n=>{ke(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),PW=e=>{const t=Pi(),n=ap({},t);let o="";const s=t.getVoidElements(),a=nt.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),u=d=>{const y=d.name,v=d;if(y==="br"){o+=`
`;return}if(y!=="wbr"){if(s[y]&&(o+=" "),a[y]){o+=" ";return}if(d.type===3&&(o+=d.value),!(d.name in t.getVoidElements())&&(d=d.firstChild))do u(d);while(d=d.next);i[y]&&v.next&&(o+=`
`,y==="p"&&(o+=`
`))}};return e=LN(e,[/<!\[[^\]]+\]>/g]),u(n.parse(e)),o},MN=e=>(e=LN(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,o,s)=>!o&&!s?" ":Vs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),BW=e=>{let t=0;return()=>e+t++},$W=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return nt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},FW=(e,t)=>{const n=ap({},e.schema);n.addNodeFilter("meta",s=>{nt.each(s,a=>{a.remove()})});const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Gu({validate:!0},e.schema).serialize(o)},jN=(e,t)=>({content:e,cancelled:t}),IW=(e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),s=tv(e,o,n);return jN(s.node.innerHTML,s.isDefaultPrevented())},LW=(e,t,n)=>{const o=c1(e,t,n),s=FW(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?IW(e,s,n):jN(s,o.isDefaultPrevented())},MW=(e,t,n)=>LW(e,t,n),GS=(e,t)=>(e.insertContent(t,{merge:Q_(e),paste:!0}),!0),KS=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),jW=(e,t)=>KS(t)&&Ce(s0(e),n=>Xn(t.toLowerCase(),`.${n.toLowerCase()}`)),UW=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),HW=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),WW=(e,t,n)=>!e.selection.isCollapsed()&&KS(t)?HW(e,t,n):!1,qW=(e,t,n)=>jW(e,t)?UW(e,t,n):!1,VW=(e,t)=>{nt.each([WW,qW,GS],n=>n(e,t,GS)!==!0)},GW=(e,t,n)=>{n||!J_(e)?GS(e,t):VW(e,t)},KW=BW("mceclip"),UN=(e,t,n,o)=>{const s=MW(e,t,n);s.cancelled===!1&&GW(e,s.content,o)},xk=(e,t,n)=>{const o=n||$N(t);UN(e,xW(t),o,!1)},YS=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,`
`),o=Yh(n,e0(e)),s=zW(o,fa(e),If(e));UN(e,s,!1,!0)},HN=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch{t[o]=""}}return t},dp=(e,t)=>t in e&&e[t].length>0,WN=e=>dp(e,"text/html")||dp(e,"text/plain"),YW=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return L(n)?e.dom.encode(n[1]):null},XW=(e,t,n,o)=>{const s=KW(),a=mm(e)&&L(n.name),i=a?YW(e,n.name):s,u=a?n.name:void 0,d=t.create(s,n,o,i,u);return t.add(d),d},ZW=(e,t)=>{WC(t.uri).each(({data:n,type:o,base64Encoded:s})=>{const a=s?n:btoa(n),i=t.file,u=e.editorUpload.blobCache,d=u.getByData(a,o),y=d!=null?d:XW(e,u,i,a);xk(e,`<img src="${y.blobUri()}">`,!1)})},QW=e=>e.type==="paste",JW=e=>Promise.all(W(e,t=>Sz(t).then(n=>({file:t,uri:n})))),eq=e=>{const t=s0(e);return n=>un(n.type,"image/")&&Ce(t,o=>$W(o)===n.type)},tq=(e,t)=>{const n=t.items?Xt(ho(t.items),s=>s.kind==="file"?[s.getAsFile()]:[]):[],o=t.files?ho(t.files):[];return Qe(n.length>0?n:o,eq(e))},qN=(e,t,n)=>{const o=QW(t)?t.clipboardData:t.dataTransfer;if(Kc(e)&&o){const s=tq(e,o);if(s.length>0)return t.preventDefault(),JW(s).then(a=>{n&&e.selection.setRng(n),M(a,i=>{ZW(e,i)})}),!0}return!1},nq=e=>{var t,n;return Gn.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},oq=e=>sn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,VN=(e,t,n,o)=>{let s=MN(n);const a=dp(t,Sk())||$N(n),i=!a&&EW(s),u=KS(s);(IN(s)||!s.length||i&&!u)&&(o=!0),(o||u)&&(dp(t,"text/plain")&&i?s=t["text/plain"]:s=PW(s)),!IN(s)&&(o?YS(e,s):xk(e,s,a))},sq=(e,t,n)=>{let o;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",a=>{oq(a)&&!a.isDefaultPrevented()&&(o=a.shiftKey&&a.keyCode===86)}),e.on("paste",a=>{if(a.isDefaultPrevented()||nq(a))return;const i=n.get()==="text"||o;o=!1;const u=HN(a.clipboardData);!WN(u)&&qN(e,a,s())||(dp(u,"text/html")?(a.preventDefault(),VN(e,u,u["text/html"],i)):(t.create(),Ea.setEditorTimeout(e,()=>{const d=t.getHtml();t.remove(),VN(e,u,d,i)},0)))})},rq=e=>{const t=s=>un(s,"webkit-fake-url"),n=s=>un(s,"data:"),o=s=>{var a;return((a=s.data)===null||a===void 0?void 0:a.paste)===!0};e.parser.addNodeFilter("img",(s,a,i)=>{if(!Kc(e)&&o(i))for(const u of s){const d=u.attr("src");ge(d)&&!u.attr("data-mce-object")&&d!==Gn.transparentSrc&&(t(d)||!fb(e)&&n(d))&&u.remove()}})},aq=(e,t,n)=>{sq(e,t,n),rq(e)},cq=(e,t)=>{t.get()==="text"?(t.set("html"),Vg(e,!1)):(t.set("text"),Vg(e,!0)),e.focus()},iq=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{cq(e,t)}),e.addCommand("mceInsertClipboardContent",(n,o)=>{o.html&&xk(e,o.html,o.internal),o.text&&YS(e,o.text)})},lq=(e,t,n)=>{try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(Sk(),t),!0}catch{return!1}},GN=(e,t,n,o)=>{lq(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},KN=e=>(t,n)=>{const{dom:o,selection:s}=e,a=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=o.create("div",{contenteditable:"true"},t);o.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(i),o.add(e.getBody(),a);const u=s.getRng();i.focus();const d=o.createRng();d.selectNodeContents(i),s.setRng(d),Ea.setEditorTimeout(e,()=>{s.setRng(u),o.remove(a),n()},0)},YN=e=>({html:SW(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),uq=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),XN=e=>!e.selection.isCollapsed()||uq(e),fq=e=>t=>{!t.isDefaultPrevented()&&XN(e)&&GN(t,YN(e),KN(e),()=>{if(Gn.browser.isChromium()||Gn.browser.isFirefox()){const n=e.selection.getRng();Ea.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},dq=e=>t=>{!t.isDefaultPrevented()&&XN(e)&&GN(t,YN(e),KN(e),ye)},mq=e=>{e.on("cut",fq(e)),e.on("copy",dq(e))},ZN=(e,t)=>{var n,o;return Hu.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(o=t.clientY)!==null&&o!==void 0?o:0,e.getDoc())},pq=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},QN=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},gq=e=>Ce(e.files,t=>/^image\//.test(t.type)),hq=(e,t)=>{ym(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Kc(e)||e.on("drop",n=>{const o=n.dataTransfer;o&&gq(o)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented()||t.get())return;const o=ZN(e,n);if(Ve(o))return;const s=HN(n.dataTransfer),a=dp(s,Sk());if((!WN(s)||pq(s))&&qN(e,n,o))return;const i=s[Sk()],u=i||s["text/html"]||s["text/plain"];u&&(n.preventDefault(),Ea.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{i&&e.execCommand("Delete"),QN(e,o);const d=MN(u);s["text/html"]?xk(e,d,a):YS(e,d)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Kc(e)&&t.get()===!1&&(n.preventDefault(),QN(e,ZN(e,n))),n.type==="dragend"&&t.set(!1)})},yq=e=>{const t=s=>a=>{s(e,a)},n=Mf(e);Wt(n)&&e.on("PastePreProcess",t(n));const o=X_(e);Wt(o)&&e.on("PastePostProcess",t(o))},bq=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},kq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,JN=e=>nt.trim(e).replace(kq,Yc).toLowerCase(),wq=(e,t,n)=>{const o=lb(e);if(n||o==="all"||!Z_(e))return t;const s=o?o.split(/[, ]/):[];if(s&&o!=="none"){const a=e.dom,i=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,d,y,v)=>{const T=a.parseStyle(a.decode(y)),N={};for(let U=0;U<s.length;U++){const j=T[s[U]];let H=j,se=a.getStyle(i,s[U],!0);/color/.test(s[U])&&(H=JN(H),se=JN(se)),se!==H&&(N[s[U]]=j)}const F=a.serializeStyle(N,"span");return F?d+' style="'+F+'"'+v:d+v})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(a,i,u,d)=>i+' style="'+u+'"'+d),t},_q=e=>{(Gn.browser.isChromium()||Gn.browser.isSafari())&&bq(e,wq)},vq=e=>{const t=xs(!1),n=xs(ub(e)?"text":"html"),o=OW(e);_q(e),iq(e,n),yq(e),e.on("PreInit",()=>{mq(e),hq(e,t),aq(e,o,n)})},Cq=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Sq=e=>{e.parser.addNodeFilter("details",t=>{M(t,n=>{n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",t=>{M(t,n=>{const o=n.attr("data-mce-open");n.attr("open",ge(o)?o:null),n.attr("data-mce-open",null)})})},xq=e=>{Cq(e),Sq(e)},Eq=ps,e6=Ft,Tq=e=>os(e.dom),zq=e=>la(e.dom),t6=e=>t=>_o(ne.fromDom(e),t),Aq=(e,t)=>Bc(ne.fromDom(e),n=>zq(n)||ua(n),t6(t)).getOr(ne.fromDom(t)).dom,n6=(e,t)=>Bc(ne.fromDom(e),Tq,t6(t)),o6=(e,t,n)=>{const o=new ks(e,t),s=n?o.next.bind(o):o.prev.bind(o);let a=e;for(let i=n?e:s();i&&!Eq(i);i=s())$n(i)&&(a=i);return a},Nq=(e,t)=>{const o=je.fromRangeStart(e).getNode(),s=Aq(o,t),a=o6(o,s,!1),i=o6(o,s,!0),u=document.createRange();return n6(a,s).fold(()=>{e6(a)?u.setStart(a,0):u.setStartBefore(a)},d=>u.setStartBefore(d.dom)),n6(i,s).fold(()=>{e6(i)?u.setEnd(i,i.data.length):u.setEndAfter(i)},d=>u.setEndAfter(d.dom)),u},Rq=e=>{const t=Nq(e.selection.getRng(),e.getBody());e.selection.setRng(wC(t))},Dq=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),Rq(e))})};var Eh;(function(e){e.Before="before",e.After="after"})(Eh||(Eh={}));const Oq=(e,t)=>Math.abs(e.left-t),Pq=(e,t)=>Math.abs(e.right-t),Bq=(e,t)=>e>=t.top&&e<=t.bottom,$q=(e,t)=>e.top<t.bottom&&e.bottom>t.top,Fq=(e,t)=>{const n=sg(e,t)/Math.min(e.height,t.height);return $q(e,t)&&n>.5},Iq=(e,t)=>{const n=Qe(e,o=>Bq(t,o));return gy(n).fold(()=>[[],e],o=>{const{pass:s,fail:a}=kt(e,i=>Fq(i,o));return[s,a]})},Lq=(e,t)=>({node:e.node,position:Oq(e,t)<Pq(e,t)?Eh.Before:Eh.After}),Mq=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),XS=(e,t,n)=>{const o=v=>$n(v.node)?w.some(v):dn(v.node)?XS(ho(v.node.childNodes),t,n):w.none(),s=(v,T)=>{if(v.length>=2){const N=o(v[0]).getOr(v[0]),F=o(v[1]).getOr(v[1]);if(Math.abs(T(N,t,n)-T(F,t,n))<2){if(Ft(N.node))return w.some(N);if(Ft(F.node))return w.some(F)}}return w.none()},a=(v,T)=>{const N=Qt(v,(F,U)=>T(F,t,n)-T(U,t,n));return s(N,T).orThunk(()=>$o(N,o))},[i,u]=Iq(K2(e),n),{pass:d,fail:y}=kt(u,v=>v.top<n);return a(i,Mq).orThunk(()=>a(y,og)).orThunk(()=>a(d,og))},jq=(e,t,n,o)=>{const s=(a,i)=>i.fold(()=>XS(ho(a.dom.childNodes),n,o),u=>{const d=Qe(ho(a.dom.childNodes),y=>y!==u.dom);return XS(d,n,o)}).orThunk(()=>(_o(a,e)?w.none():ol(a)).bind(d=>s(d,w.some(a))));return s(t,w.none())},Uq=(e,t,n)=>{const o=ne.fromDom(e),s=_a(o),i=ne.fromPoint(s,t,n).filter(u=>Cs(o,u)).getOr(o);return jq(o,i,t,n)},Hq=(e,t,n)=>Uq(e,t,n).filter(o=>Cu(o.node)).map(o=>Lq(o,t)),s6=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,s=n.defaultView;return{top:t.top+s.pageYOffset-o.clientTop,left:t.left+s.pageXOffset-o.clientLeft}},Wq=e=>e.inline?s6(e.getBody()):{left:0,top:0},qq=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},Vq=e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},s={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:s},Gq=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=s6(e.getContentAreaContainer()),o=Vq(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}},Kq=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),Yq=(e,t)=>Kq(Wq(e),qq(e),Gq(e,t)),ZS=os,Xq=la,Zq=(e,t)=>ZS(t)&&t!==e,Qq=(e,t,n)=>t===n||e.dom.isChildOf(t,n)?!1:!ZS(t),Jq=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},eV=(e,t,n,o)=>{const s=e.dom,a=t.cloneNode(!0);s.setStyles(a,{width:n,height:o}),s.setAttrib(a,"data-mce-selected",null);const i=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),s.setStyles(a,{margin:0,boxSizing:"border-box"}),i.appendChild(a),i},tV=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},nV=(e,t,n,o,s,a)=>{let i=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>s&&(i=t.pageX+n-s),t.pageY+o>a&&(u=t.pageY+o-a),e.style.width=n-i+"px",e.style.height=o-u+"px"},r6=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},oV=e=>e.button===0,sV=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),rV=(e,t)=>n=>{if(oV(n)){const o=oo(t.dom.getParents(n.target),Qw(ZS,Xq)).getOr(null);if(Zq(t.getBody(),o)){const s=t.dom.getPos(o),a=t.getBody(),i=t.getDoc().documentElement;e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:i.offsetHeight)-2,relX:n.pageX-s.x,relY:n.pageY-s.y,width:o.offsetWidth,height:o.offsetHeight,ghost:eV(t,o,o.offsetWidth,o.offsetHeight)})}}},aV=(e,t)=>{const n=Bi((o,s)=>{t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(o,s)},0);return t.on("remove",n.cancel),o=>e.on(s=>{const a=Math.max(Math.abs(o.screenX-s.screenX),Math.abs(o.screenY-s.screenY));if(!s.dragging&&a>10){if(t.dispatch("dragstart",{target:s.element}).isDefaultPrevented())return;s.dragging=!0,t.focus()}if(s.dragging){const i=sV(s,Yq(t,o));tV(s.ghost,t.getBody()),nV(s.ghost,i,s.width,s.height,s.maxX,s.maxY),n.throttle(o.clientX,o.clientY)}})},cV=e=>{const n=e.getSel().getRangeAt(0).startContainer;return n.nodeType===3?n.parentNode:n},iV=(e,t)=>n=>{e.on(o=>{if(o.dragging){if(Qq(t,cV(t.selection),o.element)){const s=Jq(o.element);t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact(()=>{r6(o.element),t.insertContent(t.dom.getOuterHTML(s)),t._selectionOverrides.hideFakeCaret()})}t.dispatch("dragend")}}),a6(e)},lV=(e,t)=>()=>{e.on(n=>{n.dragging&&t.dispatch("dragend")}),a6(e)},a6=e=>{e.on(t=>{r6(t.ghost)}),e.clear()},uV=e=>{const t=Hc(),n=Ho.DOM,o=document,s=rV(t,e),a=aV(t,e),i=iV(t,e),u=lV(t,e);e.on("mousedown",s),e.on("mousemove",a),e.on("mouseup",i),n.bind(o,"mousemove",a),n.bind(o,"mouseup",u),e.on("remove",()=>{n.unbind(o,"mousemove",a),n.unbind(o,"mouseup",u)}),e.on("keydown",d=>{d.keyCode===sn.ESC&&u()})},fV=e=>{const t=s=>{if(!s.isDefaultPrevented()){const a=s.dataTransfer;a&&(ce(a.types,"Files")||a.files.length>0)&&(s.preventDefault(),s.type==="drop"&&tk(e,"Dropped file type is not supported"))}},n=s=>{I(e,s.target)&&t(s)},o=()=>{const s=Ho.DOM,a=e.dom,i=document,u=e.inline?e.getBody():e.getDoc(),d=["drop","dragover"];M(d,y=>{s.bind(i,y,n),a.bind(u,y,t)}),e.on("remove",()=>{M(d,y=>{s.unbind(i,y,n),a.unbind(u,y,t)})})};e.on("init",()=>{Ea.setEditorTimeout(e,o,0)})},dV=e=>{uV(e),ob(e)&&fV(e)},mV=e=>{const t=Bi(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const o=rS(e,n,!1);e.selection.setRng(o)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},pV=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(pc(n)){const o=op(e.getBody(),n),s=os(o)?o:n;e.selection.getNode()!==s&&hh(e,s).each(a=>e.selection.setRng(a))}})})},mp=os,QS=(e,t)=>op(e.getBody(),t),gV=e=>{const t=e.selection,n=e.dom,o=n.isBlock,s=e.getBody(),a=km(e,s,o,()=>Xo(e)),i="sel-"+n.uniqueId(),u="data-mce-selected";let d;const y=gt=>n.hasClass(gt,"mce-offscreen-selection"),v=gt=>gt!==s&&(mp(gt)||pc(gt))&&n.isChildOf(gt,s),T=gt=>{gt&&t.setRng(gt)},N=(gt,Dt,Pt,bn=!0)=>e.dispatch("ShowCaret",{target:Dt,direction:gt,before:Pt}).isDefaultPrevented()?null:(bn&&t.scrollIntoView(Dt,gt===-1),a.show(Pt,Dt)),F=gt=>{gt.hasAttribute("data-mce-caret")&&(Ua(gt),t.scrollIntoView(gt))},U=()=>{e.on("click",Dt=>{const Pt=QS(e,Dt.target);Pt&&mp(Pt)&&(Dt.preventDefault(),e.focus())}),e.on("blur NewBlock",at),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Dt=>{const Pt=Dt.target,bn=QS(e,Pt);mp(bn)?(Dt.preventDefault(),hh(e,bn).each(Be)):v(Pt)&&hh(e,Pt).each(Be)},!0),e.on("mousedown",Dt=>{const Pt=Dt.target;if(Pt!==s&&Pt.nodeName!=="HTML"&&!n.isChildOf(Pt,s)||p7(e,Dt.clientX,Dt.clientY)===!1)return;at(),lt();const bn=QS(e,Pt);mp(bn)?(Dt.preventDefault(),hh(e,bn).each(Be)):Hq(s,Dt.clientX,Dt.clientY).each(nn=>{Dt.preventDefault();const Ht=N(1,nn.node,nn.position===Eh.Before,!1);T(Ht),dn(bn)?bn.focus():e.getBody().focus()})}),e.on("keypress",Dt=>{sn.modifierPressed(Dt)||mp(t.getNode())&&Dt.preventDefault()}),e.on("GetSelectionRange",Dt=>{let Pt=Dt.range;if(d){if(!d.parentNode){d=null;return}Pt=Pt.cloneRange(),Pt.selectNode(d),Dt.range=Pt}}),e.on("SetSelectionRange",Dt=>{Dt.range=se(Dt.range);const Pt=Be(Dt.range,Dt.forward);Pt&&(Dt.range=Pt)});const gt=Dt=>Dt.id==="mcepastebin";e.on("AfterSetSelectionRange",Dt=>{const Pt=Dt.range,bn=Pt.startContainer.parentNode;!H(Pt)&&!gt(bn)&&lt(),y(bn)||at()}),dV(e),mV(e),pV(e)},j=gt=>xt(gt)||or(gt)||Dr(gt),H=gt=>j(gt.startContainer)||j(gt.endContainer),se=gt=>{const Dt=e.schema.getVoidElements(),Pt=n.createRng(),bn=gt.startContainer,nn=gt.startOffset,Ht=gt.endContainer,fo=gt.endOffset;return gn(Dt,bn.nodeName.toLowerCase())?nn===0?Pt.setStartBefore(bn):Pt.setStartAfter(bn):Pt.setStart(bn,nn),gn(Dt,Ht.nodeName.toLowerCase())?fo===0?Pt.setEndBefore(Ht):Pt.setEndAfter(Ht):Pt.setEnd(Ht,fo),Pt},ve=(gt,Dt)=>{const Pt=ne.fromDom(e.getBody()),bn=e.getDoc(),nn=$c(Pt,"#"+i).getOrThunk(()=>{const Co=ne.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',bn);return ao(Co,"id",i),fs(Pt,Co),Co}),Ht=n.createRng();fl(nn),fc(nn,[ne.fromText(Vs,bn),ne.fromDom(Dt),ne.fromText(Vs,bn)]),Ht.setStart(nn.dom.firstChild,1),Ht.setEnd(nn.dom.lastChild,0),jr(nn,{top:n.getPos(gt,e.getBody()).y+"px"}),v1(nn);const fo=t.getSel();return fo.removeAllRanges(),fo.addRange(Ht),Ht},Se=gt=>{const Dt=gt.cloneNode(!0),Pt=e.dispatch("ObjectSelected",{target:gt,targetClone:Dt});if(Pt.isDefaultPrevented())return null;const bn=ve(gt,Pt.targetClone),nn=ne.fromDom(gt);return M(wr(ne.fromDom(e.getBody()),`*[${u}]`),Ht=>{_o(nn,Ht)||is(Ht,u)}),n.getAttrib(gt,u)||gt.setAttribute(u,"1"),d=gt,lt(),bn},Be=(gt,Dt)=>{if(!gt)return null;if(gt.collapsed){if(!H(gt)){const Ht=Dt?1:-1,fo=Eu(Ht,s,gt),Co=fo.getNode(!Dt);if(Cu(Co))return N(Ht,Co,Dt?!fo.isAtEnd():!1,!1);const Io=fo.getNode(Dt);if(Cu(Io))return N(Ht,Io,Dt?!1:!fo.isAtEnd(),!1)}return null}let Pt=gt.startContainer,bn=gt.startOffset;const nn=gt.endOffset;if(Pt.nodeType===3&&bn===0&&mp(Pt.parentNode)&&(Pt=Pt.parentNode,bn=n.nodeIndex(Pt),Pt=Pt.parentNode),Pt.nodeType!==1)return null;if(nn===bn+1&&Pt===gt.endContainer){const Ht=Pt.childNodes[bn];if(v(Ht))return Se(Ht)}return null},at=()=>{d&&d.removeAttribute(u),$c(ne.fromDom(e.getBody()),"#"+i).each(Oo),d=null},Vt=()=>{a.destroy(),d=null},lt=()=>{a.hide()};return Ml(e)||U(),{showCaret:N,showBlockCaretContainer:F,hideFakeCaret:lt,destroy:Vt}},c6=(e,t,n)=>{if(Ft(t)&&(n<0||n>t.data.length))return[];const o=[n];let s=t;for(;s!==e&&s.parentNode;){const a=s.parentNode;for(let i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===s){o.push(i);break}s=a}return s===e?o.reverse():[]},JS=(e,t,n,o,s)=>{const a=c6(e,t,n),i=c6(e,o,s);return{start:a,end:i}},i6=(e,t)=>{const n=t.slice(),o=n.pop();return En(n,(a,i)=>a.bind(u=>w.from(u.childNodes[i])),w.some(e)).bind(a=>Ft(a)&&(o<0||o>a.data.length)?w.none():w.some({node:a,offset:o}))},l6=(e,t)=>i6(e,t.start).bind(({node:n,offset:o})=>i6(e,t.end).map(({node:s,offset:a})=>{const i=document.createRange();return i.setStart(n,o),i.setEnd(s,a),i})),hV=(e,t)=>JS(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset),pp=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t),pp(e,o,n)}},Ek=(e,t,n,o=!0)=>{const s=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(Ft(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ft(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),pp(e,s,n),s!==a&&pp(e,a,n))},ex=(e,t)=>w.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),u6=(e,t,n)=>{oU(t,0,t).each(s=>{const a=s.container;GA(a,n.start.length,t).each(i=>{const u=e.createRng();u.setStart(a,0),u.setEnd(i.container,i.offset),Ek(e,u,d=>d===t)})})},yV=(e,t)=>{const n=e.dom,o=t.pattern,s=l6(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),a=(i,u)=>{const d=u.get(i);return le(d)&&Tn(d).exists(y=>gn(y,"block"))};return ex(e,s).each(i=>{o.type==="block-format"?a(o.format,e.formatter)&&e.undoManager.transact(()=>{u6(e.dom,i,o),e.formatter.apply(o.format)}):o.type==="block-command"&&e.undoManager.transact(()=>{u6(e.dom,i,o),e.execCommand(o.cmd,!1,o.value)})}),!0},bV=(e,t)=>{const n=t.replace(Vs," ");return oo(e,o=>t.indexOf(o.start)===0||n.indexOf(o.start)===0)},kV=(e,t)=>{const n=e.dom,o=e.selection.getRng();return ex(e,o).filter(s=>{const a=fa(e),i=n.is(s,a);return s!==null&&i}).bind(s=>{const a=s.textContent;return bV(t,a).map(u=>nt.trim(a).length===u.start.length?[]:[{pattern:u,range:JS(n.getRoot(),s,0,s,0)}])}).getOr([])},wV=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();M(t,o=>yV(e,o)),e.selection.moveToBookmark(n)},f6=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Tk=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},d6=(e,t,n)=>{const o=l6(e.getRoot(),n).getOrDie("Unable to resolve path range"),s=o.startContainer,a=o.endContainer,i=o.endOffset===0?a:a.splitText(o.endOffset),u=o.startOffset===0?s:s.splitText(o.startOffset);return{prefix:t,end:i.parentNode.insertBefore(f6(e,t+"-end"),i),start:u.parentNode.insertBefore(f6(e,t+"-start"),u)}},m6=(e,t,n)=>{pp(e,e.get(t.prefix+"-end"),n),pp(e,e.get(t.prefix+"-start"),n)},tx=e=>e.start.length===0,_V=e=>(t,n)=>{const s=t.data.substring(0,n),a=s.lastIndexOf(e.charAt(e.length-1)),i=s.lastIndexOf(e);return i!==-1?i+e.length:a!==-1?a+1:-1},p6=(e,t,n,o)=>{const s=t.start;return TS(e,o.container,o.offset,_V(s),n).bind(i=>{if(i.offset>=s.length){const u=e.createRng();return u.setStart(i.container,i.offset-s.length),u.setEnd(i.container,i.offset),w.some(u)}else{const u=i.offset-s.length;return ES(i.container,u,n).map(d=>{const y=e.createRng();return y.setStart(d.container,d.offset),y.setEnd(i.container,i.offset),y}).filter(d=>d.toString()===s).orThunk(()=>p6(e,t,n,oi(i.container,0)))}})},vV=(e,t,n,o,s,a=!1)=>{if(t.start.length===0&&!a){const i=e.createRng();return i.setStart(n,o),i.setEnd(n,o),w.some(i)}return xS(n,o,s).bind(i=>p6(e,t,s,i).bind(d=>{if(a){if(d.endContainer===i.container&&d.endOffset===i.offset)return w.none();if(i.offset===0&&d.endContainer.textContent.length===d.endOffset)return w.none()}return w.some(d)}))},CV=(e,t,n)=>{const o=e.dom,s=o.getRoot(),a=n.pattern,i=n.position.container,u=n.position.offset;return ES(i,u-n.pattern.end.length,t).bind(d=>{const y=JS(s,d.container,d.offset,i,u);if(tx(a))return w.some({matches:[{pattern:a,startRng:y,endRng:y}],position:d});{const v=g6(e,n.remainingPatterns,d.container,d.offset,t),T=v.getOr({matches:[],position:d}),N=T.position;return vV(o,a,N.container,N.offset,t,v.isNone()).map(U=>{const j=hV(s,U);return{matches:T.matches.concat([{pattern:a,startRng:j,endRng:y}]),position:oi(U.startContainer,U.startOffset)}})}})},g6=(e,t,n,o,s)=>{const a=e.dom;return xS(n,o,a.getRoot()).bind(i=>{const u=a.createRng();u.setStart(s,0),u.setEnd(n,o);const d=u.toString();for(let y=0;y<t.length;y++){const v=t[y];if(!Xn(d,v.end))continue;const T=t.slice();T.splice(y,1);const N=CV(e,s,{pattern:v,remainingPatterns:T,position:i});if(N.isSome())return N}return w.none()})},h6=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?M(t.format,o=>{e.formatter.apply(o)}):e.execCommand(t.cmd,!1,t.value)},SV=(e,t,n,o)=>{const s=Tk(e.dom,n);Ek(e.dom,s,o),h6(e,t,s)},xV=(e,t,n,o,s)=>{const a=e.dom,i=Tk(a,o),u=Tk(a,n);Ek(a,u,s),Ek(a,i,s);const d={prefix:n.prefix,start:n.end,end:o.start},y=Tk(a,d);h6(e,t,y)},EV=(e,t)=>{const n=fy("mce_textpattern"),o=pn(t,(s,a)=>{const i=d6(e,n+`_end${s.length}`,a.endRng);return s.concat([{...a,endMarker:i}])},[]);return pn(o,(s,a)=>{const i=o.length-s.length-1,u=tx(a.pattern)?a.endMarker:d6(e,n+`_start${i}`,a.startRng);return s.concat([{...a,startMarker:u}])},[])},y6=(e,t,n)=>{const o=e.selection.getRng();return o.collapsed===!1?[]:ex(e,o).bind(s=>{const a=Math.max(0,o.startOffset-(n?1:0));return g6(e,t,o.startContainer,a,s)}).fold(()=>[],s=>s.matches)},b6=(e,t)=>{if(t.length===0)return;const n=e.dom,o=e.selection.getBookmark(),s=EV(n,t);M(s,a=>{const i=n.getParent(a.startMarker.start,n.isBlock),u=d=>d===i;tx(a.pattern)?SV(e,a.pattern,a.endMarker,u):xV(e,a.pattern,a.startMarker,a.endMarker,u),m6(n,a.endMarker,u),m6(n,a.startMarker,u)}),e.selection.moveToBookmark(o)},TV=e=>e.inlinePatterns.length>0||e.blockPatterns.length>0,zV=(e,t)=>{if(!e.selection.isCollapsed()||!TV(t))return!1;const n=y6(e,t.inlinePatterns,!1),o=kV(e,t.blockPatterns);return o.length>0||n.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(yl),b6(e,n),wV(e,o);const s=e.selection.getRng(),a=xS(s.startContainer,s.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),a.each(i=>{const u=i.container;u.data.charAt(i.offset-1)===yl&&(u.deleteData(i.offset-1,1),pp(e.dom,u.parentNode,d=>d===e.dom.getRoot()))})}),!0):!1},k6=(e,t)=>{if(t.length>0){const n=y6(e,t,!0);n.length>0&&e.undoManager.transact(()=>{b6(e,n)})}},w6=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},AV=(e,t)=>w6(e,t,(n,o)=>n===o.keyCode&&sn.modifierPressed(o)===!1),NV=(e,t)=>w6(e,t,(n,o)=>n.charCodeAt(0)===o.charCode),RV=e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>d_(_g(e)),s=()=>$f(_g(e));e.on("keydown",a=>{a.keyCode===13&&!sn.modifierPressed(a)&&zV(e,o())&&a.preventDefault()},!0),e.on("keyup",a=>{AV(n,a)&&k6(e,s())}),e.on("keypress",a=>{NV(t,a)&&Ea.setEditorTimeout(e,()=>{k6(e,s())})})},DV=e=>{RV(e)},OV=e=>{const t=nt.each,n=sn.BACKSPACE,o=sn.DELETE,s=e.dom,a=e.selection,i=e.parser,u=Gn.browser,d=u.isFirefox(),y=u.isChromium()||u.isSafari(),v=Gn.deviceType.isiPhone()||Gn.deviceType.isiPad(),T=Gn.os.isMacOS()||Gn.os.isiOS(),N=(Mt,_n)=>{try{e.getDoc().execCommand(Mt,!1,_n)}catch{}},F=Mt=>Mt.isDefaultPrevented(),U=()=>{const Mt=on=>{const Bt=s.create("body"),Jn=on.cloneContents();return Bt.appendChild(Jn),a.serializer.serialize(Bt,{format:"html"})},_n=on=>{const Bt=Mt(on),Jn=s.createRng();Jn.selectNode(e.getBody());const co=Mt(Jn);return Bt===co};e.on("keydown",on=>{const Bt=on.keyCode;let Jn,co;if(!F(on)&&(Bt===o||Bt===n)){if(Jn=e.selection.isCollapsed(),co=e.getBody(),Jn&&!s.isEmpty(co)||!Jn&&!_n(e.selection.getRng()))return;on.preventDefault(),e.setContent(""),co.firstChild&&s.isBlock(co.firstChild)?e.selection.setCursorLocation(co.firstChild,0):e.selection.setCursorLocation(co,0),e.nodeChanged()}})},j=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},H=()=>{e.inline||s.bind(e.getDoc(),"mousedown mouseup",Mt=>{let _n;if(Mt.target===e.getDoc().documentElement)if(_n=a.getRng(),e.getBody().focus(),Mt.type==="mousedown"){if(xt(_n.startContainer))return;a.placeCaretAt(Mt.clientX,Mt.clientY)}else a.setRng(_n)})},se=()=>{e.on("keydown",Mt=>{if(!F(Mt)&&Mt.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&a.getRng().startOffset===0){const _n=a.getNode(),on=_n.previousSibling;if(_n.nodeName==="HR"){s.remove(_n),Mt.preventDefault();return}on&&on.nodeName&&on.nodeName.toLowerCase()==="hr"&&(s.remove(on),Mt.preventDefault())}}})},ve=()=>{Range.prototype.getClientRects||e.on("mousedown",Mt=>{if(!F(Mt)&&Mt.target.nodeName==="HTML"){const _n=e.getBody();_n.blur(),Ea.setEditorTimeout(e,()=>{_n.focus()})}})},Se=()=>{const Mt=sb(e);e.on("click",_n=>{const on=_n.target;/^(IMG|HR)$/.test(on.nodeName)&&s.getContentEditableParent(on)!=="false"&&(_n.preventDefault(),e.selection.select(on),e.nodeChanged()),on.nodeName==="A"&&s.hasClass(on,Mt)&&on.childNodes.length===0&&(_n.preventDefault(),a.select(on))})},Be=()=>{const Mt=()=>{const on=s.getAttribs(a.getStart().cloneNode(!1));return()=>{const Bt=a.getStart();Bt!==e.getBody()&&(s.setAttrib(Bt,"style",null),t(on,Jn=>{Bt.setAttributeNode(Jn.cloneNode(!0))}))}},_n=()=>!a.isCollapsed()&&s.getParent(a.getStart(),s.isBlock)!==s.getParent(a.getEnd(),s.isBlock);e.on("keypress",on=>{let Bt;if(!F(on)&&(on.keyCode===8||on.keyCode===46)&&_n())return Bt=Mt(),e.getDoc().execCommand("delete",!1,null),Bt(),on.preventDefault(),!1}),s.bind(e.getDoc(),"cut",on=>{let Bt;!F(on)&&_n()&&(Bt=Mt(),Ea.setEditorTimeout(e,()=>{Bt()}))})},at=()=>{e.on("keydown",Mt=>{if(!F(Mt)&&Mt.keyCode===n&&a.isCollapsed()&&a.getRng().startOffset===0){const _n=a.getNode().previousSibling;if(_n&&_n.nodeName&&_n.nodeName.toLowerCase()==="table")return Mt.preventDefault(),!1}})},Vt=()=>{e.on("keydown",Mt=>{let _n,on;if(F(Mt)||Mt.keyCode!==sn.BACKSPACE)return;_n=a.getRng();const Bt=_n.startContainer,Jn=_n.startOffset,co=s.getRoot();if(on=Bt,!(!_n.collapsed||Jn!==0)){for(;on&&on.parentNode&&on.parentNode.firstChild===on&&on.parentNode!==co;)on=on.parentNode;on.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,on),_n=s.createRng(),_n.setStart(Bt,0),_n.setEnd(Bt,0),a.setRng(_n))}})},lt=()=>{const Mt=()=>{N("StyleWithCSS",!1),N("enableInlineTableEditing",!1),Jy(e)||N("enableObjectResizing",!1)};As(e)||e.on("BeforeExecCommand mousedown",Mt)},gt=()=>{const Mt=()=>{t(s.select("a"),_n=>{let on=_n.parentNode;const Bt=s.getRoot();if(on.lastChild===_n){for(;on&&!s.isBlock(on);){if(on.parentNode.lastChild!==on||on===Bt)return;on=on.parentNode}s.add(on,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",_n=>{(_n.type==="setcontent"||_n.command==="mceInsertLink")&&Mt()})},Dt=()=>{e.on("init",()=>{N("DefaultParagraphSeparator",fa(e))})},Pt=Mt=>{const _n=Mt.getBody(),on=Mt.selection.getRng();return on.startContainer===on.endContainer&&on.startContainer===_n&&on.startOffset===0&&on.endOffset===_n.childNodes.length},bn=()=>{e.on("keyup focusin mouseup",Mt=>{!sn.modifierPressed(Mt)&&!Pt(e)&&a.normalize()},!0)},nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ht=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},fo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Mt=>{let _n;Mt.target.nodeName==="HTML"&&(_n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(_n),e.selection.normalize(),e.nodeChanged())}))},Co=()=>{T&&e.on("keydown",Mt=>{sn.metaKeyPressed(Mt)&&!Mt.shiftKey&&(Mt.keyCode===37||Mt.keyCode===39)&&(Mt.preventDefault(),e.selection.getSel().modify("move",Mt.keyCode===37?"backward":"forward","lineboundary"))})},Io=()=>{e.on("click",Mt=>{let _n=Mt.target;do if(_n.tagName==="A"){Mt.preventDefault();return}while(_n=_n.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},js=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Mt=>{Mt.preventDefault()})})},Nt=()=>{i.addNodeFilter("br",Mt=>{let _n=Mt.length;for(;_n--;)Mt[_n].attr("class")==="Apple-interchange-newline"&&Mt[_n].remove()})},fn=ye,no=()=>{if(!d||e.removed)return!1;const Mt=e.selection.getSel();return!Mt||!Mt.rangeCount||Mt.rangeCount===0},Qn=()=>{y&&(H(),Se(),js(),j(),v&&(Ht(),fo(),Io())),d&&(ve(),lt(),nn(),Co())},Ys=()=>{Vt(),U(),Gn.windowsPhone||bn(),y&&(H(),Se(),Dt(),js(),at(),Nt(),v?(Ht(),fo(),Io()):j()),d&&(se(),ve(),Be(),lt(),gt(),nn(),Co(),at())};return Ml(e)?Qn():Ys(),{refreshContentEditable:fn,isHidden:no}},nx=Ho.DOM,PV=(e,t)=>{const n=ne.fromDom(e.getBody()),o=A(S(n)),s=ne.fromTag("style");ao(s,"type","text/css"),fs(s,ne.fromText(t)),fs(o,s),e.on("remove",()=>{Oo(s)})},BV=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,ox=e=>cs(e,t=>Le(t)===!1),_6=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return ox({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:BV(e),validate:!0,blob_cache:n,document:e.getDoc()})},v6=e=>{const t=e.options.get;return ox({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},$V=e=>{const t=e.options.get;return{..._6(e),...v6(e),...ox({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},FV=e=>{const t=ap(_6(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,o)=>{let s=n.length,a,i;const u=e.dom,d="data-mce-"+o;for(;s--;)if(a=n[s],i=a.attr(o),i&&!a.attr(d)){if(i.indexOf("data:")===0||i.indexOf("blob:")===0)continue;o==="style"?(i=u.serializeStyle(u.parseStyle(i),a.name),i.length||(i=null),a.attr(d,i),a.attr(o,i)):o==="tabindex"?(a.attr(d,i),a.attr(o,null)):a.attr(d,e.convertURL(i,o,a.name))}}),t.addNodeFilter("script",n=>{let o=n.length;for(;o--;){const s=n[o],a=s.attr("type")||"no/type";a.indexOf("mce-")!==0&&s.attr("type","mce-"+a)}}),e.options.get("preserve_cdata")&&t.addNodeFilter("#cdata",n=>{let o=n.length;for(;o--;){const s=n[o];s.type=8,s.name="#comment",s.value="[CDATA["+e.dom.encode(s.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let o=n.length;const s=e.schema.getNonEmptyElements();for(;o--;){const a=n[o];a.isEmpty(s)&&a.getAll("br").length===0&&a.append(new pa("br",1))}}),t},IV=e=>{const t=cb(e);t&&Ea.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n.destroyed||n.focus()},100)},LV=e=>{const t=e.dom.getRoot();!e.inline&&(!Fm(e)||e.selection.getStart(!0)===t)&&Cr(t).each(n=>{const o=n.getNode(),s=Ma(o)?Cr(o).getOr(n):n;e.selection.setRng(s.toRange())})},MV=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Hm(e),e.focus(!0),LV(e),e.nodeChanged({initial:!0});const t=ab(e);Wt(t)&&t.call(e,e),IV(e)},C6=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,jV=(e,t,n)=>{const o=[C6(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])},S6=e=>{const t=C6(e),n=Qy(e),o=e.contentCSS,s=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){let d="";nt.each(e.contentStyles,y=>{d+=y+`\r
`}),e.dom.addStyle(d)}const i=Promise.all(jV(e,o,n)).then(a).catch(a),u=R_(e);return u&&PV(e,u),i},UV=e=>{const t=e.getDoc(),n=e.getBody();Q0(e),ib(e)||(t.body.spellcheck=!1,nx.setAttrib(n,"spellcheck","false")),e.quirks=OV(e),J0(e);const o=D_(e);o!==void 0&&(n.dir=o);const s=wg(e);s&&e.on("BeforeSetContent",a=>{nt.each(s,i=>{a.content=a.content.replace(i,u=>"<!--mce:protected "+escape(u)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",a=>{e.composing=a.type==="compositionstart"})},HV=e=>{Ml(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},sx=e=>{e.removed!==!0&&(HV(e),MV(e))},x6=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(nx.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=As(e),e.readonly||(e.inline&&nx.getStyle(o,"position",!0)==="static"&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=M7(e),e.schema=Pi(v6(e)),e.dom=Ho(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:()=>e.inline,schema:e.schema,contentCssCors:pm(e),referrerPolicy:yg(e),onSetAttrib:i=>{e.dispatch("SetAttrib",i)}}),e.parser=FV(e),e.serializer=t2($V(e),e),e.selection=e2(e.dom,e.getWin(),e.serializer,e),e.annotator=Jb(e),e.formatter=m2(e),e.undoManager=g2(e),e._nodeChangeDispatcher=new CW(e),e._selectionOverrides=gV(e),ZM(e),xq(e),rj(e),Ml(e)||(Dq(e),DV(e));const s=vW(e);KM(e,s),nj(e),tL(e),vq(e);const a=YF(e);UV(e),a.fold(()=>{S6(e).then(()=>sx(e))},i=>{e.setProgressState(!0),S6(e).then(()=>{i().then(u=>{e.setProgressState(!1),sx(e),Yz(e)},u=>{e.notificationManager.open({type:"error",text:String(u)}),sx(e),Yz(e)})})})},E6=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline){const n=e.iframeElement,o=R7(ne.fromDom(n),"load",()=>{o.unbind(),e.contentDocument=n.contentDocument,x6(e)});if(Gn.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close()}else n.srcdoc=e.iframeHTML}else x6(e)},zk=Ho.DOM,WV=(e,t,n,o)=>{const s=ne.fromTag("iframe");return o.each(a=>ao(s,"tabindex",a)),ts(s,n),ts(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),wa(s,"tox-edit-area__iframe"),s},qV=e=>{let t=k_(e)+"<html><head>";Wy(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=w_(e),o=__(e),s=e.translate(rb(e));return qy(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+qy(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${s}"><br></body></html>`,t},VV=(e,t)=>{const n=e.translate("Rich Text Area"),o=ta(ne.fromDom(e.getElement()),"tabindex").bind(es),s=WV(e.id,n,b_(e),o).dom;s.onload=()=>{s.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=s,e.iframeHTML=qV(e),zk.add(t.iframeContainer,s)},GV=(e,t)=>{VV(e,t),t.editorContainer&&(zk.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=zk.isHidden(t.editorContainer)),e.getElement().style.display="none",zk.setAttrib(e.id,"aria-hidden","true"),E6(e)},T6=Ho.DOM,KV=(e,t,n)=>{const o=ip.get(n),s=ip.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=nt.trim(n),o&&nt.inArray(t,n)===-1){if(e.plugins[n])return;try{const a=o(e,s)||{};e.plugins[n]=a,Wt(a.init)&&(a.init(e,s),t.push(n))}catch(a){x7(e,n,a)}}},YV=e=>e.replace(/^\-/,""),XV=e=>{const t=[];M(Gc(e),n=>{KV(e,t,YV(n))})},ZV=e=>{const t=nt.trim(gg(e)),n=e.ui.registry.getAll().icons,o={...ek.get("default").icons,...ek.get(t).icons};Ot(o,(s,a)=>{gn(n,a)||e.ui.registry.addIcon(a,s)})},QV=e=>{const t=_u(e);if(ge(t)){const n=id.get(t);e.theme=n(e,id.urls[t])||{},Wt(e.theme.init)&&e.theme.init(e,id.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},JV=e=>{const t=bg(e),n=cp.get(t);e.model=n(e,cp.urls[t])},eG=e=>e.theme.renderUI(),tG=e=>{const t=e.getElement(),o=_u(e)(e,t);return o.editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||e.id+"_parent"),o.iframeContainer&&o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||e.id+"_iframecontainer"),o.height=o.iframeHeight?o.iframeHeight:t.offsetHeight,o},z6=e=>({editorContainer:e,iframeContainer:e,api:{}}),nG=e=>{const t=T6.create("div");return T6.insertAfter(t,e),z6(t)},oG=e=>{const t=e.getElement();return e.inline?z6(null):nG(t)},sG=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,ge(_u(e))?eG(e):Wt(_u(e))?tG(e):oG(e)},rG=(e,t)=>{const n={show:w.from(t.show).getOr(ye),hide:w.from(t.hide).getOr(ye),isEnabled:w.from(t.isEnabled).getOr(wn),setEnabled:o=>{e.mode.isReadOnly()||w.from(t.setEnabled).each(s=>s(o))}};e.ui={...e.ui,...n}},aG=e=>{e.dispatch("ScriptsLoaded"),ZV(e),QV(e),JV(e),XV(e);const t=sG(e);rG(e,w.from(t.api).getOr({}));const n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,A7(e),e.inline?E6(e):GV(e,n)},ld=Ho.DOM,A6=e=>e.charAt(0)==="-",cG=(e,t)=>{const n=Xy(t),o=z_(t);if(Hr.hasCode(n)===!1&&n!=="en"){const s=Bn(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(s).catch(()=>{v7(t,s,n)})}},iG=(e,t)=>{const n=_u(e);if(ge(n)&&!A6(n)&&!gn(id.urls,n)){const o=F_(e),s=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;id.load(n,s).catch(()=>{C7(e,s,n)})}},lG=(e,t)=>{const n=bg(e);if(n!=="plugin"&&!gn(cp.urls,n)){const o=I_(e),s=ge(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;cp.load(n,s).catch(()=>{S7(e,s,n)})}},uG=e=>w.from(Gy(e)).filter(Bn).map(t=>({url:t,name:w.none()})),N6=(e,t,n)=>w.from(t).filter(o=>Bn(o)&&!ek.has(o)).map(o=>({url:`${e.editorManager.baseURL}/icons/${o}/icons${n}.js`,name:w.some(o)})),fG=(e,t,n)=>{const o=N6(t,"default",n),s=uG(t).orThunk(()=>N6(t,gg(t),""));M(Ar([o,s]),a=>{e.add(a.url).catch(()=>{_7(t,a.url,a.name.getOrUndefined())})})},dG=(e,t)=>{const n=(o,s)=>{ip.load(o,s).catch(()=>{w7(e,s,o)})};Ot(nb(e),(o,s)=>{n(s,o),e.options.set("plugins",Gc(e).concat(s))}),M(Gc(e),o=>{o=nt.trim(o),o&&!ip.urls[o]&&!A6(o)&&n(o,`plugins/${o}/plugin${t}.js`)})},mG=e=>{const t=_u(e);return!ge(t)||L(id.get(t))},pG=e=>{const t=bg(e);return L(cp.get(t))},gG=(e,t)=>{const n=qa.ScriptLoader,o=()=>{!e.removed&&mG(e)&&pG(e)&&aG(e)};iG(e,t),lG(e,t),cG(n,e),fG(n,e,t),dG(e,t),n.loadQueue().then(o,o)},hG=(e,t)=>Rd.forElement(e,{contentCssCors:V_(t),referrerPolicy:yg(t)}),yG=e=>{const t=e.id;Hr.setCode(Xy(e));const n=()=>{ld.unbind(window,"ready",n),e.render()};if(!ec.Event.domLoaded){ld.bind(window,"ready",n);return}if(!e.getElement())return;const o=ne.fromDom(e.getElement()),s=na(o);e.on("remove",()=>{Ue(o.dom.attributes,i=>is(o,i.name)),ts(o,s)}),e.ui.styleSheetLoader=hG(o,e),gm(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const a=e.getElement().form||ld.getParent(t,"form");a&&(e.formElement=a,Tl(e)&&!ml(e.getElement())&&(ld.insertAfter(ld.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=i=>{e.dispatch(i.type,i)},ld.bind(a,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),U_(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit&&(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=r2(e),e.notificationManager=s2(e),mb(e)&&e.on("GetContent",i=>{i.save&&(i.content=ld.encode(i.content))}),H_(e)&&e.on("submit",()=>{e.initialized&&e.save()}),W_(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),gG(e,e.suffix)},bG=(e,t)=>({sections:Z(e),options:Z(t)}),R6=Do().deviceType,D6=R6.isPhone(),kG=R6.isTablet(),Th=e=>{if(Ve(e))return[];{const t=le(e)?e:e.split(/[ ,]/),n=W(t,Dn);return Qe(n,Bn)}},wG=(e,t)=>{const n=To(t,(o,s)=>ce(e,s));return bG(n.t,n.f)},_G=(e,t,n={})=>{const o=e.sections(),s=Vn(o,t).getOr({});return nt.extend({},n,s)},rx=(e,t)=>gn(e.sections(),t),vG=(e,t)=>rx(e,t)?e.sections()[t]:{},CG=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Vn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),SG=(e,t)=>{var n;const o=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?nt.extend({},e.external_plugins,o):o},xG=(e,t)=>[].concat(Th(e)).concat(Th(t)),EG=(e,t,n,o)=>e&&rx(t,"mobile")?o:n,TG=(e,t,n,o)=>{const s=Th(n.forced_plugins),a=Th(o.plugins),i=vG(t,"mobile"),u=i.plugins?Th(i.plugins):a,d=EG(e,t,a,u),y=xG(s,d);return nt.extend(o,{forced_plugins:s,plugins:y})},zG=(e,t)=>e&&rx(t,"mobile"),AG=(e,t,n,o,s)=>{var a;const i=e?{mobile:CG((a=s.mobile)!==null&&a!==void 0?a:{},t)}:{},u=wG(["mobile"],pk(i,s)),d=nt.extend(n,o,u.options(),zG(e,u)?_G(u,"mobile"):{},{external_plugins:SG(o,u.options())});return TG(e,u,o,d)},NG=(e,t)=>AG(D6||kG,D6,t,e,t),RG=(e,t)=>wI(e,t),DG=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()},n=o=>()=>{M("left,center,right,justify".split(","),s=>{o!==s&&e.formatter.remove("align"+s)}),o!=="none"&&t("align"+o)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},OG=e=>{const t=n=>()=>{const o=e.selection,s=o.isCollapsed()?[e.dom.getParent(o.getNode(),e.dom.isBlock)]:o.getSelectedBlocks();return Ce(s,a=>L(e.formatter.matchNode(a,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},PG=e=>{DG(e),OG(e)},BG=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch{o=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(o=!0),o||!n.queryCommandSupported(t)){let s=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Gn.os.isMacOS()||Gn.os.isiOS())&&(s=s.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:s,type:"error"})}}})},$G=(e,t,n)=>{const o=ne.fromDom(e.getRoot());return O1(o,je.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),P1(o,je.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},FG=e=>{if(typeof e!="string"){const t=nt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},IG=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?$G(o,n.getRng(),t):t},Ak=(e,t)=>{const{content:n,details:o}=FG(t);VC(e,{content:IG(e,n),format:"html",set:!1,selection:!0,paste:o.paste}).each(s=>{const a=bI(e,s.content,o);GC(e,a,s),e.addVisual()})},LG=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{Ak(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{Ak(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{Ak(e,o)},mceInsertContent:(t,n,o)=>{Ak(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},MG={"font-size":"size","font-family":"face"},jG=(e,t,n)=>{const o=a=>wi(a,e).orThunk(()=>tn(a)==="font"?Vn(MG,e).bind(i=>ta(a,i)):w.none()),s=a=>_o(ne.fromDom(t),a);return SC(ne.fromDom(n),a=>o(a),s)},UG=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),HG=(e,t)=>w.from(Ho.DOM.getStyle(t,e,!0)),O6=e=>(t,n)=>w.from(n).map(ne.fromDom).filter(qn).bind(o=>jG(e,t,o.dom).or(HG(e,o.dom))).getOr(""),WG=O6("font-size"),qG=Ze(UG,O6("font-family")),VG=e=>Cr(e.getBody()).map(t=>{const n=t.container();return Ft(n)?n.parentNode:n}),GG=e=>w.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?w.none():w.from(e.selection.getStart(!0))}),KG=(e,t)=>GG(e).orThunk(et(VG,e)).map(ne.fromDom).filter(qn).bind(t),ax=(e,t)=>KG(e,qt(w.some,t)),P6=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=o0(e),s=jf(e);return s?s[n-1]||t:o[n-1]||t}else return t}else return t},YG=e=>{const t=e.split(/\s*,\s*/);return W(t,n=>n.indexOf(" ")!==-1&&!(un(n,'"')||un(n,"'"))?`'${n}'`:n).join(",")},XG=(e,t)=>{const n=P6(e,t);e.formatter.toggle("fontname",{value:YG(n)}),e.nodeChanged()},ZG=e=>ax(e,t=>qG(e.getBody(),t.dom)).getOr(""),QG=(e,t)=>{e.formatter.toggle("fontsize",{value:P6(e,t)}),e.nodeChanged()},JG=e=>ax(e,t=>WG(e.getBody(),t.dom)).getOr(""),eK=e=>ax(e,t=>{const n=ne.fromDom(e.getBody()),o=SC(t,a=>wi(a,"line-height"),et(_o,n)),s=()=>{const a=parseFloat(qs(t,"line-height")),i=parseFloat(qs(t,"font-size"));return String(a/i)};return o.getOrThunk(s)}).getOr(""),tK=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},nK=e=>{const t=(n,o)=>{e.formatter.toggle(n,o),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,o,s)=>{t(n,{value:s})},BackColor:(n,o,s)=>{t("hilitecolor",{value:s})},FontName:(n,o,s)=>{XG(e,s)},FontSize:(n,o,s)=>{QG(e,s)},LineHeight:(n,o,s)=>{tK(e,s)},Lang:(n,o,s)=>{t(n,{value:s.code,customValue:s.customCode})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,o,s)=>{t(ge(s)?s:"p")},mceToggleFormat:(n,o,s)=>{t(s)}})},oK=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>ZG(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>JG(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>eK(e))},sK=e=>{nK(e),oK(e)},rK=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},aK=e=>{e.editorCommands.addCommands({Indent:()=>{qM(e)},Outdent:()=>{fA(e)}}),e.editorCommands.addCommands({Outdent:()=>cA(e)},"state")},cK=e=>{const t=(n,o,s)=>{const a=ge(s)?{href:s}:s,i=e.dom.getParent(e.selection.getNode(),"a");zt(a)&&ge(a.href)&&(a.href=a.href.replace(/ /g,"%20"),(!i||!a.href)&&e.formatter.remove("link"),a.href&&e.formatter.apply("link",a,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")},mceInsertLink:t,createLink:t})},iK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const o=n.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)){const s=e.selection.getBookmark();e.dom.split(o,n),e.selection.moveToBookmark(s)}}}})},lK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},uK=e=>{iK(e),lK(e)},fK=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Ck(CN,e)},mceInsertNewLine:(t,n,o)=>{NN(e,o)},InsertLineBreak:(t,n,o)=>{Ck(EN,e)}})},dK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let s=0;e.dom.getParent(e.selection.getNode(),a=>{if(a.nodeType===1&&s++===o)return e.selection.select(a),!1},e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),la);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},mK=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const s=o!=null?o:e.selection.getNode();if(s!==e.getBody()){const a=e.selection.getBookmark();e.dom.remove(s,!0),e.selection.moveToBookmark(a)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{z1(e,o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},pK=e=>{PG(e),BG(e),rK(e),dK(e),LG(e),cK(e),aK(e),fK(e),uK(e),sK(e),mK(e)};class B6{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n,o,s){const a=this.editor,i=t.toLowerCase(),u=s==null?void 0:s.skip_focus;if(a.removed||(i!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)&&!u?a.focus():rh(a)),a.dispatch("BeforeExecCommand",{command:t,ui:n,value:o}).isDefaultPrevented()))return!1;const y=this.commands.exec[i];return Wt(y)?(y(i,n,o),a.dispatch("ExecCommand",{command:t,ui:n,value:o}),!0):!1}queryCommandState(t){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),o=this.commands.state[n];return Wt(o)?o(n):!1}queryCommandValue(t){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),o=this.commands.value[n];return Wt(o)?o(n):""}addCommands(t,n="exec"){const o=this.commands;Ot(t,(s,a)=>{M(a.toLowerCase().split(","),i=>{o[n][i]=s})})}addCommand(t,n,o){const s=t.toLowerCase();this.commands.exec[s]=(a,i,u)=>n.call(o!=null?o:this.editor,i,u)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,o){this.commands.state[t.toLowerCase()]=()=>n.call(o!=null?o:this.editor)}addQueryValueHandler(t,n,o){this.commands.value[t.toLowerCase()]=()=>n.call(o!=null?o:this.editor)}}const ud="data-mce-contenteditable",gK=(e,t,n)=>{zc(e,t)&&n===!1?Tc(e,t):n&&wa(e,t)},cx=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},Nk=(e,t)=>{e.dom.contentEditable=t?"true":"false"},hK=e=>{M(wr(e,'*[contenteditable="true"]'),t=>{ao(t,ud,"true"),Nk(t,!1)})},yK=e=>{M(wr(e,`*[${ud}="true"]`),t=>{is(t,ud),Nk(t,!0)})},bK=e=>{w.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},kK=e=>{e.selection.setRng(e.selection.getRng())},wK=(e,t)=>{const n=ne.fromDom(e.getBody());gK(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),bK(e),e.readonly=!0,Nk(n,!1),hK(n)):(e.readonly=!1,Nk(n,!0),yK(n),cx(e,"StyleWithCSS",!1),cx(e,"enableInlineTableEditing",!1),cx(e,"enableObjectResizing",!1),Vr(e)&&e.focus(),kK(e),e.nodeChanged())},fd=e=>e.readonly,$6=e=>{e.parser.addAttributeFilter("contenteditable",t=>{fd(e)&&M(t,n=>{n.attr(ud,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ud,t=>{fd(e)&&M(t,n=>{n.attr("contenteditable",n.attr(ud))})}),e.serializer.addTempAttr(ud)},_K=e=>{e.serializer?$6(e):e.on("PreInit",()=>{$6(e)})},vK=e=>e.type==="click",CK=["copy"],SK=e=>ce(CK,e.type),xK=(e,t)=>ja(t,"a",o=>_o(o,ne.fromDom(e.getBody()))).bind(o=>ta(o,"href")),EK=(e,t)=>{if(vK(t)&&!sn.metaKeyPressed(t)){const n=ne.fromDom(t.target);xK(e,n).each(o=>{if(t.preventDefault(),/^#/.test(o)){const s=e.dom.select(`${o},[name="${It(o,"#")}"]`);s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(o,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else SK(t)&&e.dispatch(t.type,t)},TK=e=>{e.on("ShowCaret",t=>{fd(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{fd(e)&&t.preventDefault()})},zK=nt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class ix{constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||cn}static isNative(t){return!!zK[t.toLowerCase()]}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const o=t.toLowerCase(),s=Yp(o,n!=null?n:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);const a=this.bindings[o];if(a)for(let i=0,u=a.length;i<u;i++){const d=a[i];if(!d.removed){if(d.once&&this.off(o,d.func),s.isImmediatePropagationStopped())return s;if(d.func.call(this.scope,s)===!1)return s.preventDefault(),s}}return s}on(t,n,o,s){if(n===!1&&(n=cn),n){const a={func:n,removed:!1};s&&nt.extend(a,s);const i=t.toLowerCase().split(" ");let u=i.length;for(;u--;){const d=i[u];let y=this.bindings[d];y||(y=[],this.toggleEvent(d,!0)),o?y=[a,...y]:y=[...y,a],this.bindings[d]=y}}return this}off(t,n){if(t){const o=t.toLowerCase().split(" ");let s=o.length;for(;s--;){const a=o[s];let i=this.bindings[a];if(!a)return Ot(this.bindings,(u,d)=>{this.toggleEvent(d,!1),delete this.bindings[d]}),this;if(i){if(!n)i.length=0;else{const u=kt(i,d=>d.func===n);i=u.fail,this.bindings[a]=i,M(u.pass,d=>{d.removed=!0})}i.length||(this.toggleEvent(t,!1),delete this.bindings[a])}}}else Ot(this.bindings,(o,s)=>{this.toggleEvent(s,!1)}),this.bindings={};return this}once(t,n,o){return this.on(t,n,o,{once:!0})}has(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)}}const zh=e=>(e._eventDispatcher||(e._eventDispatcher=new ix({scope:e,toggleEvent:(t,n)=>{ix.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),lx={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&e!=="remove"&&e!=="detach")return Yp(e.toLowerCase(),t!=null?t:{},o);const s=zh(o).dispatch(e,t);if(n!==!1&&o.parent){let a=o.parent();for(;a&&!s.isPropagationStopped();)a.dispatch(e,s,!1),a=a.parent()}return s},on(e,t,n){return zh(this).on(e,t,n)},off(e,t){return zh(this).off(e,t)},once(e,t){return zh(this).once(e,t)},hasEventListeners(e){return zh(this).has(e)}},Rk=Ho.DOM;let dd;const Dk=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const n=eb(e);return n?(e.eventRoot||(e.eventRoot=Rk.select(n)[0]),e.eventRoot):e.getBody()},AK=e=>!e.hidden&&!fd(e),F6=(e,t,n)=>{AK(e)?e.dispatch(t,n):fd(e)&&EK(e,n)},I6=(e,t)=>{let n;if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Dk(e,t);if(eb(e)){if(dd||(dd={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||dd&&(Ot(dd,(s,a)=>{e.dom.unbind(Dk(e,a))}),dd=null)})),dd[t])return;n=s=>{const a=s.target,i=e.editorManager.get();let u=i.length;for(;u--;){const d=i[u].getBody();(d===a||Rk.isChildOf(a,d))&&F6(i[u],t,s)}},dd[t]=n,Rk.bind(o,t,n)}else n=s=>{F6(e,t,s)},Rk.bind(o,t,n),e.delegates[t]=n},L6={...lx,bindPendingEventDelegates(){const e=this;nt.each(e._pendingNativeEvents,t=>{I6(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?I6(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Dk(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ot(e.delegates,(o,s)=>{e.dom.unbind(Dk(e,s),s,o)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},NK=e=>ge(e)?{value:e.split(/[ ,]/),valid:!0}:jt(e,ge)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},RK=e=>{const t=(()=>{switch(e){case"array":return le;case"boolean":return ft;case"function":return Wt;case"number":return Je;case"object":return zt;case"string":return ge;case"string[]":return NK;case"object[]":return n=>jt(n,zt);case"regexp":return n=>ke(n,RegExp)}})();return n=>ux(n,t,`The value must be a ${e}.`)},DK=e=>ge(e.processor),M6=(e,t)=>{const n=to(t.message)?"":`. ${t.message}`;return e+n},j6=e=>e.valid,ux=(e,t,n="")=>{const o=t(e);return ft(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},OK=(e,t,n)=>{if(!Le(t)){const o=ux(t,n);if(j6(o))return o.value;console.error(M6(`Invalid default value passed for the "${e}" option`,o))}},PK=(e,t)=>{const n={},o={},s=(T,N,F)=>{const U=ux(N,F);return j6(U)?(o[T]=U.value,!0):(console.warn(M6(`Invalid value passed for the ${T} option`,U)),!1)},a=(T,N)=>{const F=DK(N)?RK(N.processor):N.processor,U=OK(T,N.default,F);n[T]={...N,default:U,processor:F},Vn(o,T).orThunk(()=>Vn(t,T)).each(H=>s(T,H,F))},i=T=>gn(n,T);return{register:a,isRegistered:i,get:T=>Vn(o,T).orThunk(()=>Vn(n,T).map(N=>N.default)).getOrUndefined(),set:(T,N)=>{if(i(T)){const F=n[T];return F.immutable?(console.error(`"${T}" is an immutable option and cannot be updated`),!1):s(T,N,F.processor)}else return console.warn(`"${T}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:T=>{const N=i(T);return N&&delete o[T],N},isSet:T=>gn(o,T)}},BK=["design","readonly"],U6=(e,t,n,o)=>{const s=n[t.get()],a=n[o];try{a.activate()}catch(i){console.error(`problem while activating editor mode ${o}:`,i);return}s.deactivate(),s.editorReadOnly!==a.editorReadOnly&&wK(e,a.editorReadOnly),t.set(o),Iu(e,o)},$K=(e,t,n,o)=>{if(o!==n.get()){if(!gn(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?U6(e,n,t,o):e.on("init",()=>U6(e,n,t,o))}},FK=(e,t,n)=>{if(ce(BK,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(o){console.error(`problem while deactivating editor mode ${t}:`,o)}}}}},IK=e=>{const t=xs("design"),n=xs({design:{activate:ye,deactivate:ye,editorReadOnly:!1},readonly:{activate:ye,deactivate:ye,editorReadOnly:!0}});return _K(e),TK(e),{isReadOnly:()=>fd(e),set:o=>$K(e,n.get(),t,o),get:()=>t.get(),register:(o,s)=>{n.set(FK(n.get(),o,s))}}},fx=nt.each,dx=nt.explode,LK={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},H6=nt.makeMap("alt,ctrl,shift,meta,access"),MK=e=>{let t;const n={},o=Gn.os.isMacOS()||Gn.os.isiOS();fx(dx(e.toLowerCase(),"+"),a=>{a in H6?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=LK[a]||a.toUpperCase().charCodeAt(0))});const s=[n.keyCode];for(t in H6)n[t]?s.push(t):n[t]=!1;return n.id=s.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class W6{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",o=>{(n.hasModifier(o)||n.isFunctionKey(o))&&!o.isDefaultPrevented()&&(fx(n.shortcuts,s=>{if(n.matchShortcut(o,s))return n.pendingPatterns=s.subpatterns.slice(0),o.type==="keydown"&&n.executeShortcutAction(s),!0}),n.matchShortcut(o,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&o.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,o,s){const a=this,i=a.normalizeCommandFunc(o);return fx(dx(nt.trim(t)),u=>{const d=a.createShortcut(u,n,i,s);a.shortcuts[d.id]=d}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,o=t;return typeof o=="string"?()=>{n.editor.execCommand(o,!1,null)}:nt.isArray(o)?()=>{n.editor.execCommand(o[0],o[1],o[2])}:o}createShortcut(t,n,o,s){const a=nt.map(dx(t,">"),MK);return a[a.length-1]=nt.extend(a[a.length-1],{func:o,scope:s||this.editor}),nt.extend(a[0],{desc:this.editor.translate(n),subpatterns:a.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const jK=()=>{const e={},t={},n={},o={},s={},a={},i={},u=(y,v)=>(T,N)=>y[T.toLowerCase()]={...N,type:v},d=(y,v)=>o[y.toLowerCase()]=v;return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(s,"contextmenu"),addContextToolbar:u(a,"contexttoolbar"),addContextForm:u(a,"contextform"),addSidebar:u(i,"sidebar"),addIcon:d,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:s,contextToolbars:a,sidebars:i})}},UK=()=>{const e=jK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},md=Ho.DOM,q6=nt.extend,HK=nt.each;class Ok{constructor(t,n,o){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=o,this.documentBaseUrl=o.documentBaseURL,q6(this,L6);const s=this;this.id=t,this.hidden=!1;const a=NG(o.defaultOptions,n);this.options=PK(s,a),y_(s);const i=this.options.get;i("deprecation_warnings")&&t7(n,a);const u=i("suffix");u&&(o.suffix=u),this.suffix=o.suffix;const d=i("base_url");d&&o._setBaseUrl(d),this.baseUri=o.baseURI;const y=yg(s);y&&(qa.ScriptLoader._setReferrerPolicy(y),Ho.DOM.styleSheetLoader._setReferrerPolicy(y)),mr.languageLoad=i("language_load"),mr.baseURL=o.baseURL,this.setDirty(!1),this.documentBaseURI=new ni(Wy(s),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=gm(s),this.shortcuts=new W6(this),this.editorCommands=new B6(this),pK(this);const v=i("cache_suffix");v&&(Gn.cacheSuffix=v.replace(/^[\?\&]+/,"")),this.ui={registry:UK(),styleSheetLoader:void 0,show:ye,hide:ye,setEnabled:ye,isEnabled:wn},this.mode=IK(s),o.dispatch("SetupEditor",{editor:this});const T=Y_(s);Wt(T)&&T.call(s,s)}render(){yG(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Xo(this)}translate(t){return Hr.translate(t)}getParam(t,n,o){const s=this.options;return s.isRegistered(t)||(L(o)?s.register(t,{processor:o,default:n}):s.register(t,{processor:wn,default:n})),!s.isSet(t)&&!Le(n)?n:s.get(t)}hasPlugin(t,n){return ce(Gc(this),t)?n?ip.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,o){this.editorCommands.addCommand(t,n,o)}addQueryStateHandler(t,n,o){this.editorCommands.addQueryStateHandler(t,n,o)}addQueryValueHandler(t,n,o){this.editorCommands.addQueryValueHandler(t,n,o)}addShortcut(t,n,o,s){this.shortcuts.add(t,n,o,s)}execCommand(t,n,o,s){return this.editorCommands.execCommand(t,n,o,s)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(md.show(t.getContainer()),md.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(md.hide(t.getContainer()),md.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t){const n=this;let o=n.getElement(),s;if(n.removed)return"";if(o){t=t||{},t.load=!0;const a=ml(o)?o.value:o.innerHTML;return s=n.setContent(a,t),t.element=o,t.no_events||n.dispatch("LoadContent",t),t.element=o=null,s}}save(t){const n=this;let o=n.getElement(),s,a;if(!(!o||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=o,s=t.content=n.getContent(t),t.no_events||n.dispatch("SaveContent",t),t.format==="raw"&&n.dispatch("RawSaveContent",t),s=t.content,ml(o)?o.value=s:((t.is_removing||!n.inline)&&(o.innerHTML=s),(a=md.getParent(n.id,"form"))&&HK(a.elements,i=>{if(i.name===n.id)return i.value=s,!1})),t.element=o=null,t.set_dirty!==!1&&n.setDirty(!1),s}setContent(t,n){return tS(this,t,n)}getContent(t){return GI(this,t)}insertContent(t,n){n&&(t=q6({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?tS(this,this.startContent,{format:"raw"}):tS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=md.get(t.editorContainer||t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=md.get(this.id)),this.targetElm}getWin(){const t=this;let n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow}getDoc(){const t=this;let n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement||(t?t.body:null)}convertURL(t,n,o){const s=this,a=s.options.get,i=kg(s);return Wt(i)?i.call(s,t,o,!0,n):!a("convert_urls")||o&&o.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:a("relative_urls")?s.documentBaseURI.toRelative(t):(t=s.documentBaseURI.toAbsolute(t,a("remove_script_host")),t)}addVisual(t){RG(this,t)}remove(){r7(this)}destroy(t){a7(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const gp=Ho.DOM,Pk=nt.each;let V6=!1,Bk,ga=[];const $k=e=>{const t=e.type;Pk(Ju.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},G6=e=>{if(e!==V6){const t=Ho.DOM;e?(t.bind(window,"resize",$k),t.bind(window,"scroll",$k)):(t.unbind(window,"resize",$k),t.unbind(window,"scroll",$k)),V6=e}},K6=e=>{const t=ga;return ga=Qe(ga,n=>e!==n),Ju.activeEditor===e&&(Ju.activeEditor=ga.length>0?ga[0]:null),Ju.focusedEditor===e&&(Ju.focusedEditor=null),t.length!==ga.length},WK=e=>(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(K6(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e),qK=document.compatMode!=="CSS1Compat",Ju={...lx,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"1.2",releaseDate:"2022-07-29",i18n:Hr,activeEditor:null,focusedEditor:null,setup(){const e=this;let t,n,o="";n=ni.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const s=window.tinymce||window.tinyMCEPreInit;if(s)t=s.base||s.baseURL,o=s.suffix;else{const a=document.getElementsByTagName("script");for(let i=0;i<a.length;i++){const u=a[i].src||"";if(u==="")continue;const d=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){d.indexOf(".min")!==-1&&(o=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}if(!t&&document.currentScript){const i=document.currentScript.src;i.indexOf(".min")!==-1&&(o=".min"),t=i.substring(0,i.lastIndexOf("/"))}}e.baseURL=new ni(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new ni(e.baseURL),e.suffix=o,Tt(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;e.suffix&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;o!==void 0&&Ot(o,(s,a)=>{mr.PluginManager.urls[a]=s})},init(e){const t=this;let n;const o=nt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=(v,T)=>v.inline&&T.tagName.toLowerCase()in o,a=v=>{let T=v.id;return T||(T=Vn(v,"name").filter(N=>!gp.get(N)).getOrThunk(gp.uniqueId),v.setAttribute("id",T)),T},i=v=>{const T=e[v];if(!!T)return T.apply(t,[])},u=v=>Gn.browser.isIE()||Gn.browser.isEdge()?(nk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):qK?(nk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ge(v.selector)?gp.select(v.selector):L(v.target)?[v.target]:[];let d=v=>{n=v};const y=()=>{let v=0;const T=[];let N;const F=(U,j,H)=>{const se=new Ok(U,j,t);T.push(se),se.on("init",()=>{++v===N.length&&d(T)}),se.targetElm=se.targetElm||H,se.render()};gp.unbind(window,"ready",y),i("onpageload"),N=ue(u(e)),nt.each(N,U=>{WK(t.get(U.id))}),N=nt.grep(N,U=>!t.get(U.id)),N.length===0?d([]):Pk(N,U=>{s(e,U)?nk("Could not initialize inline editor on invalid inline target element",U):F(a(U),e,U)})};return gp.bind(window,"ready",y),new Promise(v=>{n?v(n):d=T=>{v(T)}})},get(e){return arguments.length===0?ga.slice(0):ge(e)?oo(ga,t=>t.id===e).getOr(null):Je(e)&&ga[e]?ga[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&ga.push(e),G6(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Bk||(Bk=o=>{const s=t.dispatch("BeforeUnload");if(s.returnValue)return o.preventDefault(),o.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",Bk))),e},createEditor(e,t){return this.add(new Ok(e,t,this))},remove(e){const t=this;let n,o;if(!e){for(n=ga.length-1;n>=0;n--)t.remove(ga[n]);return}if(ge(e)){Pk(gp.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,it(t.get(o.id))?null:(K6(o)&&t.dispatch("RemoveEditor",{editor:o}),ga.length===0&&window.removeEventListener("beforeunload",Bk),o.remove(),G6(ga.length>0),o)},execCommand(e,t,n){var o;const s=this,a=zt(n)?(o=n.id)!==null&&o!==void 0?o:n.index:n;switch(e){case"mceAddEditor":{if(!s.get(a)){const i=n.options;new Ok(a,i,s).render()}return!0}case"mceRemoveEditor":{const i=s.get(a);return i&&i.remove(),!0}case"mceToggleEditor":{const i=s.get(a);return i?(i.isHidden()?i.show():i.hide(),!0):(s.execCommand("mceAddEditor",!1,n),!0)}}return s.activeEditor?s.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{Pk(ga,e=>{e.save()})},addI18n:(e,t)=>{Hr.add(e,t)},translate:e=>Hr.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ni(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ni(this.baseURL)}};Ju.setup();const VK=(()=>{const e=Hc(),t=a=>({items:a,types:ze(a),getType:i=>Vn(a,i).getOrUndefined()}),n=a=>{e.set(a)},o=()=>e.get().getOrUndefined(),s=e.clear;return{FakeClipboardItem:t,write:n,read:o,clear:s}})(),Y6=Math.min,hp=Math.max,Fk=Math.round,X6=(e,t,n)=>{let o=t.x,s=t.y;const a=e.w,i=e.h,u=t.w,d=t.h,y=(n||"").split("");return y[0]==="b"&&(s+=d),y[1]==="r"&&(o+=u),y[0]==="c"&&(s+=Fk(d/2)),y[1]==="c"&&(o+=Fk(u/2)),y[3]==="b"&&(s-=i),y[4]==="r"&&(o-=a),y[3]==="c"&&(s-=Fk(i/2)),y[4]==="c"&&(o-=Fk(a/2)),yp(o,s,a,i)},GK=(e,t,n,o)=>{let s,a;for(a=0;a<o.length;a++)if(s=X6(e,t,o[a]),s.x>=n.x&&s.x+s.w<=n.w+n.x&&s.y>=n.y&&s.y+s.h<=n.h+n.y)return o[a];return null},KK=(e,t,n)=>yp(e.x-t,e.y-n,e.w+t*2,e.h+n*2),YK=(e,t)=>{const n=hp(e.x,t.x),o=hp(e.y,t.y),s=Y6(e.x+e.w,t.x+t.w),a=Y6(e.y+e.h,t.y+t.h);return s-n<0||a-o<0?null:yp(n,o,s-n,a-o)},XK=(e,t,n)=>{let o=e.x,s=e.y,a=e.x+e.w,i=e.y+e.h;const u=t.x+t.w,d=t.y+t.h,y=hp(0,t.x-o),v=hp(0,t.y-s),T=hp(0,a-u),N=hp(0,i-d);return o+=y,s+=v,n&&(a+=y,i+=v,o-=T,s-=N),a-=T,i-=N,yp(o,s,a-o,i-s)},yp=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),ZK={inflate:KK,relativePosition:X6,findBestRelativePosition:GK,intersect:YK,clamp:XK,create:yp,fromClientRect:e=>yp(e.left,e.top,e.width,e.height)},QK=(e,t,n=1e3)=>{let o=!1,s=null;const a=y=>(...v)=>{o||(o=!0,s!==null&&(clearTimeout(s),s=null),y.apply(null,v))},i=a(e),u=a(t);return{start:(...y)=>{!o&&s===null&&(s=setTimeout(()=>u.apply(null,y),n))},resolve:i,reject:u}},JK=(()=>{const e={},t={};return{load:(a,i)=>{const u=`Script at URL "${i}" failed to load`,d=`Script at URL "${i}" did not call \`tinymce.Resource.add('${a}', data)\` within 1 second`;if(e[a]!==void 0)return e[a];{const y=new Promise((v,T)=>{const N=QK(v,T);t[a]=N.resolve,qa.ScriptLoader.loadScript(i).then(()=>N.start(d),()=>N.reject(u))});return e[a]=y,y}},add:(a,i)=>{t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=Promise.resolve(i)},unload:a=>{delete e[a]}}})(),eY=()=>(()=>{let e={},t=[];const n={getItem:o=>{const s=e[o];return s||null},setItem:(o,s)=>{t.push(o),e[o]=String(s)},key:o=>t[o],removeItem:o=>{t=t.filter(s=>s===o),delete e[o]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let Ah;try{const e="__storage_test__";Ah=window.localStorage,Ah.setItem(e,e),Ah.removeItem(e)}catch{Ah=eY()}var tY=Ah;const nY={geom:{Rect:ZK},util:{Delay:Ea,Tools:nt,VK:sn,URI:ni,EventDispatcher:ix,Observable:lx,I18n:Hr,LocalStorage:tY,ImageUploader:L7},dom:{EventUtils:ec,TreeWalker:ks,TextSeeker:$i,DOMUtils:Ho,ScriptLoader:qa,RangeUtils:Hu,Serializer:t2,StyleSheetLoader:Nd,ControlSelection:l1,BookmarkManager:Xf,Selection:e2,Event:ec.Event},html:{Styles:Uc,Entities:Oi,Node:pa,Schema:Pi,DomParser:ap,Writer:ZE,Serializer:Gu},Env:Gn,AddOnManager:mr,Annotator:Jb,Formatter:m2,UndoManager:g2,EditorCommands:B6,WindowManager:r2,NotificationManager:s2,EditorObservable:L6,Shortcuts:W6,Editor:Ok,FocusManager:T1,EditorManager:Ju,DOM:Ho.DOM,ScriptLoader:qa.ScriptLoader,PluginManager:ip,ThemeManager:id,ModelManager:cp,IconManager:ek,Resource:JK,FakeClipboard:VK,trim:nt.trim,isArray:nt.isArray,is:nt.is,toArray:nt.toArray,makeMap:nt.makeMap,each:nt.each,map:nt.map,grep:nt.grep,inArray:nt.inArray,extend:nt.extend,walk:nt.walk,resolve:nt.resolve,explode:nt.explode,_addCacheSuffix:nt._addCacheSuffix},Z6=nt.extend(Ju,nY),oY=e=>{try{g.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(Z6),oY(Z6)})()})(zE);const x9=zE.exports,uY="",AE=Ao.defineComponent({setup:()=>()=>Ao.h("div",{class:"sk-cube-grid"},[Ao.h("div",{class:"sk-cube sk-cube1"}),Ao.h("div",{class:"sk-cube sk-cube2"}),Ao.h("div",{class:"sk-cube sk-cube3"}),Ao.h("div",{class:"sk-cube sk-cube4"}),Ao.h("div",{class:"sk-cube sk-cube5"}),Ao.h("div",{class:"sk-cube sk-cube6"}),Ao.h("div",{class:"sk-cube sk-cube7"}),Ao.h("div",{class:"sk-cube sk-cube8"}),Ao.h("div",{class:"sk-cube sk-cube9"})])});/*!
 * TinyMCE Language Pack
 *
 * Copyright (c) 2022 Ephox Corporation DBA Tiny Technologies, Inc.
 * Licensed under the Tiny commercial license. See https://www.tiny.cloud/legal/
 */const NE={Redo:"\u91CD\u505A",Undo:"\u64A4\u9500",Cut:"\u526A\u5207",Copy:"\u590D\u5236",Paste:"\u7C98\u8D34","Select all":"\u5168\u9009","New document":"\u65B0\u6587\u4EF6",Ok:"\u786E\u5B9A",Cancel:"\u53D6\u6D88","Visual aids":"\u7F51\u683C\u7EBF",Bold:"\u7C97\u4F53",Italic:"\u659C\u4F53",Underline:"\u4E0B\u5212\u7EBF",Strikethrough:"\u5220\u9664\u7EBF",Superscript:"\u4E0A\u6807",Subscript:"\u4E0B\u6807","Clear formatting":"\u6E05\u9664\u683C\u5F0F",Remove:"\u79FB\u9664","Align left":"\u5DE6\u8FB9\u5BF9\u9F50","Align center":"\u4E2D\u95F4\u5BF9\u9F50","Align right":"\u53F3\u8FB9\u5BF9\u9F50","No alignment":"\u672A\u5BF9\u9F50",Justify:"\u4E24\u7AEF\u5BF9\u9F50","Bullet list":"\u65E0\u5E8F\u5217\u8868","Numbered list":"\u7F16\u53F7\u5217\u8868","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB","Increase indent":"\u589E\u52A0\u7F29\u8FDB",Close:"\u5173\u95ED",Formats:"\u683C\u5F0F","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u6253\u5F00\u526A\u8D34\u677F\uFF0C\u8BF7\u4F7F\u7528Ctrl+X/C/V\u7B49\u5FEB\u6377\u952E\u3002",Headings:"\u6807\u9898","Heading 1":"\u6807\u98981","Heading 2":"\u6807\u98982","Heading 3":"\u6807\u98983","Heading 4":"\u6807\u98984","Heading 5":"\u6807\u98985","Heading 6":"\u6807\u98986",Preformatted:"\u9884\u5148\u683C\u5F0F\u5316\u7684",Div:"\u5206\u533A",Pre:"\u524D\u8A00",Code:"\u4EE3\u7801",Paragraph:"\u6BB5\u843D",Blockquote:"\u5F15\u6587\u533A\u5757",Inline:"\u6587\u672C",Blocks:"\u57FA\u5757","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u5F53\u524D\u4E3A\u7EAF\u6587\u672C\u7C98\u8D34\u6A21\u5F0F\uFF0C\u518D\u6B21\u70B9\u51FB\u53EF\u4EE5\u56DE\u5230\u666E\u901A\u7C98\u8D34\u6A21\u5F0F\u3002",Fonts:"\u5B57\u4F53","Font sizes":"\u5B57\u4F53\u5927\u5C0F",Class:"\u7C7B\u578B","Browse for an image":"\u6D4F\u89C8\u56FE\u50CF",OR:"\u6216","Drop an image here":"\u62D6\u653E\u4E00\u5F20\u56FE\u50CF\u81F3\u6B64",Upload:"\u4E0A\u4F20","Uploading image":"\u4E0A\u4F20\u56FE\u7247",Block:"\u5757",Align:"\u5BF9\u9F50",Default:"\u9884\u8BBE",Circle:"\u7A7A\u5FC3\u5706",Disc:"\u5B9E\u5FC3\u5706",Square:"\u5B9E\u5FC3\u65B9\u5757","Lower Alpha":"\u5C0F\u5199\u82F1\u6587\u5B57\u6BCD","Lower Greek":"\u5C0F\u5199\u5E0C\u814A\u5B57\u6BCD","Lower Roman":"\u5C0F\u5199\u7F57\u9A6C\u6570\u5B57","Upper Alpha":"\u5927\u5199\u82F1\u6587\u5B57\u6BCD","Upper Roman":"\u5927\u5199\u7F57\u9A6C\u6570\u5B57","Anchor...":"\u951A\u70B9...",Anchor:"\u951A\u70B9",Name:"\u540D\u79F0",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"ID\u5E94\u8BE5\u4EE5\u82F1\u6587\u5B57\u6BCD\u5F00\u5934\uFF0C\u540E\u9762\u53EA\u80FD\u6709\u82F1\u6587\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u7834\u6298\u53F7\u3001\u70B9\u3001\u5192\u53F7\u6216\u4E0B\u5212\u7EBF\u3002","You have unsaved changes are you sure you want to navigate away?":"\u4F60\u8FD8\u6709\u6587\u6863\u5C1A\u672A\u4FDD\u5B58\uFF0C\u786E\u5B9A\u8981\u79BB\u5F00\uFF1F","Restore last draft":"\u6062\u590D\u4E0A\u6B21\u7684\u8349\u7A3F","Special character...":"\u7279\u6B8A\u5B57\u7B26...","Special Character":"\u7279\u6B8A\u5B57\u7B26","Source code":"\u6E90\u4EE3\u7801","Insert/Edit code sample":"\u63D2\u5165/\u7F16\u8F91\u4EE3\u7801\u793A\u4F8B",Language:"\u8BED\u8A00","Code sample...":"\u793A\u4F8B\u4EE3\u7801...","Left to right":"\u7531\u5DE6\u5230\u53F3","Right to left":"\u7531\u53F3\u5230\u5DE6",Title:"\u6807\u9898",Fullscreen:"\u5168\u5C4F\u5E55",Action:"\u52A8\u4F5C",Shortcut:"\u5FEB\u6377\u65B9\u5F0F",Help:"\u5E2E\u52A9",Address:"\u5730\u5740","Focus to menubar":"\u79FB\u52A8\u7126\u70B9\u5230\u83DC\u5355\u680F","Focus to toolbar":"\u79FB\u52A8\u7126\u70B9\u5230\u5DE5\u5177\u680F","Focus to element path":"\u79FB\u52A8\u7126\u70B9\u5230\u5143\u7D20\u8DEF\u5F84","Focus to contextual toolbar":"\u79FB\u52A8\u7126\u70B9\u5230\u4E0A\u4E0B\u6587\u83DC\u5355","Insert link (if link plugin activated)":"\u63D2\u5165\u94FE\u63A5 (\u5982\u679C\u94FE\u63A5\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Save (if save plugin activated)":"\u4FDD\u5B58(\u5982\u679C\u4FDD\u5B58\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Find (if searchreplace plugin activated)":"\u67E5\u627E(\u5982\u679C\u67E5\u627E\u66FF\u6362\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Plugins installed ({0}):":"\u5DF2\u5B89\u88C5\u63D2\u4EF6 ({0}):","Premium plugins:":"\u4F18\u79C0\u63D2\u4EF6\uFF1A","Learn more...":"\u4E86\u89E3\u66F4\u591A...","You are using {0}":"\u4F60\u6B63\u5728\u4F7F\u7528 {0}",Plugins:"\u5168\u90E8\u5916\u6302\u7A0B\u5E8F","Handy Shortcuts":"\u5FEB\u6377\u952E","Horizontal line":"\u6C34\u5E73\u5206\u5272\u7EBF","Insert/edit image":"\u63D2\u5165/\u7F16\u8F91\u56FE\u7247","Alternative description":"\u66FF\u4EE3\u63CF\u8FF0",Accessibility:"\u8F85\u52A9\u529F\u80FD","Image is decorative":"\u56FE\u50CF\u662F\u88C5\u9970\u6027\u7684",Source:"\u539F\u59CB\u7801",Dimensions:"\u5C3A\u5BF8","Constrain proportions":"\u4FDD\u6301\u6BD4\u4F8B",General:"\u4E00\u822C",Advanced:"\u9AD8\u7EA7",Style:"\u6837\u5F0F","Vertical space":"\u5782\u76F4\u95F4\u8DDD","Horizontal space":"\u6C34\u5E73\u95F4\u8DDD",Border:"\u6846\u7EBF","Insert image":"\u63D2\u5165\u56FE\u7247","Image...":"\u56FE\u7247...","Image list":"\u56FE\u7247\u6E05\u5355",Resize:"\u8C03\u6574\u5927\u5C0F","Insert date/time":"\u63D2\u5165\u65E5\u671F/\u65F6\u95F4","Date/time":"\u65E5\u671F/\u65F6\u95F4","Insert/edit link":"\u63D2\u5165/\u7F16\u8F91\u94FE\u63A5","Text to display":"\u8981\u663E\u793A\u7684\u6587\u672C",Url:"\u5730\u5740","Open link in...":"\u94FE\u63A5\u6253\u5F00\u4F4D\u7F6E...","Current window":"\u5F53\u524D\u7A97\u53E3",None:"\u65E0","New window":"\u65B0\u7A97\u53E3","Open link":"\u6253\u5F00\u94FE\u63A5","Remove link":"\u79FB\u9664\u94FE\u63A5",Anchors:"\u951A\u70B9","Link...":"\u94FE\u63A5...","Paste or type a link":"\u7C98\u8D34\u6216\u8F93\u5165\u94FE\u63A5","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u4F60\u6240\u586B\u5199\u7684URL\u5730\u5740\u4E3A\u90AE\u4EF6\u5730\u5740\uFF0C\u9700\u8981\u52A0\u4E0Amailto:\u524D\u7F00\u5417\uFF1F","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u4F60\u6240\u586B\u5199\u7684URL\u5730\u5740\u5C5E\u4E8E\u5916\u90E8\u94FE\u63A5\uFF0C\u9700\u8981\u52A0\u4E0Ahttp://:\u524D\u7F00\u5417\uFF1F","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"\u60A8\u8F93\u5165\u7684 URL \u4F3C\u4E4E\u662F\u4E00\u4E2A\u5916\u90E8\u94FE\u63A5\u3002\u60A8\u60F3\u6DFB\u52A0\u6240\u9700\u7684 https:// \u524D\u7F00\u5417\uFF1F","Link list":"\u94FE\u63A5\u6E05\u5355","Insert video":"\u63D2\u5165\u89C6\u9891","Insert/edit video":"\u63D2\u5165/\u7F16\u8F91\u89C6\u9891","Insert/edit media":"\u63D2\u5165/\u7F16\u8F91\u5A92\u4F53","Alternative source":"\u955C\u50CF","Alternative source URL":"\u66FF\u4EE3\u6765\u6E90\u7F51\u5740","Media poster (Image URL)":"\u5C01\u9762(\u56FE\u7247\u5730\u5740)","Paste your embed code below:":"\u5C06\u5185\u5D4C\u4EE3\u7801\u7C98\u8D34\u5728\u4E0B\u9762:",Embed:"\u5185\u5D4C","Media...":"\u591A\u5A92\u4F53...","Nonbreaking space":"\u4E0D\u95F4\u65AD\u7A7A\u683C","Page break":"\u5206\u9875\u7B26","Paste as text":"\u7C98\u8D34\u4E3A\u6587\u672C",Preview:"\u9884\u89C8",Print:"\u6253\u5370","Print...":"\u6253\u5370...",Save:"\u4FDD\u5B58",Find:"\u5BFB\u627E","Replace with":"\u66FF\u6362\u4E3A",Replace:"\u66FF\u6362","Replace all":"\u66FF\u6362\u5168\u90E8",Previous:"\u4E0A\u4E00\u4E2A",Next:"\u4E0B\u4E00\u4E2A","Find and Replace":"\u67E5\u627E\u548C\u66FF\u6362","Find and replace...":"\u67E5\u627E\u5E76\u66FF\u6362...","Could not find the specified string.":"\u672A\u627E\u5230\u641C\u7D22\u5185\u5BB9\u3002","Match case":"\u5927\u5C0F\u5199\u5339\u914D","Find whole words only":"\u5168\u5B57\u5339\u914D","Find in selection":"\u5728\u9009\u533A\u4E2D\u67E5\u627E","Insert table":"\u63D2\u5165\u8868\u683C","Table properties":"\u8868\u683C\u5C5E\u6027","Delete table":"\u5220\u9664\u8868\u683C",Cell:"\u50A8\u5B58\u683C",Row:"\u884C",Column:"\u680F\u76EE","Cell properties":"\u5355\u5143\u683C\u5C5E\u6027","Merge cells":"\u5408\u5E76\u5355\u5143\u683C","Split cell":"\u62C6\u5206\u5355\u5143\u683C","Insert row before":"\u5728\u4E0A\u65B9\u63D2\u5165\u884C","Insert row after":"\u5728\u4E0B\u65B9\u63D2\u5165\u884C","Delete row":"\u5220\u9664\u884C","Row properties":"\u884C\u5C5E\u6027","Cut row":"\u526A\u5207\u884C","Cut column":"\u526A\u5207\u5217","Copy row":"\u590D\u5236\u884C","Copy column":"\u590D\u5236\u5217","Paste row before":"\u7C98\u8D34\u884C\u5230\u4E0A\u65B9","Paste column before":"\u7C98\u8D34\u6B64\u5217\u524D","Paste row after":"\u7C98\u8D34\u884C\u5230\u4E0B\u65B9","Paste column after":"\u7C98\u8D34\u540E\u9762\u7684\u5217","Insert column before":"\u5728\u5DE6\u4FA7\u63D2\u5165\u5217","Insert column after":"\u5728\u53F3\u4FA7\u63D2\u5165\u5217","Delete column":"\u5220\u9664\u5217",Cols:"\u5217",Rows:"\u884C\u6570",Width:"\u5BBD\u5EA6",Height:"\u9AD8\u5EA6","Cell spacing":"\u5355\u5143\u683C\u5916\u95F4\u8DDD","Cell padding":"\u5355\u5143\u683C\u5185\u8FB9\u8DDD","Row clipboard actions":"\u884C\u526A\u8D34\u677F\u64CD\u4F5C","Column clipboard actions":"\u5217\u526A\u8D34\u677F\u64CD\u4F5C","Table styles":"\u8868\u683C\u6837\u5F0F","Cell styles":"\u5355\u5143\u683C\u6837\u5F0F","Column header":"\u5217\u6807\u9898","Row header":"\u884C\u5934","Table caption":"\u8868\u683C\u6807\u9898",Caption:"\u6807\u9898","Show caption":"\u663E\u793A\u6807\u9898",Left:"\u5DE6",Center:"\u5C45\u4E2D",Right:"\u53F3","Cell type":"\u50A8\u5B58\u683C\u522B",Scope:"\u8303\u56F4",Alignment:"\u5BF9\u9F50","Horizontal align":"\u6C34\u5E73\u5BF9\u9F50","Vertical align":"\u5782\u76F4\u5BF9\u9F50",Top:"\u4E0A\u65B9\u5BF9\u9F50",Middle:"\u5C45\u4E2D\u5BF9\u9F50",Bottom:"\u4E0B\u65B9\u5BF9\u9F50","Header cell":"\u8868\u5934\u5355\u5143\u683C","Row group":"\u884C\u7EC4","Column group":"\u5217\u7EC4","Row type":"\u884C\u7C7B\u578B",Header:"\u8868\u5934",Body:"\u8868\u4F53",Footer:"\u8868\u5C3E","Border color":"\u6846\u7EBF\u989C\u8272",Solid:"\u5B9E\u7EBF",Dotted:"\u865A\u7EBF",Dashed:"\u865A\u7EBF",Double:"\u53CC\u7CBE\u5EA6",Groove:"\u51F9\u69FD",Ridge:"\u6D77\u810A\u5EA7",Inset:"\u5D4C\u5165",Outset:"\u5916\u7F6E",Hidden:"\u9690\u85CF","Insert template...":"\u63D2\u5165\u6A21\u677F...",Templates:"\u6A21\u677F",Template:"\u6A21\u677F","Insert Template":"\u63D2\u5165\u6A21\u677F","Text color":"\u6587\u672C\u989C\u8272","Background color":"\u80CC\u666F\u989C\u8272","Custom...":"\u81EA\u5B9A\u4E49......","Custom color":"\u81EA\u5B9A\u4E49\u989C\u8272","No color":"\u65E0","Remove color":"\u79FB\u9664\u989C\u8272","Show blocks":"\u663E\u793A\u533A\u5757\u8FB9\u6846","Show invisible characters":"\u663E\u793A\u4E0D\u53EF\u89C1\u5B57\u7B26","Word count":"\u5B57\u6570",Count:"\u8BA1\u6570",Document:"\u6587\u6863",Selection:"\u9009\u62E9",Words:"\u5355\u8BCD","Words: {0}":"\u5B57\u6570\uFF1A{0}","{0} words":"{0} \u5B57",File:"\u6587\u4EF6",Edit:"\u7F16\u8F91",Insert:"\u63D2\u5165",View:"\u67E5\u770B",Format:"\u683C\u5F0F",Table:"\u8868\u683C",Tools:"\u5DE5\u5177","Powered by {0}":"\u7531{0}\u9A71\u52A8","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u7F16\u8F91\u533A\u3002\u6309ALT-F9\u6253\u5F00\u83DC\u5355\uFF0C\u6309ALT-F10\u6253\u5F00\u5DE5\u5177\u680F\uFF0C\u6309ALT-0\u67E5\u770B\u5E2E\u52A9","Image title":"\u56FE\u7247\u6807\u9898","Border width":"\u8FB9\u6846\u5BBD\u5EA6","Border style":"\u8FB9\u6846\u6837\u5F0F",Error:"\u9519\u8BEF",Warn:"\u8B66\u544A",Valid:"\u6709\u6548","To open the popup, press Shift+Enter":"\u6309Shitf+Enter\u952E\u6253\u5F00\u5BF9\u8BDD\u6846","Rich Text Area":"\u5BCC\u6587\u672C\u533A\u57DF","Rich Text Area. Press ALT-0 for help.":"\u7F16\u8F91\u533A\u3002\u6309Alt+0\u952E\u6253\u5F00\u5E2E\u52A9\u3002","System Font":"\u7CFB\u7EDF\u5B57\u4F53","Failed to upload image: {0}":"\u56FE\u7247\u4E0A\u4F20\u5931\u8D25: {0}","Failed to load plugin: {0} from url {1}":"\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25: {0} \u6765\u81EA\u94FE\u63A5 {1}","Failed to load plugin url: {0}":"\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25 \u94FE\u63A5: {0}","Failed to initialize plugin: {0}":"\u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25: {0}",example:"\u793A\u4F8B",Search:"\u641C\u7D22",All:"\u5168\u90E8",Currency:"\u8D27\u5E01",Text:"\u6587\u5B57",Quotations:"\u5F15\u7528",Mathematical:"\u6570\u5B66","Extended Latin":"\u62C9\u4E01\u8BED\u6269\u5145",Symbols:"\u7B26\u53F7",Arrows:"\u7BAD\u5934","User Defined":"\u81EA\u5B9A\u4E49","dollar sign":"\u7F8E\u5143\u7B26\u53F7","currency sign":"\u8D27\u5E01\u7B26\u53F7","euro-currency sign":"\u6B27\u5143\u7B26\u53F7","colon sign":"\u5192\u53F7","cruzeiro sign":"\u514B\u9C81\u8D5B\u7F57\u5E01\u7B26\u53F7","french franc sign":"\u6CD5\u90CE\u7B26\u53F7","lira sign":"\u91CC\u62C9\u7B26\u53F7","mill sign":"\u5BC6\u5C14\u7B26\u53F7","naira sign":"\u5948\u62C9\u7B26\u53F7","peseta sign":"\u6BD4\u585E\u5854\u7B26\u53F7","rupee sign":"\u5362\u6BD4\u7B26\u53F7","won sign":"\u97E9\u5143\u7B26\u53F7","new sheqel sign":"\u65B0\u8C22\u514B\u5C14\u7B26\u53F7","dong sign":"\u8D8A\u5357\u76FE\u7B26\u53F7","kip sign":"\u8001\u631D\u57FA\u666E\u7B26\u53F7","tugrik sign":"\u56FE\u683C\u91CC\u514B\u7B26\u53F7","drachma sign":"\u5FB7\u62C9\u514B\u9A6C\u7B26\u53F7","german penny symbol":"\u5FB7\u56FD\u4FBF\u58EB\u7B26\u53F7","peso sign":"\u6BD4\u7D22\u7B26\u53F7","guarani sign":"\u74DC\u62C9\u5C3C\u7B26\u53F7","austral sign":"\u6FB3\u5143\u7B26\u53F7","hryvnia sign":"\u683C\u91CC\u592B\u5C3C\u4E9A\u7B26\u53F7","cedi sign":"\u585E\u5730\u7B26\u53F7","livre tournois sign":"\u91CC\u5F17\u5F17\u5C14\u7B26\u53F7","spesmilo sign":"spesmilo\u7B26\u53F7","tenge sign":"\u575A\u6208\u7B26\u53F7","indian rupee sign":"\u5370\u5EA6\u5362\u6BD4","turkish lira sign":"\u571F\u8033\u5176\u91CC\u62C9","nordic mark sign":"\u5317\u6B27\u9A6C\u514B","manat sign":"\u9A6C\u7EB3\u7279\u7B26\u53F7","ruble sign":"\u5362\u5E03\u7B26\u53F7","yen character":"\u65E5\u5143\u5B57\u6837","yuan character":"\u4EBA\u6C11\u5E01\u5143\u5B57\u6837","yuan character, in hong kong and taiwan":"\u5143\u5B57\u6837\uFF08\u6E2F\u53F0\u5730\u533A\uFF09","yen/yuan character variant one":"\u5143\u5B57\u6837\uFF08\u5927\u5199\uFF09",Emojis:"Emojis","Emojis...":"Emojis...","Loading emojis...":"\u6B63\u5728\u52A0\u8F7DEmojis...","Could not load emojis":"\u65E0\u6CD5\u52A0\u8F7DEmojis",People:"\u4EBA\u7C7B","Animals and Nature":"\u52A8\u7269\u548C\u81EA\u7136","Food and Drink":"\u98DF\u7269\u548C\u996E\u54C1",Activity:"\u6D3B\u52A8","Travel and Places":"\u65C5\u6E38\u548C\u5730\u70B9",Objects:"\u7269\u4EF6",Flags:"\u65D7\u5E1C",Characters:"\u5B57\u7B26","Characters (no spaces)":"\u5B57\u7B26(\u65E0\u7A7A\u683C)","{0} characters":"{0} \u4E2A\u5B57\u7B26","Error: Form submit field collision.":"\u9519\u8BEF: \u8868\u5355\u63D0\u4EA4\u5B57\u6BB5\u51B2\u7A81\u3002","Error: No form element found.":"\u9519\u8BEF: \u6CA1\u6709\u8868\u5355\u63A7\u4EF6\u3002","Color swatch":"\u989C\u8272\u6837\u672C","Color Picker":"\u9009\u8272\u5668","Invalid hex color code: {0}":"\u5341\u516D\u8FDB\u5236\u989C\u8272\u4EE3\u7801\u65E0\u6548\uFF1A {0}","Invalid input":"\u65E0\u6548\u8F93\u5165",R:"R","Red component":"\u7EA2\u8272\u90E8\u5206",G:"G","Green component":"\u7EFF\u8272\u90E8\u5206",B:"B","Blue component":"\u767D\u8272\u90E8\u5206","#":"#","Hex color code":"\u5341\u516D\u8FDB\u5236\u989C\u8272\u4EE3\u7801","Range 0 to 255":"\u8303\u56F40\u81F3255",Turquoise:"\u9752\u7EFF\u8272",Green:"\u7EFF\u8272",Blue:"\u84DD\u8272",Purple:"\u7D2B\u8272","Navy Blue":"\u6D77\u519B\u84DD","Dark Turquoise":"\u6DF1\u84DD\u7EFF\u8272","Dark Green":"\u6DF1\u7EFF\u8272","Medium Blue":"\u4E2D\u84DD\u8272","Medium Purple":"\u4E2D\u7D2B\u8272","Midnight Blue":"\u6DF1\u84DD\u8272",Yellow:"\u9EC4\u8272",Orange:"\u6A59\u8272",Red:"\u7EA2\u8272","Light Gray":"\u6D45\u7070\u8272",Gray:"\u7070\u8272","Dark Yellow":"\u6697\u9EC4\u8272","Dark Orange":"\u6DF1\u6A59\u8272","Dark Red":"\u6DF1\u7EA2\u8272","Medium Gray":"\u4E2D\u7070\u8272","Dark Gray":"\u6DF1\u7070\u8272","Light Green":"\u6D45\u7EFF\u8272","Light Yellow":"\u6D45\u9EC4\u8272","Light Red":"\u6D45\u7EA2\u8272","Light Purple":"\u6D45\u7D2B\u8272","Light Blue":"\u6D45\u84DD\u8272","Dark Purple":"\u6DF1\u7D2B\u8272","Dark Blue":"\u6DF1\u84DD\u8272",Black:"\u9ED1\u8272",White:"\u767D\u8272","Switch to or from fullscreen mode":"\u5207\u6362\u5168\u5C4F\u6A21\u5F0F","Open help dialog":"\u6253\u5F00\u5E2E\u52A9\u5BF9\u8BDD\u6846",history:"\u5386\u53F2",styles:"\u6837\u5F0F",formatting:"\u683C\u5F0F\u5316",alignment:"\u5BF9\u9F50",indentation:"\u7F29\u8FDB",Font:"\u5B57\u4F53",Size:"\u5B57\u53F7","More...":"\u66F4\u591A...","Select...":"\u9009\u62E9...",Preferences:"\u9996\u9009\u9879",Yes:"\u662F",No:"\u5426","Keyboard Navigation":"\u952E\u76D8\u6307\u5F15",Version:"\u7248\u672C","Code view":"\u4EE3\u7801\u89C6\u56FE","Open popup menu for split buttons":"\u6253\u5F00\u5F39\u51FA\u5F0F\u83DC\u5355\uFF0C\u7528\u4E8E\u62C6\u5206\u6309\u94AE","List Properties":"\u5217\u8868\u5C5E\u6027","List properties...":"\u6807\u9898\u5B57\u4F53\u5C5E\u6027","Start list at number":"\u4EE5\u6570\u5B57\u5F00\u59CB\u5217\u8868","Line height":"\u884C\u9AD8","Dropped file type is not supported":"\u6B64\u6587\u4EF6\u7C7B\u578B\u4E0D\u652F\u6301\u62D6\u653E","Loading...":"\u52A0\u8F7D\u4E2D...","ImageProxy HTTP error: Rejected request":"","ImageProxy HTTP error: Could not find Image Proxy":"","ImageProxy HTTP error: Incorrect Image Proxy URL":"","ImageProxy HTTP error: Unknown ImageProxy error":""};tinymce.addI18n("zh_CN",NE),tinymce.addI18n("zh-Hans",NE),function(){var g=tinymce.util.Tools.resolve("tinymce.ModelManager");const _=(r,c,l)=>{var f;return l(r,c.prototype)?!0:((f=r.constructor)===null||f===void 0?void 0:f.name)===c.name},D=r=>{const c=typeof r;return r===null?"null":c==="object"&&Array.isArray(r)?"array":c==="object"&&_(r,String,(l,f)=>f.isPrototypeOf(l))?"string":c},X=r=>c=>D(c)===r,_e=r=>c=>typeof c===r,Ae=r=>c=>r===c,We=X("string"),Ke=X("object"),Ee=X("array"),Ie=Ae(null),pt=_e("boolean"),_t=r=>r==null,$e=r=>!_t(r),Ne=_e("function"),tt=_e("number"),xe=()=>{},rt=(r,c)=>(...l)=>r(c.apply(null,l)),ae=(r,c)=>l=>r(c(l)),ke=r=>()=>r,ge=r=>r,zt=(r,c)=>r===c;function ot(r,...c){return(...l)=>{const f=c.concat(l);return r.apply(null,f)}}const le=r=>c=>!r(c),it=r=>()=>{throw new Error(r)},ft=r=>r(),Le=ke(!1),Ve=ke(!0);class L{constructor(c,l){this.tag=c,this.value=l}static some(c){return new L(!0,c)}static none(){return L.singletonNone}fold(c,l){return this.tag?l(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?L.some(c(this.value)):L.none()}bind(c){return this.tag?c(this.value):L.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:L.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c!=null?c:"Called getOrDie on None")}static from(c){return $e(c)?L.some(c):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const Wt=Array.prototype.slice,Je=Array.prototype.indexOf,jt=Array.prototype.push,ye=(r,c)=>Je.call(r,c),Ze=(r,c)=>ye(r,c)>-1,qt=(r,c)=>{for(let l=0,f=r.length;l<f;l++){const p=r[l];if(c(p,l))return!0}return!1},Z=(r,c)=>{const l=[];for(let f=0;f<r;f++)l.push(c(f));return l},Pe=(r,c)=>{const l=r.length,f=new Array(l);for(let p=0;p<l;p++){const k=r[p];f[p]=c(k,p)}return f},yt=(r,c)=>{for(let l=0,f=r.length;l<f;l++){const p=r[l];c(p,l)}},et=(r,c)=>{for(let l=r.length-1;l>=0;l--){const f=r[l];c(f,l)}},kn=(r,c)=>{const l=[],f=[];for(let p=0,k=r.length;p<k;p++){const C=r[p];(c(C,p)?l:f).push(C)}return{pass:l,fail:f}},Rn=(r,c)=>{const l=[];for(let f=0,p=r.length;f<p;f++){const k=r[f];c(k,f)&&l.push(k)}return l},an=(r,c,l)=>(et(r,(f,p)=>{l=c(l,f,p)}),l),en=(r,c,l)=>(yt(r,(f,p)=>{l=c(l,f,p)}),l),cn=(r,c,l)=>{for(let f=0,p=r.length;f<p;f++){const k=r[f];if(c(k,f))return L.some(k);if(l(k,f))break}return L.none()},wn=(r,c)=>cn(r,c,Le),w=(r,c)=>{for(let l=0,f=r.length;l<f;l++){const p=r[l];if(c(p,l))return L.some(l)}return L.none()},ie=r=>{const c=[];for(let l=0,f=r.length;l<f;++l){if(!Ee(r[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+r);jt.apply(c,r[l])}return c},re=(r,c)=>ie(Pe(r,c)),we=(r,c)=>{for(let l=0,f=r.length;l<f;++l){const p=r[l];if(c(p,l)!==!0)return!1}return!0},J=r=>{const c=Wt.call(r,0);return c.reverse(),c},me=(r,c)=>{const l={};for(let f=0,p=r.length;f<p;f++){const k=r[f];l[String(k)]=c(k,f)}return l},ce=(r,c)=>{const l=Wt.call(r,0);return l.sort(c),l},Ce=(r,c)=>c>=0&&c<r.length?L.some(r[c]):L.none(),W=r=>Ce(r,0),M=r=>Ce(r,r.length-1),Ue=(r,c)=>{for(let l=0;l<r.length;l++){const f=c(r[l],l);if(f.isSome())return f}return L.none()},kt=Object.keys,Qe=Object.hasOwnProperty,pn=(r,c)=>{const l=kt(r);for(let f=0,p=l.length;f<p;f++){const k=l[f],C=r[k];c(C,k)}},En=(r,c)=>Eo(r,(l,f)=>({k:f,v:c(l,f)})),Eo=(r,c)=>{const l={};return pn(r,(f,p)=>{const k=c(f,p);l[k.k]=k.v}),l},oo=r=>(c,l)=>{r[l]=c},Yn=(r,c,l,f)=>{const p={};return pn(r,(k,C)=>{(c(k,C)?l:f)(k,C)}),p},eo=(r,c)=>{const l={};return Yn(r,c,oo(l),xe),l},Xt=(r,c)=>{const l=[];return pn(r,(f,p)=>{l.push(c(f,p))}),l},ro=r=>Xt(r,ge),io=(r,c)=>Fe(r,c)?L.from(r[c]):L.none(),Fe=(r,c)=>Qe.call(r,c),st=(r,c)=>Fe(r,c)&&r[c]!==void 0&&r[c]!==null,Qt=r=>{for(const c in r)if(Qe.call(r,c))return!1;return!0};typeof window<"u"||Function("return this;")();const Ut=8,Tn=9,Pn=11,ho=1,$o=3,ue=r=>r.dom.nodeName.toLowerCase(),ze=r=>r.dom.nodeType,At=r=>c=>ze(c)===r,Ot=r=>ze(r)===Ut||ue(r)==="#comment",hn=At(ho),No=At($o),Ts=At(Tn),Ns=At(Pn),To=r=>c=>hn(c)&&ue(c)===r,cs=(r,c,l)=>{if(We(l)||pt(l)||tt(l))r.setAttribute(c,l+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",l,":: Element ",r),new Error("Attribute value was not simple")},wo=(r,c,l)=>{cs(r.dom,c,l)},rs=(r,c)=>{const l=r.dom;pn(c,(f,p)=>{cs(l,p,f)})},Vn=(r,c)=>{pn(c,(l,f)=>{l.fold(()=>{lo(r,f)},p=>{cs(r.dom,f,p)})})},gn=(r,c)=>{const l=r.dom.getAttribute(c);return l===null?void 0:l},Vo=(r,c)=>L.from(gn(r,c)),lo=(r,c)=>{r.dom.removeAttribute(c)},Lo=r=>en(r.dom.attributes,(c,l)=>(c[l.name]=l.value,c),{}),Xs=(r,c)=>{const f=(c||document).createElement("div");if(f.innerHTML=r,!f.hasChildNodes()||f.childNodes.length>1){const p="HTML does not have a single root node";throw console.error(p,r),new Error(p)}return Mo(f.childNodes[0])},Rs=(r,c)=>{const f=(c||document).createElement(r);return Mo(f)},ls=(r,c)=>{const f=(c||document).createTextNode(r);return Mo(f)},Mo=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},O={fromHtml:Xs,fromTag:Rs,fromText:ls,fromDom:Mo,fromPoint:(r,c,l)=>L.from(r.dom.elementFromPoint(c,l)).map(Mo)},G=(r,c)=>{const l=r.dom;if(l.nodeType!==ho)return!1;{const f=l;if(f.matches!==void 0)return f.matches(c);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(c);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},de=r=>r.nodeType!==ho&&r.nodeType!==Tn&&r.nodeType!==Pn||r.childElementCount===0,dt=(r,c)=>{const l=c===void 0?document:c.dom;return de(l)?[]:Pe(l.querySelectorAll(r),O.fromDom)},rn=(r,c)=>{const l=c===void 0?document:c.dom;return de(l)?L.none():L.from(l.querySelector(r)).map(O.fromDom)},Et=(r,c)=>r.dom===c.dom,An=(r,c)=>{const l=r.dom,f=c.dom;return l===f?!1:l.contains(f)},Bo=G,ln=r=>O.fromDom(r.dom.ownerDocument),jn=r=>Ts(r)?r:ln(r),jo=r=>O.fromDom(jn(r).dom.documentElement),Ro=r=>O.fromDom(jn(r).dom.defaultView),q=r=>L.from(r.dom.parentNode).map(O.fromDom),ee=r=>L.from(r.dom.parentElement).map(O.fromDom),Ge=(r,c)=>{const l=Ne(c)?c:Le;let f=r.dom;const p=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const k=f.parentNode,C=O.fromDom(k);if(p.push(C),l(C)===!0)break;f=k}return p},St=r=>L.from(r.dom.previousSibling).map(O.fromDom),vt=r=>L.from(r.dom.nextSibling).map(O.fromDom),wt=r=>Pe(r.dom.childNodes,O.fromDom),It=(r,c)=>{const l=r.dom.childNodes;return L.from(l[c]).map(O.fromDom)},Lt=r=>It(r,0),un=(r,c)=>{q(r).each(f=>{f.dom.insertBefore(c.dom,r.dom)})},Xn=(r,c)=>{vt(r).fold(()=>{q(r).each(p=>{Dn(p,c)})},f=>{un(f,c)})},yo=(r,c)=>{Lt(r).fold(()=>{Dn(r,c)},f=>{r.dom.insertBefore(c.dom,f.dom)})},Dn=(r,c)=>{r.dom.appendChild(c.dom)},ar=(r,c,l)=>{It(r,l).fold(()=>{Dn(r,c)},f=>{un(f,c)})},_s=(r,c)=>{un(r,c),Dn(c,r)},Bn=(r,c)=>{yt(c,(l,f)=>{const p=f===0?r:c[f-1];Xn(p,l)})},to=(r,c)=>{yt(c,l=>{Dn(r,l)})},Jo=r=>{r.dom.textContent="",yt(wt(r),c=>{es(c)})},es=r=>{const c=r.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},Ds=r=>{const c=wt(r);c.length>0&&Bn(r,c),es(r)},Os=(r,c)=>O.fromDom(r.dom.cloneNode(c)),Zr=r=>Os(r,!1),Hs=r=>Os(r,!0),Sr=(r,c)=>{const l=O.fromTag(c),f=Lo(r);return rs(l,f),l},cr=(r,c)=>{const l=Sr(r,c),f=wt(Hs(r));return to(l,f),l},Da=(r,c)=>{const l=Sr(r,c);Xn(r,l);const f=wt(r);return to(l,f),es(r),l},xr=["tfoot","thead","tbody","colgroup"],Lr=r=>Ze(xr,r),Qr=(r,c)=>({rows:r,columns:c}),Mr=(r,c)=>({row:r,column:c}),Qs=(r,c,l)=>({element:r,rowspan:c,colspan:l}),Oa=(r,c,l,f)=>({element:r,rowspan:c,colspan:l,isNew:f}),ir=(r,c,l,f,p,k)=>({element:r,rowspan:c,colspan:l,row:f,column:p,isLocked:k}),Er=(r,c,l)=>({element:r,cells:c,section:l}),Jr=(r,c,l,f)=>({element:r,cells:c,section:l,isNew:f}),us=(r,c,l)=>({element:r,isNew:c,isLocked:l}),R=(r,c,l,f)=>({element:r,cells:c,section:l,isNew:f}),Q=(r,c,l,f)=>({startRow:r,startCol:c,finishRow:l,finishCol:f}),fe=(r,c,l)=>({element:r,colspan:c,column:l}),qe=(r,c)=>({element:r,columns:c}),bt=r=>Ns(r)&&$e(r.dom.host),Nn=Ne(Element.prototype.attachShadow)&&Ne(Node.prototype.getRootNode),bo=ke(Nn),Go=Nn?r=>O.fromDom(r.dom.getRootNode()):jn,po=r=>{const c=Go(r);return bt(c)?L.some(c):L.none()},hs=r=>O.fromDom(r.dom.host),vs=r=>{if(bo()&&$e(r.target)){const c=O.fromDom(r.target);if(hn(c)&&Tr(c)&&r.composed&&r.composedPath){const l=r.composedPath();if(l)return W(l)}}return L.from(r.target)},Tr=r=>$e(r.dom.shadowRoot),Do=r=>{const c=No(r)?r.dom.parentNode:r.dom;if(c==null||c.ownerDocument===null)return!1;const l=c.ownerDocument;return po(O.fromDom(c)).fold(()=>l.body.contains(c),ae(Do,hs))},Pa=()=>ba(O.fromDom(document)),ba=r=>{const c=r.dom.body;if(c==null)throw new Error("Body is not available yet");return O.fromDom(c)},lr=(r,c,l)=>Rn(Ge(r,l),c),ys=(r,c)=>Rn(wt(r),c),br=(r,c)=>{let l=[];return yt(wt(r),f=>{c(f)&&(l=l.concat([f])),l=l.concat(br(f,c))}),l},zr=(r,c,l)=>lr(r,f=>G(f,c),l),Gn=(r,c)=>ys(r,l=>G(l,c)),Ps=(r,c)=>dt(c,r);var Ba=(r,c,l,f,p)=>r(l,f)?L.some(l):Ne(p)&&p(l)?L.none():c(l,f,p);const ea=(r,c,l)=>{let f=r.dom;const p=Ne(l)?l:Le;for(;f.parentNode;){f=f.parentNode;const k=O.fromDom(f);if(c(k))return L.some(k);if(p(k))break}return L.none()},x=(r,c,l)=>Ba((p,k)=>k(p),ea,r,c,l),B=(r,c)=>{const l=p=>c(O.fromDom(p));return wn(r.dom.childNodes,l).map(O.fromDom)},K=(r,c)=>{const l=f=>{for(let p=0;p<f.childNodes.length;p++){const k=O.fromDom(f.childNodes[p]);if(c(k))return L.some(k);const C=l(f.childNodes[p]);if(C.isSome())return C}return L.none()};return l(r.dom)},Re=(r,c,l)=>ea(r,f=>G(f,c),l),Gt=(r,c)=>B(r,l=>G(l,c)),Un=(r,c)=>rn(c,r),Zn=(r,c,l)=>Ba((p,k)=>G(p,k),Re,r,c,l),nt=(r,c,l=zt)=>r.exists(f=>l(f,c)),Zo=r=>{const c=[],l=f=>{c.push(f)};for(let f=0;f<r.length;f++)r[f].each(l);return c},Ar=(r,c)=>r!=null?c(r):L.none(),zo=(r,c)=>r?L.some(c):L.none(),Nr=(r,c,l)=>c===""||r.length>=c.length&&r.substr(l,l+c.length)===c,bs=(r,c)=>r.indexOf(c)!==-1,$=(r,c)=>Nr(r,c,0),V=(r,c)=>Nr(r,c,r.length-c.length),He=(r=>c=>c.replace(r,""))(/^\s+|\s+$/g),Zt=r=>r.length>0,tn=r=>{const c=parseFloat(r);return isNaN(c)?L.none():L.some(c)},vo=r=>r.style!==void 0&&Ne(r.style.getPropertyValue),Uo=(r,c,l)=>{if(!We(l))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",l,":: Element ",r),new Error("CSS value must be a string: "+l);vo(r)&&r.style.setProperty(c,l)},Js=(r,c)=>{vo(r)&&r.style.removeProperty(c)},qn=(r,c,l)=>{const f=r.dom;Uo(f,c,l)},ko=(r,c)=>{const l=r.dom;pn(c,(f,p)=>{Uo(l,p,f)})},er=(r,c)=>{const l=r.dom,p=window.getComputedStyle(l).getPropertyValue(c);return p===""&&!Do(r)?tr(l,c):p},tr=(r,c)=>vo(r)?r.style.getPropertyValue(c):"",Xa=(r,c)=>{const l=r.dom,f=tr(l,c);return L.from(f).filter(p=>p.length>0)},ur=(r,c)=>{const l=r.dom;Js(l,c),nt(Vo(r,"style").map(He),"")&&lo(r,"style")},ao=(r,c)=>{const l=r.dom,f=c.dom;vo(l)&&vo(f)&&(f.style.cssText=l.style.cssText)},ts=(r,c,l=0)=>Vo(r,c).map(f=>parseInt(f,10)).getOr(l),Bs=(r,c)=>ts(r,c,1),ta=r=>To("col")(r)?ts(r,"span",1)>1:Bs(r,"colspan")>1,$a=r=>Bs(r,"rowspan")>1,is=(r,c)=>parseInt(er(r,c),10),ka=ke(10),na=ke(10),cc=(r,c)=>Qi(r,c,Ve),Qi=(r,c,l)=>re(wt(r),f=>G(f,c)?l(f)?[f]:[]:Qi(f,c,l)),oa=(r,c,l=Le)=>{if(l(c))return L.none();if(Ze(r,ue(c)))return L.some(c);const f=p=>G(p,"table")||l(p);return Re(c,r.join(","),f)},sa=(r,c)=>oa(["td","th"],r,c),Za=r=>cc(r,"th,td"),ic=r=>G(r,"colgroup")?Gn(r,"col"):re(wa(r),c=>Gn(c,"col")),Ws=(r,c)=>Zn(r,"table",c),Ji=r=>cc(r,"tr"),wa=r=>Ws(r).fold(ke([]),c=>Gn(c,"colgroup")),Ec=(r,c)=>Pe(r,l=>{if(ue(l)==="colgroup"){const f=Pe(ic(l),p=>{const k=ts(p,"span",1);return Qs(p,1,k)});return Er(l,f,"colgroup")}else{const f=Pe(Za(l),p=>{const k=ts(p,"rowspan",1),C=ts(p,"colspan",1);return Qs(p,k,C)});return Er(l,f,c(l))}}),Tc=r=>q(r).map(c=>{const l=ue(c);return Lr(l)?l:"tbody"}).getOr("tbody"),gi=r=>{const c=Ji(r),f=[...wa(r),...c];return Ec(f,Tc)},zc=(r,c)=>Ec(r,()=>c),ra=r=>{let c=!1,l;return(...f)=>(c||(c=!0,l=r.apply(null,f)),l)},cf=(r,c,l,f)=>{const p=r.isiOS()&&/ipad/i.test(l)===!0,k=r.isiOS()&&!p,C=r.isiOS()||r.isAndroid(),z=C||f("(pointer:coarse)"),I=p||!k&&C&&f("(min-device-width:768px)"),Y=k||C&&!I,he=c.isSafari()&&r.isiOS()&&/safari/i.test(l)===!1,ct=!Y&&!I&&!he;return{isiPad:ke(p),isiPhone:ke(k),isTablet:ke(I),isPhone:ke(Y),isTouch:ke(z),isAndroid:r.isAndroid,isiOS:r.isiOS,isWebView:ke(he),isDesktop:ke(ct)}},Ac=(r,c)=>{for(let l=0;l<r.length;l++){const f=r[l];if(f.test(c))return f}},el=(r,c)=>{const l=Ac(r,c);if(!l)return{major:0,minor:0};const f=p=>Number(c.replace(l,"$"+p));return ne(f(1),f(2))},fr=(r,c)=>{const l=String(c).toLowerCase();return r.length===0?tl():el(r,l)},tl=()=>ne(0,0),ne=(r,c)=>({major:r,minor:c}),lc={nu:ne,detect:fr,unknown:tl},aa=(r,c)=>Ue(c.brands,l=>{const f=l.brand.toLowerCase();return wn(r,p=>{var k;return f===((k=p.brand)===null||k===void 0?void 0:k.toLowerCase())}).map(p=>({current:p.name,version:lc.nu(parseInt(l.version,10),0)}))}),nl=(r,c)=>{const l=String(c).toLowerCase();return wn(r,f=>f.search(l))},lf=(r,c)=>nl(r,c).map(l=>{const f=lc.detect(l.versionRegexes,c);return{current:l.name,version:f}}),Gl=(r,c)=>nl(r,c).map(l=>{const f=lc.detect(l.versionRegexes,c);return{current:l.name,version:f}}),_o=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Cs=r=>c=>bs(c,r),hi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>bs(r,"edge/")&&bs(r,"chrome")&&bs(r,"safari")&&bs(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_o],search:r=>bs(r,"chrome")&&!bs(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>bs(r,"msie")||bs(r,"trident")},{name:"Opera",versionRegexes:[_o,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cs("firefox")},{name:"Safari",versionRegexes:[_o,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(bs(r,"safari")||bs(r,"mobile/"))&&bs(r,"applewebkit")}],_a=[{name:"Windows",search:Cs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>bs(r,"iphone")||bs(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Cs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cs("linux"),versionRegexes:[]},{name:"Solaris",search:Cs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Cs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kl={browsers:ke(hi),oses:ke(_a)},Fa="Edge",nr="Chromium",ol="IE",Yl="Opera",sl="Firefox",Ia="Safari",yi=()=>bi({current:void 0,version:lc.unknown()}),bi=r=>{const c=r.current,l=r.version,f=p=>()=>c===p;return{current:c,version:l,isEdge:f(Fa),isChromium:f(nr),isIE:f(ol),isOpera:f(Yl),isFirefox:f(sl),isSafari:f(Ia)}},rl={unknown:yi,nu:bi,edge:ke(Fa),chromium:ke(nr),ie:ke(ol),opera:ke(Yl),firefox:ke(sl),safari:ke(Ia)},ms="Windows",uc="iOS",al="Android",ki="Linux",cl="macOS",Xl="Solaris",il="FreeBSD",ll="ChromeOS",b=()=>S({current:void 0,version:lc.unknown()}),S=r=>{const c=r.current,l=r.version,f=p=>()=>c===p;return{current:c,version:l,isWindows:f(ms),isiOS:f(uc),isAndroid:f(al),isMacOS:f(cl),isLinux:f(ki),isSolaris:f(Xl),isFreeBSD:f(il),isChromeOS:f(ll)}},A={unknown:b,nu:S,windows:ke(ms),ios:ke(uc),android:ke(al),linux:ke(ki),macos:ke(cl),solaris:ke(Xl),freebsd:ke(il),chromeos:ke(ll)},be={detect:(r,c,l)=>{const f=Kl.browsers(),p=Kl.oses(),k=c.bind(I=>aa(f,I)).orThunk(()=>lf(f,r)).fold(rl.unknown,rl.nu),C=Gl(p,r).fold(A.unknown,A.nu),z=cf(C,k,r,l);return{browser:k,os:C,deviceType:z}}},$t=r=>window.matchMedia(r).matches;let yn=ra(()=>be.detect(navigator.userAgent,L.from(navigator.userAgentData),$t));const On=()=>yn(),Hn=(r,c)=>{const l=(z,I)=>{if(!tt(I)&&!I.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+I);const Y=z.dom;vo(Y)&&(Y.style[r]=I+"px")},f=z=>{const I=c(z);if(I<=0||I===null){const Y=er(z,r);return parseFloat(Y)||0}return I},p=f,k=(z,I)=>en(I,(Y,he)=>{const ct=er(z,he),Tt=ct===void 0?0:parseInt(ct,10);return isNaN(Tt)?Y:Y+Tt},0);return{set:l,get:f,getOuter:p,aggregate:k,max:(z,I,Y)=>{const he=k(z,Y);return I>he?I-he:0}}},Mn=(r,c)=>tn(r).getOr(c),ns=(r,c,l)=>Mn(er(r,c),l),jr=(r,c,l,f)=>{const p=ns(r,`padding-${l}`,0),k=ns(r,`padding-${f}`,0),C=ns(r,`border-${l}-width`,0),z=ns(r,`border-${f}-width`,0);return c-p-k-C-z},qs=(r,c)=>{const l=r.dom,f=l.getBoundingClientRect().width||l.offsetWidth;return c==="border-box"?f:jr(r,f,"left","right")},kd=r=>ns(r,"height",r.dom.offsetHeight),wi=r=>ns(r,"width",r.dom.offsetWidth),wd=r=>qs(r,"content-box"),Zl=Hn("width",r=>r.dom.offsetWidth),La=r=>Zl.get(r),kr=r=>Zl.getOuter(r),ca=wd,_d=wi,fs=(r,c,l)=>{const f=r.cells,p=f.slice(0,c),k=f.slice(c),C=p.concat(l).concat(k);return fc(r,C)},vd=(r,c,l)=>fs(r,c,[l]),ul=(r,c,l)=>{const f=r.cells;f[c]=l},fc=(r,c)=>R(r.element,c,r.section,r.isNew),fl=(r,c)=>{const l=r.cells,f=Pe(l,c);return R(r.element,f,r.section,r.isNew)},Oo=(r,c)=>r.cells[c],zs=(r,c)=>Oo(r,c).element,Rr=r=>r.cells.length,Ss=r=>{const c=kn(r,l=>l.section==="colgroup");return{rows:c.fail,cols:c.pass}},uf=(r,c,l)=>{const f=Pe(r.cells,l);return R(c(r.element),f,r.section,!0)},_i="data-snooker-locked-cols",ff=r=>Vo(r,_i).bind(c=>L.from(c.match(/\d+/g))).map(c=>me(c,Ve)),dc=r=>{const c=en(Ss(r).rows,(f,p)=>(yt(p.cells,(k,C)=>{k.isLocked&&(f[C]=!0)}),f),{}),l=Xt(c,(f,p)=>parseInt(p,10));return ce(l)},Ql=(r,c)=>r+","+c,Tp=(r,c,l)=>L.from(r.access[Ql(c,l)]),zp=(r,c,l)=>{const f=Jl(r,p=>l(c,p.element));return f.length>0?L.some(f[0]):L.none()},Jl=(r,c)=>{const l=re(r.all,f=>f.cells);return Rn(l,c)},Ap=r=>{const c={};let l=0;return yt(r.cells,f=>{const p=f.colspan;Z(p,k=>{const C=l+k;c[C]=fe(f.element,p,C)}),l+=p}),c},df=r=>{const c={},l=[],p=W(r).map(Ct=>Ct.element).bind(Ws).bind(ff).getOr({});let k=0,C=0,z=0;const{pass:I,fail:Y}=kn(r,Ct=>Ct.section==="colgroup");yt(Y,Ct=>{const Ye=[];yt(Ct.cells,Rt=>{let Xe=0;for(;c[Ql(z,Xe)]!==void 0;)Xe++;const Kt=st(p,Xe.toString()),Cn=ir(Rt.element,Rt.rowspan,Rt.colspan,z,Xe,Kt);for(let Fn=0;Fn<Rt.colspan;Fn++)for(let Qo=0;Qo<Rt.rowspan;Qo++){const Ms=z+Qo,Xo=Xe+Fn,Vr=Ql(Ms,Xo);c[Vr]=Cn,C=Math.max(C,Xo+1)}Ye.push(Cn)}),k++,l.push(Er(Ct.element,Ye,Ct.section)),z++});const{columns:he,colgroups:ct}=M(I).map(Ct=>{const Ye=Ap(Ct);return{colgroups:[qe(Ct.element,ro(Ye))],columns:Ye}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Qr(k,C),access:c,all:l,columns:he,colgroups:ct}},In={fromTable:r=>{const c=gi(r);return df(c)},generate:df,getAt:Tp,findItem:zp,filterItems:Jl,justCells:r=>re(r.all,c=>c.cells),justColumns:r=>ro(r.columns),hasColumns:r=>kt(r.columns).length>0,getColumnAt:(r,c)=>L.from(r.columns[c])},mc=(r,c=Ve)=>{const l=r.grid,f=Z(l.columns,ge),p=Z(l.rows,ge);return Pe(f,k=>Ci(()=>re(p,Y=>In.getAt(r,Y,k).filter(he=>he.column===k).toArray()),Y=>Y.colspan===1&&c(Y.element),()=>In.getAt(r,0,k)))},Ci=(r,c,l)=>{const f=r();return wn(f,c).orThunk(()=>L.from(f[0]).orThunk(l)).map(C=>C.element)},mf=r=>{const c=r.grid,l=Z(c.rows,ge),f=Z(c.columns,ge);return Pe(l,p=>Ci(()=>re(f,I=>In.getAt(r,p,I).filter(Y=>Y.row===p).fold(ke([]),Y=>[Y])),I=>I.rowspan===1,()=>In.getAt(r,p,0)))},pf=(r,c)=>{if(c<0||c>=r.length-1)return L.none();const l=r[c].fold(()=>{const p=J(r.slice(0,c));return Ue(p,(k,C)=>k.map(z=>({value:z,delta:C+1})))},p=>L.some({value:p,delta:0})),f=r[c+1].fold(()=>{const p=r.slice(c+1);return Ue(p,(k,C)=>k.map(z=>({value:z,delta:C+1})))},p=>L.some({value:p,delta:1}));return l.bind(p=>f.map(k=>{const C=k.delta+p.delta;return Math.abs(k.value-p.value)/C}))},gf=(r,c)=>l=>Dc(l)==="rtl"?c:r,Dc=r=>er(r,"direction")==="rtl"?"rtl":"ltr",Si=Hn("height",r=>{const c=r.dom;return Do(r)?c.getBoundingClientRect().height:c.offsetHeight}),dn=r=>Si.get(r),ia=r=>Si.getOuter(r),xi=kd,hf=(r,c)=>({left:r,top:c,translate:(f,p)=>hf(r+f,c+p)}),Qa=hf,Oc=r=>{const c=r.getBoundingClientRect();return Qa(c.left,c.top)},eu=(r,c)=>r!==void 0?r:c!==void 0?c:0,Ma=r=>{const c=r.dom.ownerDocument,l=c.body,f=c.defaultView,p=c.documentElement;if(l===r.dom)return Qa(l.offsetLeft,l.offsetTop);const k=eu(f==null?void 0:f.pageYOffset,p.scrollTop),C=eu(f==null?void 0:f.pageXOffset,p.scrollLeft),z=eu(p.clientTop,l.clientTop),I=eu(p.clientLeft,l.clientLeft);return Sd(r).translate(C-I,k-z)},Sd=r=>{const c=r.dom,f=c.ownerDocument.body;return f===c?Qa(f.offsetLeft,f.offsetTop):Do(r)?Oc(c):Qa(0,0)},ml=(r,c)=>({row:r,y:c}),Ft=(r,c)=>({col:r,x:c}),xd=r=>Ma(r).left+kr(r),Ed=r=>Ma(r).left,pl=(r,c)=>Ft(r,Ed(c)),tu=(r,c)=>Ft(r,xd(c)),Ei=r=>Ma(r).top,ps=(r,c)=>ml(r,Ei(c)),Td=(r,c)=>ml(r,Ei(c)+ia(c)),la=(r,c,l)=>{if(l.length===0)return[];const f=Pe(l.slice(1),(k,C)=>k.map(z=>r(C,z))),p=l[l.length-1].map(k=>c(l.length-1,k));return f.concat([p])},os=r=>-r,gl={delta:ge,positions:r=>la(ps,Td,r),edge:Ei},Pc=gf({delta:ge,edge:Ed,positions:r=>la(pl,tu,r)},{delta:os,edge:xd,positions:r=>la(tu,pl,r)}),Ti={delta:(r,c)=>Pc(c).delta(r,c),positions:(r,c)=>Pc(c).positions(r,c),edge:r=>Pc(r).edge(r)},yf={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},zd=(()=>{const r="[0-9]+",c="[+-]?"+r,l="[eE]"+c,f="\\.",p=z=>`(?:${z})?`,C=`[+-]?(?:${["Infinity",r+f+p(r)+p(l),f+r+p(l),r+p(l)].join("|")})`;return new RegExp(`^(${C})(.*)$`)})(),nu=(r,c)=>qt(c,l=>qt(yf[l],f=>r===f)),zi=(r,c)=>L.from(zd.exec(r)).bind(f=>{const p=Number(f[1]),k=f[2];return nu(k,c)?L.some({value:p,unit:k}):L.none()}),Bc=/(\d+(\.\d+)?)%/,Np=/(\d+(\.\d+)?)px|em/,Rp=To("col"),Ad=(r,c,l)=>{const f=ee(r).getOrThunk(()=>ba(ln(r)));return c(r)/l(f)*100},Ai=(r,c)=>{qn(r,"width",c+"px")},$c=(r,c)=>{qn(r,"width",c+"%")},ja=(r,c)=>{qn(r,"height",c+"px")},Nd=r=>xi(r)+"px",Vh=(r,c,l,f)=>{const p=Ws(r).map(k=>{const C=l(k);return Math.floor(c/100*C)}).getOr(c);return f(r,p),p},Rd=(r,c,l,f)=>{const p=parseFloat(r);return V(r,"%")&&ue(c)!=="table"?Vh(c,p,l,f):p},ks=r=>{const c=Nd(r);return c?Rd(c,r,dn,ja):dn(r)},Dp=(r,c,l)=>{const f=l(r),p=Bs(r,c);return f/p},Dd=(r,c)=>Xa(r,c).orThunk(()=>Vo(r,c).map(l=>l+"px")),Ni=r=>Dd(r,"width"),Op=r=>Dd(r,"height"),Pp=r=>Ad(r,La,ca),bf=r=>Rp(r)?La(r):_d(r),Od=r=>Dp(r,"rowspan",ks),Bp=r=>Ni(r).bind(l=>zi(l,["fixed","relative","empty"])),Pd=(r,c,l)=>{qn(r,"width",c+l)},gc=r=>La(r)+"px",ua=r=>Ad(r,La,ca)+"%",$p=r=>Ni(r).exists(c=>Bc.test(c)),kf=r=>Ni(r).exists(c=>Np.test(c)),Ri=r=>Ni(r).isNone(),wf=ke(Bc),_f=To("col"),hl=r=>Ni(r).getOrThunk(()=>bf(r)+"px"),Bd=r=>Op(r).getOrThunk(()=>Od(r)+"px"),ou=r=>Pe(In.justColumns(r),c=>L.from(c.element)),su=r=>{const c=On().browser,l=c.isChromium()||c.isFirefox();return _f(r)?l:!0},vf=(r,c,l,f,p,k)=>r.filter(f).fold(()=>k(pf(l,c)),C=>p(C)),Cf=(r,c,l,f)=>{const p=mc(r),k=In.hasColumns(r)?ou(r):p,C=[L.some(Ti.edge(c))].concat(Pe(Ti.positions(p,c),I=>I.map(Y=>Y.x))),z=le(ta);return Pe(k,(I,Y)=>vf(I,Y,C,z,he=>{if(su(he))return l(he);{const ct=Ar(p[Y],ge);return vf(ct,Y,C,z,Tt=>f(L.some(La(Tt))),f)}},f))},Sf=r=>r.map(c=>c+"px").getOr(""),yl=(r,c)=>Cf(r,c,hl,Sf),Vs=(r,c,l)=>Cf(r,c,Pp,f=>f.fold(()=>l.minCellWidth(),p=>p/l.pixelWidth()*100)),ru=(r,c,l)=>Cf(r,c,bf,f=>f.getOrThunk(l.minCellWidth)),$d=(r,c,l,f,p)=>{const k=mf(r),C=[L.some(l.edge(c))].concat(Pe(l.positions(k,c),z=>z.map(I=>I.y)));return Pe(k,(z,I)=>vf(z,I,C,le($a),f,p))},xf=(r,c,l)=>$d(r,c,l,Od,f=>f.getOrThunk(na)),wr=(r,c,l)=>$d(r,c,l,Bd,Sf),Ef=(r,c)=>()=>Do(r)?c(r):parseFloat(Xa(r,"width").getOr("0")),au=r=>{const c=Ef(r,La),l=ke(0);return{width:c,pixelWidth:c,getWidths:(p,k)=>ru(p,r,k),getCellDelta:l,singleColumnWidth:ke([0]),minCellWidth:l,setElementWidth:xe,adjustTableWidth:xe,isRelative:!0,label:"none"}},Fc=r=>{const c=Ef(r,I=>parseFloat(ua(I))),l=Ef(r,La);return{width:c,pixelWidth:l,getWidths:(I,Y)=>Vs(I,r,Y),getCellDelta:I=>I/l()*100,singleColumnWidth:(I,Y)=>[100-I],minCellWidth:()=>ka()/l()*100,setElementWidth:$c,adjustTableWidth:I=>{const Y=c(),he=I/100*Y,ct=Y+he;$c(r,ct)},isRelative:!0,label:"percent"}},Di=r=>{const c=Ef(r,La);return{width:c,pixelWidth:c,getWidths:(C,z)=>ru(C,r,z),getCellDelta:ge,singleColumnWidth:(C,z)=>[Math.max(ka(),C+z)-C],minCellWidth:ka,setElementWidth:Ai,adjustTableWidth:C=>{const z=c()+C;Ai(r,z)},isRelative:!1,label:"pixel"}},Fp=(r,c)=>wf().exec(c)!==null?Fc(r):Di(r),hc={getTableSize:r=>Ni(r).fold(()=>au(r),l=>Fp(r,l)),pixelSize:Di,percentageSize:Fc,noneSize:au},Ic=(r,c,l,f,p,k)=>({minRow:r,minCol:c,maxRow:l,maxCol:f,allCells:p,selectedCells:k}),Ip=(r,c)=>{const l=r.grid.columns;let p=r.grid.rows,k=l,C=0,z=0;const I=[],Y=[];return pn(r.access,he=>{if(I.push(he),c(he)){Y.push(he);const ct=he.row,Tt=ct+he.rowspan-1,Ct=he.column,Ye=Ct+he.colspan-1;ct<p?p=ct:Tt>C&&(C=Tt),Ct<k?k=Ct:Ye>z&&(z=Ye)}}),Ic(p,k,C,z,I,Y)},m=(r,c,l)=>{const f=r[l].element,p=O.fromTag("td");Dn(p,O.fromTag("br")),(c?Dn:yo)(f,p)},h=(r,c,l,f)=>{const p=Rn(r,z=>z.section!=="colgroup"),k=c.grid.columns,C=c.grid.rows;for(let z=0;z<C;z++){let I=!1;for(let Y=0;Y<k;Y++)z<l.minRow||z>l.maxRow||Y<l.minCol||Y>l.maxCol||(In.getAt(c,z,Y).filter(f).isNone()?m(p,I,z):I=!0)}},E=(r,c,l,f)=>{pn(l.columns,C=>{(C.column<c.minCol||C.column>c.maxCol)&&es(C.element)});const p=Rn(cc(r,"tr"),C=>C.dom.childElementCount===0);yt(p,es),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&yt(cc(r,"th,td"),C=>{lo(C,"rowspan"),lo(C,"colspan")}),lo(r,_i),lo(r,"data-snooker-col-series"),hc.getTableSize(r).adjustTableWidth(f)},P=(r,c,l,f)=>{if(f.minCol===0&&c.grid.columns===f.maxCol+1)return 0;const p=ru(c,r,l),k=en(p,(Y,he)=>Y+he,0),I=en(p.slice(f.minCol,f.maxCol+1),(Y,he)=>Y+he,0)/k*l.pixelWidth()-l.pixelWidth();return l.getCellDelta(I)},oe=(r,c)=>{const l=Tt=>G(Tt.element,c),f=Hs(r),p=gi(f),k=hc.getTableSize(r),C=In.generate(p),z=Ip(C,l),I="th:not("+c+"),td:not("+c+")",Y=Qi(f,"th,td",Tt=>G(Tt,I));yt(Y,es),h(p,C,z,l);const he=In.fromTable(r),ct=P(r,he,k,z);return E(f,z,C,ct),f},Me="\xA0",xt=((r,c)=>{const l=k=>{if(!r(k))throw new Error("Can only get "+c+" value of a "+c+" node");return f(k).getOr("")},f=k=>r(k)?L.from(k.dom.nodeValue):L.none();return{get:l,getOption:f,set:(k,C)=>{if(!r(k))throw new Error("Can only set raw "+c+" value of a "+c+" node");k.dom.nodeValue=C}}})(No,"text"),vn=r=>xt.get(r),Ln=r=>xt.getOption(r),as=(r,c)=>xt.set(r,c),uo=r=>ue(r)==="img"?1:Ln(r).fold(()=>wt(r).length,c=>c.length),Ko=r=>Ln(r).filter(c=>c.trim().length!==0||c.indexOf(Me)>-1).isSome(),or=["img","br"],Dr=r=>Ko(r)||Ze(or,ue(r)),Ja=r=>K(r,Dr),Ua=r=>cu(r,Dr),cu=(r,c)=>{const l=f=>{const p=wt(f);for(let k=p.length-1;k>=0;k--){const C=p[k];if(c(C))return L.some(C);const z=l(C);if(z.isSome())return z}return L.none()};return l(r)},bl={scope:["row","col"]},Lc=r=>()=>{const c=O.fromTag("td",r.dom);return Dn(c,O.fromTag("br",r.dom)),c},Mc=r=>()=>O.fromTag("col",r.dom),iu=r=>()=>O.fromTag("colgroup",r.dom),kl=r=>()=>O.fromTag("tr",r.dom),wl=(r,c,l)=>{const f=cr(r,c);return pn(l,(p,k)=>{p===null?lo(f,k):wo(f,k,p)}),f},Lp=r=>r,Mp=(r,c,l)=>Ja(r).map(p=>{const k=l.join(","),C=zr(p,k,z=>Et(z,r));return an(C,(z,I)=>{const Y=Zr(I);return lo(Y,"contenteditable"),Dn(z,Y),Y},c)}).getOr(c),$n=(r,c)=>{pn(bl,(l,f)=>Vo(r,f).filter(p=>Ze(l,p)).each(p=>wo(c,f,p)))},Yo=(r,c,l)=>{const f=(C,z)=>{ao(C.element,z),ur(z,"height"),C.colspan!==1&&ur(z,"width")},p=C=>{const z=O.fromTag(ue(C.element),c.dom),I=l.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Y=I.length>0?Mp(C.element,z,I):z;return Dn(Y,O.fromTag("br")),f(C,z),$n(C.element,z),r(C.element,z),z};return{col:C=>{const z=O.fromTag(ue(C.element),c.dom);return f(C,z),r(C.element,z),z},colgroup:iu(c),row:kl(c),cell:p,replace:wl,colGap:Mc(c),gap:Lc(c)}},$s=r=>({col:Mc(r),colgroup:iu(r),row:kl(r),cell:Lc(r),replace:Lp,colGap:Mc(r),gap:Lc(r)}),Ur=(r,c)=>{const f=(c||document).createElement("div");return f.innerHTML=r,wt(O.fromDom(f))},jp=r=>Pe(r,O.fromDom),lu=r=>O.fromDom(r.getBody()),Ha=r=>c=>Et(c,lu(r)),Wa=r=>{lo(r,"data-mce-style");const c=l=>lo(l,"data-mce-style");yt(Za(r),c),yt(ic(r),c),yt(Ji(r),c)},yc=r=>O.fromDom(r.selection.getStart()),Kh=r=>r.getBoundingClientRect().width,Up=r=>r.getBoundingClientRect().height,gw=(r,c)=>{const l=r.dom.getStyle(c,"width")||r.dom.getAttrib(c,"width");return L.from(l).filter(Zt)},Yh=r=>/^(\d+(\.\d+)?)%$/.test(r),hw=r=>/^(\d+(\.\d+)?)px$/.test(r),yw=(r,c)=>{const l=c.column,f=c.column+c.colspan-1,p=c.row,k=c.row+c.rowspan-1;return l<=r.finishCol&&f>=r.startCol&&p<=r.finishRow&&k>=r.startRow},bw=(r,c)=>c.column>=r.startCol&&c.column+c.colspan-1<=r.finishCol&&c.row>=r.startRow&&c.row+c.rowspan-1<=r.finishRow,Fd=(r,c)=>{let l=!0;const f=ot(bw,c);for(let p=c.startRow;p<=c.finishRow;p++)for(let k=c.startCol;k<=c.finishCol;k++)l=l&&In.getAt(r,p,k).exists(f);return l?L.some(c):L.none()},kw=(r,c)=>Q(Math.min(r.row,c.row),Math.min(r.column,c.column),Math.max(r.row+r.rowspan-1,c.row+c.rowspan-1),Math.max(r.column+r.colspan-1,c.column+c.colspan-1)),Xh=(r,c,l)=>{const f=In.findItem(r,c,Et),p=In.findItem(r,l,Et);return f.bind(k=>p.map(C=>kw(k,C)))},ww=(r,c,l)=>Xh(r,c,l).bind(f=>Fd(r,f)),_w=(r,c,l,f)=>In.findItem(r,c,Et).bind(p=>{const k=l>0?p.row+p.rowspan-1:p.row,C=f>0?p.column+p.colspan-1:p.column;return In.getAt(r,k+l,C+f).map(I=>I.element)}),Fs=(r,c,l)=>Xh(r,c,l).map(f=>{const p=In.filterItems(r,ot(yw,f));return Pe(p,k=>k.element)}),Zh=(r,c)=>{const l=(f,p)=>An(p,f);return In.findItem(r,c,l).map(f=>f.element)},Qh=(r,c,l)=>Ws(r).bind(f=>{const p=Ld(f);return _w(p,r,c,l)}),vw=(r,c,l)=>{const f=Ld(r);return Fs(f,c,l)},Id=(r,c,l,f,p)=>{const k=Ld(r),C=Et(r,l)?L.some(c):Zh(k,c),z=Et(r,p)?L.some(f):Zh(k,f);return C.bind(I=>z.bind(Y=>Fs(k,I,Y)))},Cw=(r,c,l)=>{const f=Ld(r);return ww(f,c,l)},Ld=In.fromTable;var Sw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],uu=()=>{const r=Y=>O.fromDom(Y.dom.cloneNode(!1)),c=Y=>jn(Y).dom,l=Y=>hn(Y)?ue(Y)==="body"?!0:Ze(Sw,ue(Y)):!1,f=Y=>hn(Y)?Ze(["br","img","hr","input"],ue(Y)):!1,p=Y=>hn(Y)&&gn(Y,"contenteditable")==="false",k=(Y,he)=>Y.dom.compareDocumentPosition(he.dom),C=(Y,he)=>{const ct=Lo(Y);rs(he,ct)},z=Y=>{const he=ue(Y);return Ze(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],he)},I=Y=>hn(Y)?Vo(Y,"lang"):L.none();return{up:ke({selector:Re,closest:Zn,predicate:ea,all:Ge}),down:ke({selector:Ps,predicate:br}),styles:ke({get:er,getRaw:Xa,set:qn,remove:ur}),attrs:ke({get:gn,set:wo,remove:lo,copyTo:C}),insert:ke({before:un,after:Xn,afterAll:Bn,append:Dn,appendAll:to,prepend:yo,wrap:_s}),remove:ke({unwrap:Ds,remove:es}),create:ke({nu:O.fromTag,clone:r,text:O.fromText}),query:ke({comparePosition:k,prevSibling:St,nextSibling:vt}),property:ke({children:wt,name:ue,parent:q,document:c,isText:No,isComment:Ot,isElement:hn,isSpecial:z,getLanguage:I,getText:vn,setText:as,isBoundary:l,isEmptyTag:f,isNonEditable:p}),eq:Et,is:Bo}};const xw=(r,c,l,f)=>{const p=l[0],k=l.slice(1);return f(r,c,p,k)},Md=(r,c,l)=>l.length>0?xw(r,c,l,jd):L.none(),jd=(r,c,l,f)=>{const p=c(r,l);return an(f,(k,C)=>{const z=c(r,C);return Ew(r,k,z)},p)},Ew=(r,c,l)=>c.bind(f=>l.filter(ot(r.eq,f))),Tw=(r,c)=>ot(r.eq,c),zw=(r,c,l,f=Le)=>{const p=[c].concat(r.up().all(c)),k=[l].concat(r.up().all(l)),C=he=>w(he,f).fold(()=>he,Tt=>he.slice(0,Tt+1)),z=C(p),I=C(k),Y=wn(z,he=>qt(I,Tw(r,he)));return{firstpath:z,secondpath:I,shared:Y}},_l=Md,Aw=zw,Jh=uu(),Ud=(r,c)=>_l(Jh,(l,f)=>r(f),c),Hp=(r,c,l)=>Aw(Jh,r,c,l),Hd=r=>Re(r,"table"),Wd=(r,c,l)=>{const f=p=>k=>l!==void 0&&l(k)||Et(k,p);return Et(r,c)?L.some({boxes:L.some([r]),start:r,finish:c}):Hd(r).bind(p=>Hd(c).bind(k=>{if(Et(p,k))return L.some({boxes:vw(p,r,c),start:r,finish:c});if(An(p,k)){const C=zr(c,"td,th",f(p)),z=C.length>0?C[C.length-1]:c;return L.some({boxes:Id(p,r,p,c,k),start:r,finish:z})}else if(An(k,p)){const C=zr(r,"td,th",f(k)),z=C.length>0?C[C.length-1]:r;return L.some({boxes:Id(k,r,p,c,k),start:r,finish:z})}else return Hp(r,c).shared.bind(C=>Zn(C,"table",l).bind(z=>{const I=zr(c,"td,th",f(z)),Y=I.length>0?I[I.length-1]:c,he=zr(r,"td,th",f(z)),ct=he.length>0?he[he.length-1]:r;return L.some({boxes:Id(z,r,p,c,k),start:ct,finish:Y})}))}))},qd=(r,c)=>{const l=Ps(r,c);return l.length>0?L.some(l):L.none()},Wp=(r,c)=>wn(r,l=>G(l,c)),Nw=(r,c,l)=>Un(r,c).bind(f=>Un(r,l).bind(p=>Ud(Hd,[f,p]).map(k=>({first:f,last:p,table:k})))),RE=(r,c)=>Re(r,"table").bind(l=>Un(l,c).bind(f=>Wd(f,r).bind(p=>p.boxes.map(k=>({boxes:k,start:p.start,finish:p.finish}))))),Oi=(r,c,l,f,p)=>Wp(r,p).bind(k=>Qh(k,c,l).bind(C=>RE(C,f))),jc=(r,c)=>qd(r,c),Rw=(r,c,l)=>Nw(r,c,l).bind(f=>{const p=I=>Et(r,I),k="thead,tfoot,tbody,table",C=Re(f.first,k,p),z=Re(f.last,k,p);return C.bind(I=>z.bind(Y=>Et(I,Y)?Cw(f.table,f.first,f.last):L.none()))}),vl=ge,dr=r=>{const c=(f,p)=>Vo(f,p).exists(k=>parseInt(k,10)>1),l=f=>c(f,"rowspan")||c(f,"colspan");return r.length>0&&we(r,l)?L.some(r):L.none()},qp=(r,c,l)=>c.length<=1?L.none():Rw(r,l.firstSelectedSelector,l.lastSelectedSelector).map(f=>({bounds:f,cells:c})),Tf="data-mce-selected",Dw="td["+Tf+"],th["+Tf+"]",sr="["+Tf+"]",Vd="data-mce-first-selected",ey="td["+Vd+"],th["+Vd+"]",Vp="data-mce-last-selected",Gp="td["+Vp+"],th["+Vp+"]",Pi=sr,Uc={selected:Tf,selectedSelector:Dw,firstSelected:Vd,firstSelectedSelector:ey,lastSelected:Vp,lastSelectedSelector:Gp},Gd=(r,c,l)=>({element:l,mergable:qp(c,r,Uc),unmergable:dr(r),selection:vl(r)}),Ow=(r,c,l)=>({element:r,clipboard:c,generators:l}),Pw=(r,c,l,f)=>({selection:vl(r),clipboard:l,generators:f}),Bw=r=>Ws(r).bind(c=>jc(c,Uc.firstSelectedSelector)).fold(ke(r),c=>c[0]),Kp=r=>(c,l)=>{const f=ue(c),p=f==="col"||f==="colgroup"?Bw(c):c;return Zn(p,r,l)},Yp=Kp("th,td,caption"),Xp=Kp("th,td"),bc=r=>jp(r.model.table.getSelectedCells()),Zp=r=>Rn(bc(r),c=>G(c,Uc.selectedSelector)),Kd=r=>Ws(r[0]).map(c=>{const l=oe(c,Pi);return Wa(l),[l]}),$w=(r,c)=>Pe(c,l=>r.selection.serializer.serialize(l.dom,{})).join(""),fu=r=>Pe(r,c=>c.dom.innerText).join(""),Fw=(r,c)=>{r.on("BeforeGetContent",l=>{const f=p=>{l.preventDefault(),Kd(p).each(k=>{l.content=l.format==="text"?fu(k):$w(r,k)})};if(l.selection===!0){const p=Zp(r);p.length>=1&&f(p)}}),r.on("BeforeSetContent",l=>{if(l.selection===!0&&l.paste===!0){const f=bc(r);W(f).each(p=>{Ws(p).each(k=>{const C=Rn(Ur(l.content),I=>ue(I)!=="meta"),z=To("table");if(C.length===1&&z(C[0])){l.preventDefault();const I=O.fromDom(r.getDoc()),Y=$s(I),he=Ow(p,C[0],Y);c.pasteCells(k,he).each(()=>{r.focus()})}})})}})},ec=(r,c)=>({element:r,offset:c}),Yd=(r,c,l)=>r.property().isText(c)&&r.property().getText(c).trim().length===0||r.property().isComment(c)?l(c).bind(f=>Yd(r,f,l).orThunk(()=>L.some(f))):L.none(),ty=(r,c)=>r.property().isText(c)?r.property().getText(c).length:r.property().children(c).length,Xd=(r,c)=>{const l=Yd(r,c,r.query().prevSibling).getOr(c);if(r.property().isText(l))return ec(l,ty(r,l));const f=r.property().children(l);return f.length>0?Xd(r,f[f.length-1]):ec(l,ty(r,l))},zf=Xd,Iw=uu(),Lw=r=>zf(Iw,r),du=(r,c)=>{ta(r)||Bp(r).each(f=>{const p=f.value/2;Pd(r,p,f.unit),Pd(c,p,f.unit)})},Zd=r=>Pe(r,ke(0)),Qp=(r,c,l,f,p)=>p(r.slice(0,c)).concat(f).concat(p(r.slice(l))),Ho=r=>(c,l,f,p)=>{if(r(f)){const k=Math.max(p,c[l]-Math.abs(f)),C=Math.abs(k-c[l]);return f>=0?C:-C}else return f},Qd=Ho(r=>r<0),Mw=Ho(Ve),ny=()=>{const r=(z,I,Y,he,ct)=>{const Tt=Qd(z,I,he,ct);return Qp(z,I,Y+1,[Tt,0],Zd)},c=(z,I,Y,he)=>{const ct=(100+Y)/100,Tt=Math.max(he,(z[I]+Y)/ct);return Pe(z,(Ct,Ye)=>(Ye===I?Tt:Ct/ct)-Ct)},l=(z,I,Y,he,ct,Tt)=>Tt?c(z,I,he,ct):r(z,I,Y,he,ct);return{resizeTable:(z,I)=>z(I),clampTableDelta:Qd,calcLeftEdgeDeltas:l,calcMiddleDeltas:(z,I,Y,he,ct,Tt,Ct)=>l(z,Y,he,ct,Tt,Ct),calcRightEdgeDeltas:(z,I,Y,he,ct,Tt)=>{if(Tt)return c(z,Y,he,ct);{const Ct=Qd(z,Y,he,ct);return Zd(z.slice(0,Y)).concat([Ct])}},calcRedestributedWidths:(z,I,Y,he)=>{if(he){const Tt=(I+Y)/I,Ct=Pe(z,Ye=>Ye/Tt);return{delta:Tt*100-100,newSizes:Ct}}else return{delta:Y,newSizes:z}}}},mu=()=>{const r=(C,z,I,Y,he)=>{const ct=Y>=0?I:z,Tt=Mw(C,ct,Y,he);return Qp(C,z,I+1,[Tt,-Tt],Zd)};return{resizeTable:(C,z,I)=>{I&&C(z)},clampTableDelta:(C,z,I,Y,he)=>{if(he){if(I>=0)return I;{const ct=en(C,(Tt,Ct)=>Tt+Ct-Y,0);return Math.max(-ct,I)}}else return Qd(C,z,I,Y)},calcLeftEdgeDeltas:r,calcMiddleDeltas:(C,z,I,Y,he,ct)=>r(C,I,Y,he,ct),calcRightEdgeDeltas:(C,z,I,Y,he,ct)=>{if(ct)return Zd(C);{const Tt=Y/C.length;return Pe(C,ke(Tt))}},calcRedestributedWidths:(C,z,I,Y)=>({delta:0,newSizes:C})}},Jd=r=>In.fromTable(r).grid,qa=To("th"),xs=r=>we(r,c=>qa(c.element)),jw=(r,c)=>r&&c?"sectionCells":r?"section":"cells",oy=r=>{const c=r.section==="thead",l=nt(Cl(r.cells),"th");return r.section==="tfoot"?{type:"footer"}:c||l?{type:"header",subType:jw(c,l)}:{type:"body"}},Cl=r=>{const c=Rn(r,l=>qa(l.element));return c.length===0?L.some("td"):c.length===r.length?L.some("th"):L.none()},Jp=r=>{const c=Pe(r,p=>oy(p).type),l=Ze(c,"header"),f=Ze(c,"footer");if(!l&&!f)return L.some("body");{const p=Ze(c,"body");return l&&!p&&!f?L.some("header"):!l&&!p&&f?L.some("footer"):L.none()}},sy=r=>Ue(r.all,c=>{const l=oy(c);return l.type==="header"?L.from(l.subType):L.none()}),ry=(r,c,l)=>us(l(r.element,c),!0,r.isLocked),ay=(r,c)=>r.section!==c?R(r.element,r.cells,c,r.isNew):r,Uw=()=>({transformRow:ay,transformCell:(r,c,l)=>{const f=l(r.element,c),p=ue(f)!=="td"?Da(f,"td"):f;return us(p,r.isNew,r.isLocked)}}),Hw=()=>({transformRow:ay,transformCell:ry}),Ww=()=>({transformRow:(r,c)=>ay(r,c==="thead"?"tbody":c),transformCell:ry}),Hr={getTableSectionType:(r,c)=>{const l=In.fromTable(r);switch(sy(l).getOr(c)){case"section":return Uw();case"sectionCells":return Hw();case"cells":return Ww()}},section:Uw,sectionCells:Hw,cells:Ww,fallback:()=>({transformRow:ge,transformCell:ry})},mr=r=>Zn(r,"[contenteditable]"),cy=(r,c=!1)=>Do(r)?r.dom.isContentEditable:mr(r).fold(ke(c),l=>Hc(l)==="true"),Hc=r=>r.dom.contentEditable,Bi=(r,c,l,f)=>{l===f?lo(r,c):wo(r,c,l)},em=(r,c,l)=>{M(Gn(r,c)).fold(()=>yo(r,l),f=>Xn(f,l))},Af=(r,c)=>{const l=Gt(r,c).getOrThunk(()=>{const f=O.fromTag(c,ln(r).dom);return c==="thead"?em(r,"caption,colgroup",f):c==="colgroup"?em(r,"caption",f):Dn(r,f),f});return Jo(l),l},Sl=(r,c)=>{const l=[],f=[],p=Ct=>Pe(Ct,Ye=>{Ye.isNew&&l.push(Ye.element);const Rt=Ye.element;return Jo(Rt),yt(Ye.cells,Xe=>{Xe.isNew&&f.push(Xe.element),Bi(Xe.element,"colspan",Xe.colspan,1),Bi(Xe.element,"rowspan",Xe.rowspan,1),Dn(Rt,Xe.element)}),Rt}),k=Ct=>re(Ct,Ye=>Pe(Ye.cells,Rt=>(Bi(Rt.element,"span",Rt.colspan,1),Rt.element))),C=(Ct,Ye)=>{const Rt=Af(r,Ye),Kt=(Ye==="colgroup"?k:p)(Ct);to(Rt,Kt)},z=Ct=>{Gt(r,Ct).each(es)},I=(Ct,Ye)=>{Ct.length>0?C(Ct,Ye):z(Ye)},Y=[],he=[],ct=[],Tt=[];return yt(c,Ct=>{switch(Ct.section){case"thead":Y.push(Ct);break;case"tbody":he.push(Ct);break;case"tfoot":ct.push(Ct);break;case"colgroup":Tt.push(Ct);break}}),I(Tt,"colgroup"),I(Y,"thead"),I(he,"tbody"),I(ct,"tfoot"),{newRows:l,newCells:f}},pu=r=>Pe(r,c=>{const l=Zr(c.element);return yt(c.cells,f=>{const p=Hs(f.element);Bi(p,"colspan",f.colspan,1),Bi(p,"rowspan",f.rowspan,1),Dn(l,p)}),l}),Nf=(r,c)=>Pe(r,l=>Oo(l,c)),Rf=(r,c)=>r[c],gu=(r,c)=>{if(r.length===0)return 0;const l=r[0];return w(r,p=>!c(l.element,p.element)).getOr(r.length)},iy=(r,c,l,f)=>{const p=Rf(r,c),k=p.section==="colgroup",C=gu(p.cells.slice(l),f),z=k?1:gu(Nf(r.slice(c),l),f);return{colspan:C,rowspan:z}},ly=(r,c)=>{const l=Pe(r,p=>Pe(p.cells,Le)),f=(p,k,C,z)=>{for(let I=p;I<p+C;I++)for(let Y=k;Y<k+z;Y++)l[I][Y]=!0};return Pe(r,(p,k)=>{const C=re(p.cells,(z,I)=>{if(l[k][I]===!1){const Y=iy(r,k,I,c);return f(k,I,Y.rowspan,Y.colspan),[Oa(z.element,Y.rowspan,Y.colspan,z.isNew)]}else return[]});return Jr(p.element,C,p.section,p.isNew)})},Df=(r,c,l)=>{const f=[];yt(r.colgroups,p=>{const k=[];for(let C=0;C<r.grid.columns;C++){const z=In.getColumnAt(r,C).map(I=>us(I.element,l,!1)).getOrThunk(()=>us(c.colGap(),!0,!1));k.push(z)}f.push(R(p.element,k,"colgroup",l))});for(let p=0;p<r.grid.rows;p++){const k=[];for(let I=0;I<r.grid.columns;I++){const Y=In.getAt(r,p,I).map(he=>us(he.element,l,he.isLocked)).getOrThunk(()=>us(c.gap(),!0,!1));k.push(Y)}const C=r.all[p],z=R(C.element,k,C.section,l);f.push(z)}return f},uy=(r,c)=>Df(r,c,!1),Of=r=>ly(r,Et),tm=(r,c)=>Ue(r.all,l=>wn(l.cells,f=>Et(c,f.element))),eg=(r,c,l)=>{const f=Pe(c.selection,k=>sa(k).bind(C=>tm(r,C)).filter(l)),p=Zo(f);return zo(p.length>0,p)},Gs=(r,c,l,f,p)=>(k,C,z,I)=>{const Y=In.fromTable(k),he=L.from(I==null?void 0:I.section).getOrThunk(Hr.fallback);return c(Y,C).map(Tt=>{const Ct=uy(Y,z),Ye=r(Ct,Tt,Et,p(z),he),Rt=dc(Ye.grid),Xe=Of(Ye.grid);return{info:Tt,grid:Xe,cursor:Ye.cursor,lockedColumns:Rt}}).bind(Tt=>{const Ct=Sl(k,Tt.grid),Ye=L.from(I==null?void 0:I.sizing).getOrThunk(()=>hc.getTableSize(k)),Rt=L.from(I==null?void 0:I.resize).getOrThunk(mu);return l(k,Tt.grid,Tt.info,{sizing:Ye,resize:Rt,section:he}),f(k),lo(k,_i),Tt.lockedColumns.length>0&&wo(k,_i,Tt.lockedColumns.join(",")),L.some({cursor:Tt.cursor,newRows:Ct.newRows,newCells:Ct.newCells})})},qw=(r,c)=>sa(c.element).bind(l=>tm(r,l).map(f=>({...f,generators:c.generators,clipboard:c.clipboard}))),nm=(r,c)=>eg(r,c,Ve).map(l=>({cells:l,generators:c.generators,clipboard:c.clipboard})),fy=(r,c)=>c.mergable,Vw=(r,c)=>c.unmergable,Wc=(r,c)=>eg(r,c,Ve),kc=(r,c)=>eg(r,c,l=>!l.isLocked),hu=(r,c)=>tm(r,c).exists(l=>!l.isLocked),tg=(r,c)=>we(c,l=>hu(r,l)),Gw=(r,c)=>fy(r,c).filter(l=>tg(r,l.cells)),Kw=(r,c)=>Vw(r,c).filter(l=>tg(r,l)),dy=(r,c,l,f)=>{const p=Ss(r).rows;if(p.length===0)return r;for(let k=c.startRow;k<=c.finishRow;k++)for(let C=c.startCol;C<=c.finishCol;C++){const z=p[k],I=Oo(z,C).isLocked;ul(z,C,us(f(),!1,I))}return r},$i=(r,c,l,f)=>{const p=Ss(r).rows;let k=!0;for(let C=0;C<p.length;C++)for(let z=0;z<Rr(p[0]);z++){const I=p[C],Y=Oo(I,z),he=Y.element,ct=l(he,c);ct&&!k?ul(I,z,us(f(),!0,Y.isLocked)):ct&&(k=!1)}return r},yu=(r,c)=>en(r,(l,f)=>qt(l,p=>c(p.element,f.element))?l:l.concat([f]),[]),xl=(r,c,l,f)=>(c>0&&c<r[0].cells.length&&yt(r,p=>{const k=p.cells[c-1];let C=0;const z=f();for(;p.cells.length>c+C&&l(k.element,p.cells[c+C].element);)ul(p,c+C,us(z,!0,p.cells[c+C].isLocked)),C++}),r),my=(r,c,l,f)=>{const p=Ss(r).rows;if(c>0&&c<p.length){const k=p[c-1].cells,C=yu(k,l);yt(C,z=>{let I=L.none();for(let Y=c;Y<p.length;Y++)for(let he=0;he<Rr(p[0]);he++){const ct=p[Y],Tt=Oo(ct,he);l(Tt.element,z.element)&&(I.isNone()&&(I=L.some(f())),I.each(Ye=>{ul(ct,he,us(Ye,!0,Tt.isLocked))}))}})}return r},py=r=>{const c=k=>k(r),l=ke(r),f=()=>p,p={tag:!0,inner:r,fold:(k,C)=>C(r),isValue:Ve,isError:Le,map:k=>Fi.value(k(r)),mapError:f,bind:c,exists:c,forall:c,getOr:l,or:f,getOrThunk:l,orThunk:f,getOrDie:l,each:k=>{k(r)},toOptional:()=>L.some(r)};return p},ng=r=>{const c=()=>l,l={tag:!1,inner:r,fold:(f,p)=>f(r),isValue:Le,isError:Ve,map:c,mapError:f=>Fi.error(f(r)),bind:c,exists:Le,forall:Ve,getOr:ge,or:ge,getOrThunk:ft,orThunk:ft,getOrDie:it(String(r)),each:xe,toOptional:L.none};return l},Fi={value:py,error:ng,fromOption:(r,c)=>r.fold(()=>ng(c),py)},Yw=(r,c,l)=>{if(r.row>=c.length||r.column>Rr(c[0]))return Fi.error("invalid start address out of table bounds, row: "+r.row+", column: "+r.column);const f=c.slice(r.row),p=f[0].cells.slice(r.column),k=Rr(l[0]),C=l.length;return Fi.value({rowDelta:f.length-C,colDelta:p.length-k})},gy=(r,c)=>{const l=Rr(r[0]),f=Rr(c[0]);return{rowDelta:0,colDelta:l-f}},og=(r,c)=>{const l=r.length,f=c.length;return{rowDelta:l-f,colDelta:0}},sg=(r,c,l,f)=>{const p=c.section==="colgroup"?l.col:l.cell;return Z(r,k=>us(p(),!0,f(k)))},Xw=(r,c,l,f)=>{const p=r[r.length-1];return r.concat(Z(c,()=>{const k=p.section==="colgroup"?l.colgroup:l.row,C=uf(p,k,ge),z=sg(C.cells.length,C,l,I=>Fe(f,I.toString()));return fc(C,z)}))},sm=(r,c,l,f)=>Pe(r,p=>{const k=sg(c,p,l,Le);return fs(p,f,k)}),Ii=(r,c,l)=>Pe(r,f=>en(l,(p,k)=>{const C=sg(1,f,c,Ve)[0];return vd(p,k,C)},f)),Pf=(r,c,l)=>{const f=c.colDelta<0?sm:ge,p=c.rowDelta<0?Xw:ge,k=dc(r),C=Rr(r[0]),z=qt(k,he=>he===C-1),I=f(r,Math.abs(c.colDelta),l,z?C-1:C),Y=dc(I);return p(I,Math.abs(c.rowDelta),l,me(Y,Ve))},Zw=(r,c,l,f)=>{const p=Oo(r[c],l),k=ot(f,p.element),C=r[c];return r.length>1&&Rr(C)>1&&(l>0&&k(zs(C,l-1))||l<C.cells.length-1&&k(zs(C,l+1))||c>0&&k(zs(r[c-1],l))||c<r.length-1&&k(zs(r[c+1],l)))},hy=(r,c,l,f,p,k)=>{const C=r.row,z=r.column,I=l.length,Y=Rr(l[0]),he=C+I,ct=z+Y+k.length,Tt=me(k,Ve);for(let Ct=C;Ct<he;Ct++){let Ye=0;for(let Rt=z;Rt<ct;Rt++){if(Tt[Rt]){Ye++;continue}Zw(c,Ct,Rt,p)&&$i(c,zs(c[Ct],Rt),p,f.cell);const Xe=Rt-z-Ye,Kt=Oo(l[Ct-C],Xe),Cn=Kt.element,Fn=f.replace(Cn);ul(c[Ct],Rt,us(Fn,!0,Kt.isLocked))}}return c},Qw=(r,c,l)=>{const f=Rr(c[0]),p=Ss(c).cols.length+r.row,k=Z(f-r.column,z=>z+r.column),C=wn(k,z=>we(l,I=>I!==z)).getOr(f-1);return{row:p,column:C}},yy=(r,c,l)=>Rn(l,f=>f>=r.column&&f<=Rr(c[0])+r.column),by=(r,c,l,f,p)=>{const k=dc(c),C=Qw(r,c,k),z=Ss(l).rows,I=yy(C,z,k);return Yw(C,c,z).map(he=>{const ct={...he,colDelta:he.colDelta-I.length},Tt=Pf(c,ct,f),Ct=dc(Tt),Ye=yy(C,z,Ct);return hy(C,Tt,z,f,p,Ye)})},ky=(r,c,l,f,p)=>{xl(c,r,p,f.cell);const k=og(l,c),C=Pf(l,k,f),z=og(c,C),I=Pf(c,z,f);return Pe(I,(Y,he)=>fs(Y,r,C[he].cells))},rg=(r,c,l,f,p)=>{my(c,r,p,f.cell);const k=dc(c),C=gy(c,l),z={...C,colDelta:C.colDelta-k.length},I=Pf(c,z,f),{cols:Y,rows:he}=Ss(I),ct=dc(I),Tt=gy(l,c),Ct={...Tt,colDelta:Tt.colDelta+ct.length},Ye=Ii(l,f,ct),Rt=Pf(Ye,Ct,f);return[...Y,...he.slice(0,r),...Rt,...he.slice(r,he.length)]},Jw=(r,c,l,f)=>uf(r,p=>f(p,l),c),bu=(r,c,l,f,p)=>{const{rows:k,cols:C}=Ss(r),z=k.slice(0,c),I=k.slice(c),Y=Jw(k[l],(he,ct)=>c>0&&c<k.length&&f(zs(k[c-1],ct),zs(k[c],ct))?Oo(k[c],ct):us(p(he.element,f),!0,he.isLocked),f,p);return[...C,...z,Y,...I]},e_=(r,c,l,f,p,k,C)=>{if(l==="colgroup"||!f){const z=Oo(r,p);return us(C(z.element,k),!0,!1)}else return Oo(r,c)},ku=(r,c,l,f,p)=>Pe(r,k=>{const C=c>0&&c<Rr(k)&&f(zs(k,c-1),zs(k,c)),z=e_(k,c,k.section,C,l,f,p);return vd(k,c,z)}),ag=(r,c)=>re(r,l=>{const f=l.cells,p=an(c,(k,C)=>C>=0&&C<k.length?k.slice(0,C).concat(k.slice(C+1)):k,f);return p.length>0?[R(l.element,p,l.section,l.isNew)]:[]}),wy=(r,c,l)=>{const{rows:f,cols:p}=Ss(r);return[...p,...f.slice(0,c),...f.slice(l+1)]},rm=(r,c,l,f)=>zs(r[c],l)!==void 0&&c>0&&f(zs(r[c-1],l),zs(r[c],l)),cg=(r,c,l)=>c>0&&l(zs(r,c-1),zs(r,c)),am=(r,c,l,f)=>rm(r,c,l,f)||cg(r[c],l,f),_y=(r,c)=>we(c,ge)&&xs(r.cells)?Ve:(f,p,k)=>!(ue(f.element)==="th"&&c[k]),ig=(r,c)=>we(c,ge)&&xs(r)?Ve:(f,p,k)=>!(ue(f.element)==="th"&&c[p]),vy=(r,c,l,f)=>{const p=C=>C==="row"?$a(c):ta(c),k=C=>p(C)?`${C}group`:C;return r?qa(c)?k(l):null:f&&qa(c)?k(l==="row"?"col":"row"):null},t_=(r,c)=>(l,f,p)=>L.some(vy(r,l.element,"col",c[p])),Cy=(r,c)=>(l,f)=>L.some(vy(r,l.element,"row",c[f])),qc=(r,c,l)=>us(l(r.element,c),!0,r.isLocked),Vc=(r,c,l,f,p,k,C)=>{const z=I=>qt(c,Y=>l(I.element,Y.element));return Pe(r,(I,Y)=>fl(I,(he,ct)=>{if(z(he)){const Tt=C(he,Y,ct)?p(he,l,f):he;return k(Tt,Y,ct).each(Ct=>{Vn(Tt.element,{scope:L.from(Ct)})}),Tt}else return he}))},Sy=(r,c,l)=>re(r,(f,p)=>am(r,p,c,l)?[]:[Oo(f,c)]),je=(r,c,l)=>{const f=r[c];return re(f.cells,(p,k)=>am(r,c,k,l)?[]:[p])},Bf=(r,c,l,f,p)=>{const k=Ss(r).rows,C=re(c,he=>Sy(k,he,f)),z=Pe(k,he=>xs(he.cells)),I=ig(C,z),Y=Cy(l,z);return Vc(r,C,f,p,qc,Y,I)},n_=(r,c,l,f,p,k,C)=>{const{cols:z,rows:I}=Ss(r),Y=I[c[0]],he=re(c,Xe=>je(I,Xe,p)),ct=Pe(Y.cells,(Xe,Kt)=>xs(Sy(I,Kt,p))),Tt=[...I];yt(c,Xe=>{Tt[Xe]=C.transformRow(I[Xe],l)});const Ct=[...z,...Tt],Ye=_y(Y,ct),Rt=t_(f,ct);return Vc(Ct,he,p,k,C.transformCell,Rt,Ye)},xy=(r,c,l,f)=>{const p=Ss(r).rows,k=Pe(c,C=>Oo(p[C.row],C.column));return Vc(r,k,l,f,qc,L.none,Ve)},_r={generate:r=>{if(!Ee(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const c=[],l={};return yt(r,(f,p)=>{const k=kt(f);if(k.length!==1)throw new Error("one and only one name per case");const C=k[0],z=f[C];if(l[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ee(z))throw new Error("case arguments must be an array");c.push(C),l[C]=(...I)=>{const Y=I.length;if(Y!==z.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+z.length+" ("+z+"), got "+Y);return{fold:(...ct)=>{if(ct.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+ct.length);return ct[p].apply(null,I)},match:ct=>{const Tt=kt(ct);if(c.length!==Tt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+Tt.join(","));if(!we(c,Ye=>Ze(Tt,Ye)))throw new Error("Not all branches were specified when using match. Specified: "+Tt.join(", ")+`
Required: `+c.join(", "));return ct[C].apply(null,I)},log:ct=>{console.log(ct,{constructors:c,constructor:C,params:I})}}}}),l}},El={..._r.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ty=(r,c)=>r.length===0?El.none():r.length===1?El.only(0):c===0?El.left(0,1):c===r.length-1?El.right(c-1,c):c>0&&c<r.length-1?El.middle(c-1,c,c+1):El.none(),lg=(r,c,l,f,p)=>{const k=r.slice(0),C=Ty(r,c),z=ke(Pe(k,ke(0))),I=Tt=>f.singleColumnWidth(k[Tt],l),Y=(Tt,Ct)=>p.calcLeftEdgeDeltas(k,Tt,Ct,l,f.minCellWidth(),f.isRelative),he=(Tt,Ct,Ye)=>p.calcMiddleDeltas(k,Tt,Ct,Ye,l,f.minCellWidth(),f.isRelative),ct=(Tt,Ct)=>p.calcRightEdgeDeltas(k,Tt,Ct,l,f.minCellWidth(),f.isRelative);return C.fold(z,I,Y,he,ct)},zy=(r,c,l)=>{let f=0;for(let p=r;p<c;p++)f+=l[p]!==void 0?l[p]:0;return f},Ay=(r,c)=>{const l=In.justCells(r);return Pe(l,f=>{const p=zy(f.column,f.column+f.colspan,c);return{element:f.element,width:p,colspan:f.colspan}})},s_=(r,c)=>{const l=In.justColumns(r);return Pe(l,(f,p)=>({element:f.element,width:c[p],colspan:f.colspan}))},Ny=(r,c)=>{const l=In.justCells(r);return Pe(l,f=>{const p=zy(f.row,f.row+f.rowspan,c);return{element:f.element,height:p,rowspan:f.rowspan}})},r_=(r,c)=>Pe(r.all,(l,f)=>({element:l.element,height:c[f]})),Ry=r=>an(r,(c,l)=>c+l,0),a_=(r,c)=>In.hasColumns(r)?s_(r,c):Ay(r,c),ug=(r,c,l)=>{const f=a_(r,c);yt(f,p=>{l.setElementWidth(p.element,p.width)})},fg=(r,c,l,f,p)=>{const k=In.fromTable(r),C=p.getCellDelta(c),z=p.getWidths(k,p),I=l===k.grid.columns-1,Y=f.clampTableDelta(z,l,C,p.minCellWidth(),I),he=lg(z,l,Y,p,f),ct=Pe(he,(Tt,Ct)=>Tt+z[Ct]);ug(k,ct,p),f.resizeTable(p.adjustTableWidth,Y,I)},cm=(r,c,l,f)=>{const p=In.fromTable(r),k=xf(p,r,f),C=Pe(k,(he,ct)=>l===ct?Math.max(c+he,na()):he),z=Ny(p,C),I=r_(p,C);yt(I,he=>{ja(he.element,he.height)}),yt(z,he=>{ja(he.element,he.height)});const Y=Ry(C);ja(r,Y)},c_=(r,c,l,f,p)=>{const k=In.generate(c),C=f.getWidths(k,f),z=f.pixelWidth(),{newSizes:I,delta:Y}=p.calcRedestributedWidths(C,z,l.pixelDelta,f.isRelative);ug(k,I,f),f.adjustTableWidth(Y)},Dy=(r,c,l,f)=>{const p=In.generate(c),k=f.getWidths(p,f);ug(p,k,f)},wu=r=>en(r,(l,f)=>qt(l,k=>k.column===f.column)?l:l.concat([f]),[]).sort((l,f)=>l.column-f.column),im=To("col"),dg=To("colgroup"),mg=r=>ue(r)==="tr"||dg(r),Oy=r=>{const c=ts(r,"colspan",1),l=ts(r,"rowspan",1);return{element:r,colspan:c,rowspan:l}},i_=(r,c=Oy)=>{const l=z=>im(z.element)?r.col(z):r.cell(z),f=z=>dg(z.element)?r.colgroup(z):r.row(z),p=z=>{if(mg(z))return f({element:z});{const I=z,Y=l(c(I));return k=L.some({item:I,replacement:Y}),Y}};let k=L.none();return{getOrInit:(z,I)=>k.fold(()=>p(z),Y=>I(z,Y.item)?Y.replacement:p(z))}},Py=r=>c=>{const l=[],f=(C,z)=>wn(l,I=>z(I.item,C)),p=C=>{const z=r==="td"?{scope:null}:{},I=c.replace(C,r,z);return l.push({item:C,sub:I}),I};return{replaceOrInit:(C,z)=>{if(mg(C)||im(C))return C;{const I=C;return f(I,z).fold(()=>p(I),Y=>z(C,Y.item)?Y.sub:p(I))}}}},By=r=>Vo(r,"scope").map(c=>c.substr(0,3)),Or={modification:i_,transform:Py,merging:r=>({unmerge:f=>{const p=By(f);return p.each(k=>wo(f,"scope",k)),()=>{const k=r.cell({element:f,colspan:1,rowspan:1});return ur(k,"width"),ur(f,"width"),p.each(C=>wo(k,"scope",C)),k}},merge:f=>{const p=()=>{const k=Zo(Pe(f,By));if(k.length===0)return L.none();{const C=k[0],z=["row","col"];return qt(k,Y=>Y!==C&&Ze(z,Y))?L.none():L.from(C)}};return ur(f[0],"width"),p().fold(()=>lo(f[0],"scope"),k=>wo(f[0],"scope",k+"group")),ke(f[0])}})},$y=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],l_=(r,c)=>{const l=r.property().name(c);return Ze(["ol","ul"],l)},Fy=(r,c)=>{const l=r.property().name(c);return Ze($y,l)},Iy=(r,c)=>Ze(["br","img","hr","input"],r.property().name(c)),lm=uu(),Ly=r=>Fy(lm,r),Pr=r=>l_(lm,r),OE=r=>Iy(lm,r),wc=r=>{const c=To("br"),l=I=>we(I,Y=>c(Y)||No(Y)&&vn(Y).trim().length===0),f=I=>ue(I)==="li"||ea(I,Pr).isSome(),p=I=>vt(I).map(Y=>Ly(Y)?!0:OE(Y)?ue(Y)!=="img":!1).getOr(!1),k=I=>Ua(I).bind(Y=>{const he=p(Y);return q(Y).map(ct=>he===!0||f(ct)||c(Y)||Ly(ct)&&!Et(I,ct)?[]:[O.fromTag("br")])}).getOr([]),z=(()=>{const I=re(r,Y=>{const he=wt(Y);return l(he)?[]:he.concat(k(Y))});return I.length===0?[O.fromTag("br")]:I})();Jo(r[0]),to(r[0],z)},My=r=>cy(r,!0),jy=r=>{Za(r).length===0&&es(r)},um=(r,c)=>({grid:r,cursor:c}),u_=r=>Ue(r,c=>Ue(c.cells,l=>{const f=l.element;return zo(My(f),f)})),f_=(r,c,l)=>{var f,p;const k=Ss(r).rows;return L.from((p=(f=k[c])===null||f===void 0?void 0:f.cells[l])===null||p===void 0?void 0:p.element).filter(My).orThunk(()=>u_(k))},Br=(r,c,l)=>{const f=f_(r,c,l);return um(r,f)},$f=r=>en(r,(l,f)=>qt(l,k=>k.row===f.row)?l:l.concat([f]),[]).sort((l,f)=>l.row-f.row),d_=(r,c,l,f)=>{const p=c[0].row,k=$f(c),C=an(k,(z,I)=>({grid:bu(z.grid,p,I.row+z.delta,l,f.getOrInit),delta:z.delta+1}),{grid:r,delta:0}).grid;return Br(C,p,c[0].column)},m_=(r,c,l,f)=>{const p=$f(c),k=p[p.length-1],C=k.row+k.rowspan,z=an(p,(I,Y)=>bu(I,C,Y.row,l,f.getOrInit),r);return Br(z,C,c[0].column)},pg=(r,c,l,f)=>{const p=c.details,k=wu(p),C=k[0].column,z=an(k,(I,Y)=>({grid:ku(I.grid,C,Y.column+I.delta,l,f.getOrInit),delta:I.delta+1}),{grid:r,delta:0}).grid;return Br(z,p[0].row,C)},p_=(r,c,l,f)=>{const p=c.details,k=p[p.length-1],C=k.column+k.colspan,z=wu(p),I=an(z,(Y,he)=>ku(Y,C,he.column,l,f.getOrInit),r);return Br(I,p[0].row,C)},g_=(r,c,l,f)=>{const p=wu(c),k=Pe(p,z=>z.column),C=Bf(r,k,!0,l,f.replaceOrInit);return Br(C,c[0].row,c[0].column)},h_=(r,c,l,f)=>{const p=xy(r,c,l,f.replaceOrInit);return Br(p,c[0].row,c[0].column)},Uy=(r,c,l,f)=>{const p=wu(c),k=Pe(p,z=>z.column),C=Bf(r,k,!1,l,f.replaceOrInit);return Br(C,c[0].row,c[0].column)},Jt=(r,c,l,f)=>{const p=xy(r,c,l,f.replaceOrInit);return Br(p,c[0].row,c[0].column)},Ff=(r,c)=>(l,f,p,k,C)=>{const z=$f(f),I=Pe(z,he=>he.row),Y=n_(l,I,r,c,p,k.replaceOrInit,C);return Br(Y,f[0].row,f[0].column)},Hy=Ff("thead",!0),y_=Ff("tbody",!1),b_=Ff("tfoot",!1),k_=(r,c,l,f)=>{const p=wu(c.details),k=ag(r,Pe(p,z=>z.column)),C=k.length>0?k[0].cells.length-1:0;return Br(k,p[0].row,Math.min(p[0].column,C))},Wy=(r,c,l,f)=>{const p=$f(c),k=wy(r,p[0].row,p[p.length-1].row),C=k.length>0?k.length-1:0;return Br(k,Math.min(c[0].row,C),c[0].column)},w_=(r,c,l,f)=>{const p=c.cells;wc(p);const k=dy(r,c.bounds,l,f.merge(p));return um(k,L.from(p[0]))},__=(r,c,l,f)=>{const k=an(c,(C,z)=>$i(C,z,l,f.unmerge(z)),r);return um(k,L.from(c[0]))},qy=(r,c,l,f)=>{const k=((I,Y)=>{const he=In.fromTable(I);return Df(he,Y,!0)})(c.clipboard,c.generators),C=Mr(c.row,c.column);return by(C,r,k,c.generators,l).fold(()=>um(r,L.some(c.element)),I=>Br(I,c.row,c.column))},fm=(r,c,l)=>{const f=zc(r,l.section),p=In.generate(f);return Df(p,c,!0)},fa=(r,c,l,f)=>{const p=Ss(r).rows,k=c.cells[0].column,C=p[c.cells[0].row],z=fm(c.clipboard,c.generators,C),I=ky(k,r,z,c.generators,l);return Br(I,c.cells[0].row,c.cells[0].column)},If=(r,c,l,f)=>{const p=Ss(r).rows,k=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,C=p[c.cells[0].row],z=fm(c.clipboard,c.generators,C),I=ky(k,r,z,c.generators,l);return Br(I,c.cells[0].row,c.cells[0].column)},v_=(r,c,l,f)=>{const p=Ss(r).rows,k=c.cells[0].row,C=p[k],z=fm(c.clipboard,c.generators,C),I=rg(k,r,z,c.generators,l);return Br(I,c.cells[0].row,c.cells[0].column)},C_=(r,c,l,f)=>{const p=Ss(r).rows,k=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,C=p[c.cells[0].row],z=fm(c.clipboard,c.generators,C),I=rg(k,r,z,c.generators,l);return Br(I,c.cells[0].row,c.cells[0].column)},S_=(r,c)=>{const l=In.fromTable(r);return Wc(l,c).bind(p=>{const k=p[p.length-1],C=p[0].column,z=k.column+k.colspan,I=ie(Pe(l.all,Y=>Rn(Y.cells,he=>he.column>=C&&he.column<z)));return Cl(I)}).getOr("")},x_=(r,c)=>{const l=In.fromTable(r);return Wc(l,c).bind(Cl).getOr("")},E_=(r,c)=>{const l=In.fromTable(r);return Wc(l,c).bind(p=>{const k=p[p.length-1],C=p[0].row,z=k.row+k.rowspan,I=l.all.slice(C,z);return Jp(I)}).getOr("")},dm=(r,c,l,f)=>Dy(r,c,l,f.sizing),mm=(r,c,l,f)=>c_(r,c,l,f.sizing,f.resize),Vy=(r,c)=>qt(c,l=>l.column===0&&l.isLocked),gg=(r,c)=>qt(c,l=>l.column+l.colspan>=r.grid.columns&&l.isLocked),Gy=(r,c)=>{const l=mc(r),f=wu(c);return en(f,(p,k)=>{const z=l[k.column].map(kr).getOr(0);return p+z},0)},Ky=r=>(c,l)=>Wc(c,l).filter(f=>!(r?Vy:gg)(c,f)).map(f=>({details:f,pixelDelta:Gy(c,f)})),T_=(r,c)=>kc(r,c).map(l=>({details:l,pixelDelta:-Gy(r,l)})),Yy=r=>(c,l)=>nm(c,l).filter(f=>!(r?Vy:gg)(c,f.cells)),hg=Or.transform("th"),pm=Or.transform("td"),yg=Gs(d_,Wc,xe,xe,Or.modification),Xy=Gs(m_,Wc,xe,xe,Or.modification),z_=Gs(pg,Ky(!0),mm,xe,Or.modification),Zy=Gs(p_,Ky(!1),mm,xe,Or.modification),A_=Gs(k_,T_,mm,jy,Or.modification),N_=Gs(Wy,Wc,xe,jy,Or.modification),R_=Gs(g_,kc,xe,xe,hg),Qy=Gs(Uy,kc,xe,xe,pm),D_=Gs(Hy,kc,xe,xe,hg),O_=Gs(y_,kc,xe,xe,pm),Jy=Gs(b_,kc,xe,xe,pm),P_=Gs(h_,kc,xe,xe,hg),B_=Gs(Jt,kc,xe,xe,pm),eb=Gs(w_,Gw,dm,xe,Or.merging),$_=Gs(__,Kw,dm,xe,Or.merging),_u=Gs(qy,qw,dm,xe,Or.modification),F_=Gs(fa,Yy(!0),xe,xe,Or.modification),bg=Gs(If,Yy(!1),xe,xe,Or.modification),I_=Gs(v_,nm,xe,xe,Or.modification),Lf=Gs(C_,nm,xe,xe,Or.modification),L_=S_,M_=x_,j_=E_,tb=(r,c)=>r.dispatch("NewRow",{node:c}),gm=(r,c)=>r.dispatch("NewCell",{node:c}),Tl=(r,c,l)=>{r.dispatch("TableModified",{...l,table:c})},U_=(r,c,l,f,p)=>{r.dispatch("TableSelectionChange",{cells:c,start:l,finish:f,otherCells:p})},H_=r=>{r.dispatch("TableSelectionClear")},W_=(r,c,l,f,p)=>{r.dispatch("ObjectResizeStart",{target:c,width:l,height:f,origin:p})},q_=(r,c,l,f,p)=>{r.dispatch("ObjectResized",{target:c,width:l,height:f,origin:p})},hm={structure:!1,style:!0},As={structure:!0,style:!1},V_={structure:!0,style:!0},Gc=r=>c=>c.options.get(r),nb="100%",ob=r=>{var c;const l=r.dom,f=(c=l.getParent(r.selection.getStart(),l.isBlock))!==null&&c!==void 0?c:r.getBody();return ca(O.fromDom(f))+"px"},G_=(r,c)=>Mf(r)||!lb(r)?c:Kc(r)?{...c,width:ob(r)}:{...c,width:nb},K_=(r,c)=>Mf(r)||lb(r)?c:Kc(r)?{...c,width:ob(r)}:{...c,width:nb},sb=r=>{const c=r.options.register;c("table_clone_elements",{processor:"string[]"}),c("table_use_colgroups",{processor:"boolean",default:!0}),c("table_header_type",{processor:l=>{const f=Ze(["section","cells","sectionCells","auto"],l);return f?{value:l,valid:f}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),c("table_sizing_mode",{processor:"string",default:"auto"}),c("table_default_attributes",{processor:"object",default:{border:"1"}}),c("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),c("table_column_resizing",{processor:l=>{const f=Ze(["preservetable","resizetable"],l);return f?{value:l,valid:f}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),c("table_resize_bars",{processor:"boolean",default:!0}),c("table_style_by_css",{processor:"boolean",default:!0})},rb=r=>L.from(r.options.get("table_clone_elements")),Y_=r=>{const c=r.options.get("object_resizing");return Ze(c.split(","),"table")},ab=Gc("table_header_type"),kg=Gc("table_column_resizing"),cb=r=>kg(r)==="preservetable",ib=r=>kg(r)==="resizetable",wg=Gc("table_sizing_mode"),ym=r=>wg(r)==="relative",Kc=r=>wg(r)==="fixed",Mf=r=>wg(r)==="responsive",X_=Gc("table_resize_bars"),lb=Gc("table_style_by_css"),Z_=r=>{const c=r.options,l=c.get("table_default_attributes");return c.isSet("table_default_attributes")?l:K_(r,l)},Q_=r=>{const c=r.options,l=c.get("table_default_styles");return c.isSet("table_default_styles")?l:G_(r,l)},J_=Gc("table_use_colgroups"),ub=(r,c)=>ym(r)?hc.percentageSize(c):Kc(r)?hc.pixelSize(c):hc.getTableSize(c),e0=(r,c,l)=>{const f=rr=>ue(lu(rr))==="table",p=rr=>f(r)===!1||Jd(rr).rows>1,k=rr=>f(r)===!1||Jd(rr).columns>1,C=rb(r),z=ib(r)?xe:du,I=rr=>{switch(ab(r)){case"section":return Hr.section();case"sectionCells":return Hr.sectionCells();case"cells":return Hr.cells();default:return Hr.getTableSectionType(rr,"section")}},Y=(rr,ah)=>ah.cursor.fold(()=>{const nd=Za(rr);return W(nd).filter(Do).map(Cc=>{l.clearSelectedCells(rr.dom);const Ks=r.dom.createRng();return Ks.selectNode(Cc.dom),r.selection.setRng(Ks),wo(Cc,"data-mce-selected","1"),Ks})},nd=>{const Cc=Lw(nd),Ks=r.dom.createRng();return Ks.setStart(Cc.element.dom,Cc.offset),Ks.setEnd(Cc.element.dom,Cc.offset),r.selection.setRng(Ks),l.clearSelectedCells(rr.dom),L.some(Ks)}),he=(rr,ah,nd,Cc)=>(Ks,Vv,Gv=!1)=>{Wa(Ks);const Kv=O.fromDom(r.getDoc()),A1=Yo(nd,Kv,C),Yv={sizing:ub(r,Ks),resize:ib(r)?ny():mu(),section:I(Ks)};return ah(Ks)?rr(Ks,Vv,A1,Yv).bind(ch=>{c.refresh(Ks.dom),yt(ch.newRows,od=>{tb(r,od.dom)}),yt(ch.newCells,od=>{gm(r,od.dom)});const N1=Y(Ks,ch);return Do(Ks)&&(Wa(Ks),Gv||Tl(r,Ks.dom,Cc)),N1.map(od=>({rng:od,effect:Cc}))}):L.none()},ct=he(N_,p,xe,As),Tt=he(A_,k,xe,As),Ct=he(yg,Ve,xe,As),Ye=he(Xy,Ve,xe,As),Rt=he(z_,Ve,z,As),Xe=he(Zy,Ve,z,As),Kt=he(eb,Ve,xe,As),Cn=he($_,Ve,xe,As),Fn=he(F_,Ve,xe,As),Qo=he(bg,Ve,xe,As),Ms=he(I_,Ve,xe,As),Xo=he(Lf,Ve,xe,As),Vr=he(_u,Ve,xe,V_),qu=he(P_,Ve,xe,As),td=he(B_,Ve,xe,As),z1=he(R_,Ve,xe,As),np=he(Qy,Ve,xe,As),Po=he(D_,Ve,xe,As),pr=he(O_,Ve,xe,As),gr=he(Jy,Ve,xe,As);return{deleteRow:ct,deleteColumn:Tt,insertRowsBefore:Ct,insertRowsAfter:Ye,insertColumnsBefore:Rt,insertColumnsAfter:Xe,mergeCells:Kt,unmergeCells:Cn,pasteColsBefore:Fn,pasteColsAfter:Qo,pasteRowsBefore:Ms,pasteRowsAfter:Xo,pasteCells:Vr,makeCellsHeader:qu,unmakeCellsHeader:td,makeColumnsHeader:z1,unmakeColumnsHeader:np,makeRowsHeader:Po,makeRowsBody:pr,makeRowsFooter:gr,getTableRowType:j_,getTableCellType:M_,getTableColType:L_}},fb=(r,c,l)=>{const f=ts(r,c,1);l===1||f<=1?lo(r,c):wo(r,c,Math.min(l,f))},_g=(r,c)=>l=>{const f=l.column+l.colspan-1,p=l.column;return f>=r&&p<c},db=(r,c,l)=>{if(In.hasColumns(r)){const f=Rn(In.justColumns(r),_g(c,l)),p=Pe(f,C=>{const z=Hs(C.element);return fb(z,"span",l-c),z}),k=O.fromTag("colgroup");return to(k,p),[k]}else return[]},t0=(r,c,l)=>Pe(r.all,f=>{const p=Rn(f.cells,_g(c,l)),k=Pe(p,z=>{const I=Hs(z.element);return fb(I,"colspan",l-c),I}),C=O.fromTag("tr");return to(C,k),C}),n0=(r,c)=>{const l=In.fromTable(r);return kc(l,c).map(p=>{const k=p[p.length-1],C=p[0].column,z=k.column+k.colspan,I=db(l,C,z),Y=t0(l,C,z);return[...I,...Y]})},o0=(r,c,l)=>{const f=In.fromTable(r);return Wc(f,c).bind(k=>{const C=Df(f,l,!1),I=Ss(C).rows.slice(k[0].row,k[k.length-1].row+k[k.length-1].rowspan),Y=re(I,ct=>{const Tt=Rn(ct.cells,Ct=>!Ct.isLocked);return Tt.length>0?[{...ct,cells:Tt}]:[]}),he=Of(Y);return zo(he.length>0,he)}).map(k=>pu(k))},jf=_r.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),mb=(r,c,l)=>{const f=l.substring(0,l.length-r.length),p=parseFloat(f);return f===p.toString()?c(p):jf.invalid(l)},zl={...jf,from:r=>V(r,"%")?mb("%",jf.percent,r):V(r,"px")?mb("px",jf.pixels,r):jf.invalid(r)},r0=(r,c)=>Pe(r,l=>zl.from(l).fold(()=>l,p=>p/c*100+"%",p=>p+"%")),pb=(r,c,l)=>{const f=l/c;return Pe(r,p=>zl.from(p).fold(()=>p,C=>C*f+"px",C=>C/100*l+"px"))},gb=(r,c)=>{const l=r.fold(()=>ke(""),f=>{const p=f/c;return ke(p+"px")},()=>{const f=100/c;return ke(f+"%")});return Z(c,l)},hb=(r,c,l)=>r.fold(()=>c,f=>pb(c,l,f),f=>r0(c,l)),vg=(r,c,l)=>{const f=zl.from(l),p=we(r,k=>k==="0px")?gb(f,r.length):hb(f,r,c);return i0(p)},bm=(r,c)=>r.length===0?c:an(r,(l,f)=>zl.from(f).fold(ke(0),ge,ge)+l,0),a0=(r,c)=>{const l=Math.floor(r);return{value:l+c,remainder:r-l}},c0=(r,c)=>zl.from(r).fold(ke(r),l=>l+c+"px",l=>l+c+"%"),i0=r=>{if(r.length===0)return r;const c=an(r,(f,p)=>{const k=zl.from(p).fold(()=>({value:p,remainder:0}),C=>a0(C,"px"),C=>({value:C+"%",remainder:0}));return{output:[k.value].concat(f.output),remainder:f.remainder+k.remainder}},{output:[],remainder:0}),l=c.output;return l.slice(0,l.length-1).concat([c0(l[l.length-1],Math.round(c.remainder))])},l0=zl.from,u0=(r,c,l)=>{yt(c,f=>{const p=r.slice(f.column,f.colspan+f.column),k=bm(p,ka());qn(f.element,"width",k+l)})},Al=(r,c,l)=>{yt(c,(f,p)=>{const k=bm([r[p]],ka());qn(f.element,"width",k+l)})},f0=(r,c,l,f)=>{yt(l,p=>{const k=r.slice(p.row,p.rowspan+p.row),C=bm(k,na());qn(p.element,"height",C+f)}),yt(c,(p,k)=>{qn(p.element,"height",r[k])})},yb=r=>l0(r).fold(ke("px"),ke("px"),ke("%")),bb=(r,c,l)=>{const f=In.fromTable(r),p=f.all,k=In.justCells(f),C=In.justColumns(f);c.each(z=>{const I=yb(z),Y=La(r),he=yl(f,r),ct=vg(he,Y,z);In.hasColumns(f)?Al(ct,C,I):u0(ct,k,I),qn(r,"width",z)}),l.each(z=>{const I=yb(z),Y=dn(r),he=wr(f,r,gl),ct=vg(he,Y,z);f0(ct,p,k,I),qn(r,"height",z)})},kb=$p,Cg=kf,wb=Ri,km=r=>{lo(r,"width")},vu=r=>{const c=ua(r);bb(r,L.some(c),L.none()),km(r)},Nl=r=>{const c=gc(r);bb(r,L.some(c),L.none()),km(r)},Cu=r=>{ur(r,"width");const c=ic(r),l=c.length>0?c:Za(r);yt(l,f=>{ur(f,"width"),km(f)}),km(r)},d0={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Sg=()=>O.fromTag("th"),m0=()=>O.fromTag("td"),_b=()=>O.fromTag("col"),vb=(r,c,l,f)=>{const p=O.fromTag("tr");for(let k=0;k<r;k++){const C=f<c||k<l?Sg():m0();k<l&&wo(C,"scope","row"),f<c&&wo(C,"scope","col"),Dn(C,O.fromTag("br")),Dn(p,C)}return p},Cb=r=>{const c=O.fromTag("colgroup");return Z(r,()=>Dn(c,_b())),c},xg=(r,c,l,f)=>Z(r,p=>vb(c,l,f,p)),p0=(r,c,l,f,p,k=d0)=>{const C=O.fromTag("table"),z=p!=="cells";ko(C,k.styles),rs(C,k.attributes),k.colGroups&&Dn(C,Cb(c));const I=Math.min(r,l);if(z&&l>0){const Ct=O.fromTag("thead");Dn(C,Ct);const Rt=xg(l,c,p==="sectionCells"?I:0,f);to(Ct,Rt)}const Y=O.fromTag("tbody");Dn(C,Y);const he=z?r-I:r,Tt=xg(he,c,z?0:l,f);return to(Y,Tt),C},Su=r=>r.dom.innerHTML,Rl=r=>{const c=O.fromTag("div"),l=O.fromDom(r.dom.cloneNode(!0));return Dn(c,l),Su(c)},wm=(r,c)=>{r.selection.select(c.dom,!0),r.selection.collapse(!0)},Uf=(r,c)=>{Un(c,"td,th").each(ot(wm,r))},g0=(r,c)=>{yt(Ps(c,"tr"),l=>{tb(r,l.dom),yt(Ps(l,"th,td"),f=>{gm(r,f.dom)})})},Li=r=>We(r)&&r.indexOf("%")!==-1,_c=(r,c,l,f,p)=>{const k=Q_(r),C={styles:k,attributes:Z_(r),colGroups:J_(r)};return r.undoManager.ignore(()=>{const z=p0(l,c,p,f,ab(r),C);wo(z,"data-mce-id","__mce");const I=Rl(z);r.insertContent(I),r.addVisual()}),Un(lu(r),'table[data-mce-id="__mce"]').map(z=>(Kc(r)?Nl(z):Mf(r)?Cu(z):(ym(r)||Li(k.width))&&vu(z),Wa(z),lo(z,"data-mce-id"),g0(r,z),Uf(r,z),z.dom)).getOr(null)},Eg=(r,c,l,f={})=>{const p=k=>tt(k)&&k>0;if(p(c)&&p(l)){const k=f.headerRows||0,C=f.headerColumns||0;return _c(r,l,c,C,k)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Hf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Sb="x-tinymce/dom-table-",_m=Sb+"rows",Dl=Sb+"columns",xu=r=>{const c=Hf.FakeClipboardItem(r);Hf.write([c])},Wf=r=>{var c;const l=(c=Hf.read())!==null&&c!==void 0?c:[];return Ue(l,f=>L.from(f.getType(r)))},Tg=r=>{Wf(r).isSome()&&Hf.clear()},Eu=r=>{r.fold(h0,c=>xu({[_m]:c}))},qf=()=>Wf(_m),h0=()=>Tg(_m),vm=r=>{r.fold(Is,c=>xu({[Dl]:c}))},Vf=()=>Wf(Dl),Is=()=>Tg(Dl),zg=r=>Yp(yc(r),Ha(r)),vc=r=>Xp(yc(r),Ha(r)),xb=(r,c)=>{const l=Ha(r),f=()=>zg(r).each(Xe=>{Ws(Xe,l).filter(le(l)).each(Kt=>{const Cn=O.fromText("");if(Xn(Kt,Cn),es(Kt),r.dom.isEmpty(r.getBody()))r.setContent(""),r.selection.setCursorLocation();else{const Fn=r.dom.createRng();Fn.setStart(Cn.dom,0),Fn.setEnd(Cn.dom,0),r.selection.setRng(Fn),r.nodeChanged()}})}),p=Xe=>zg(r).each(Kt=>{Mf(r)||Kc(r)||ym(r)||Ws(Kt,l).each(Fn=>{Xe==="relative"&&!kb(Fn)?vu(Fn):Xe==="fixed"&&!Cg(Fn)?Nl(Fn):Xe==="responsive"&&!wb(Fn)&&Cu(Fn),Wa(Fn),Tl(r,Fn.dom,As)})}),k=Xe=>Ws(Xe,l),C=Xe=>vc(r).bind(Kt=>k(Kt).map(Cn=>Xe(Cn,Kt))),z=(Xe,Kt)=>{C(Cn=>{r.formatter.toggle("tableclass",{value:Kt},Cn.dom),Tl(r,Cn.dom,hm)})},I=(Xe,Kt)=>{C(Cn=>{const Fn=bc(r),Ms=we(Fn,Xo=>r.formatter.match("tablecellclass",{value:Kt},Xo.dom))?r.formatter.remove:r.formatter.apply;yt(Fn,Xo=>Ms("tablecellclass",{value:Kt},Xo.dom)),Tl(r,Cn.dom,hm)})},Y=()=>{zg(r).each(Xe=>{Ws(Xe,l).each(Kt=>{Gt(Kt,"caption").fold(()=>{const Cn=O.fromTag("caption");Dn(Cn,O.fromText("Caption")),ar(Kt,Cn,0),r.selection.setCursorLocation(Cn.dom,0)},Cn=>{To("caption")(Xe)&&rn("td",Kt).each(Fn=>r.selection.setCursorLocation(Fn.dom,0)),es(Cn)}),Tl(r,Kt.dom,As)})})},he=Xe=>{r.focus()},ct=(Xe,Kt=!1)=>C((Cn,Fn)=>{const Qo=Gd(bc(r),Cn,Fn);Xe(Cn,Qo,Kt).each(he)}),Tt=()=>C((Xe,Kt)=>{const Cn=Gd(bc(r),Xe,Kt),Fn=Yo(xe,O.fromDom(r.getDoc()),L.none());return o0(Xe,Cn,Fn)}),Ct=()=>C((Xe,Kt)=>{const Cn=Gd(bc(r),Xe,Kt);return n0(Xe,Cn)}),Ye=(Xe,Kt)=>Kt().each(Cn=>{const Fn=Pe(Cn,Qo=>Hs(Qo));C((Qo,Ms)=>{const Xo=$s(O.fromDom(r.getDoc())),Vr=Pw(bc(r),Ms,Fn,Xo);Xe(Qo,Vr).each(he)})}),Rt=Xe=>(Kt,Cn)=>io(Cn,"type").each(Fn=>{ct(Xe(Fn),Cn.no_events)});pn({mceTableSplitCells:()=>ct(c.unmergeCells),mceTableMergeCells:()=>ct(c.mergeCells),mceTableInsertRowBefore:()=>ct(c.insertRowsBefore),mceTableInsertRowAfter:()=>ct(c.insertRowsAfter),mceTableInsertColBefore:()=>ct(c.insertColumnsBefore),mceTableInsertColAfter:()=>ct(c.insertColumnsAfter),mceTableDeleteCol:()=>ct(c.deleteColumn),mceTableDeleteRow:()=>ct(c.deleteRow),mceTableCutCol:()=>Ct().each(Xe=>{vm(Xe),ct(c.deleteColumn)}),mceTableCutRow:()=>Tt().each(Xe=>{Eu(Xe),ct(c.deleteRow)}),mceTableCopyCol:()=>Ct().each(Xe=>vm(Xe)),mceTableCopyRow:()=>Tt().each(Xe=>Eu(Xe)),mceTablePasteColBefore:()=>Ye(c.pasteColsBefore,Vf),mceTablePasteColAfter:()=>Ye(c.pasteColsAfter,Vf),mceTablePasteRowBefore:()=>Ye(c.pasteRowsBefore,qf),mceTablePasteRowAfter:()=>Ye(c.pasteRowsAfter,qf),mceTableDelete:f,mceTableCellToggleClass:I,mceTableToggleClass:z,mceTableToggleCaption:Y,mceTableSizingMode:(Xe,Kt)=>p(Kt),mceTableCellType:Rt(Xe=>Xe==="th"?c.makeCellsHeader:c.unmakeCellsHeader),mceTableColType:Rt(Xe=>Xe==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader),mceTableRowType:Rt(Xe=>{switch(Xe){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},(Xe,Kt)=>r.addCommand(Kt,Xe)),r.addCommand("mceInsertTable",(Xe,Kt)=>{Eg(r,Kt.rows,Kt.columns,Kt.options)}),r.addCommand("mceTableApplyCellStyle",(Xe,Kt)=>{const Cn=Ms=>"tablecell"+Ms.toLowerCase().replace("-","");if(!Ke(Kt))return;const Fn=bc(r);if(Fn.length===0)return;const Qo=eo(Kt,(Ms,Xo)=>r.formatter.has(Cn(Xo))&&We(Ms));Qt(Qo)||(pn(Qo,(Ms,Xo)=>{const Vr=Cn(Xo);yt(Fn,qu=>{Ms===""?r.formatter.remove(Vr,{value:null},qu.dom,!0):r.formatter.apply(Vr,{value:Ms},qu.dom)})}),k(Fn[0]).each(Ms=>Tl(r,Ms.dom,hm)))})},Ag=(r,c)=>{const l=Ha(r),f=p=>Xp(yc(r)).bind(k=>Ws(k,l).map(C=>{const z=Gd(bc(r),C,k);return p(C,z)})).getOr("");pn({mceTableRowType:()=>f(c.getTableRowType),mceTableCellType:()=>f(c.getTableCellType),mceTableColType:()=>f(c.getTableColType)},(p,k)=>r.addQueryValueHandler(k,p))},Mi=_r.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Eb=(r,c,l,f)=>r.fold(c,l,f),Cm=r=>r.fold(ge,ge,ge),y0=Mi.before,Tb=Mi.on,zb=Mi.after,vr={before:y0,on:Tb,after:zb,cata:Eb,getStart:Cm},Wr={create:(r,c)=>({selection:r,kill:c})},b0=(r,c)=>{const l=r.document.createRange();return l.selectNode(c.dom),l},k0=(r,c)=>{const l=r.document.createRange();return Nb(l,c),l},Nb=(r,c)=>r.selectNodeContents(c.dom),Rb=(r,c)=>{c.fold(l=>{r.setStartBefore(l.dom)},(l,f)=>{r.setStart(l.dom,f)},l=>{r.setStartAfter(l.dom)})},Db=(r,c)=>{c.fold(l=>{r.setEndBefore(l.dom)},(l,f)=>{r.setEnd(l.dom,f)},l=>{r.setEndAfter(l.dom)})},Ob=(r,c,l)=>{const f=r.document.createRange();return Rb(f,c),Db(f,l),f},Ng=(r,c,l,f,p)=>{const k=r.document.createRange();return k.setStart(c.dom,l),k.setEnd(f.dom,p),k},va=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),Sm=r=>{const c=r.getClientRects(),l=c.length>0?c[0]:r.getBoundingClientRect();return l.width>0||l.height>0?L.some(l).map(va):L.none()},Tu=_r.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ol=(r,c,l)=>c(O.fromDom(l.startContainer),l.startOffset,O.fromDom(l.endContainer),l.endOffset),Ca=(r,c)=>c.match({domRange:l=>({ltr:ke(l),rtl:L.none}),relative:(l,f)=>({ltr:ra(()=>Ob(r,l,f)),rtl:ra(()=>L.some(Ob(r,f,l)))}),exact:(l,f,p,k)=>({ltr:ra(()=>Ng(r,l,f,p,k)),rtl:ra(()=>L.some(Ng(r,p,k,l,f)))})}),tc=(r,c)=>{const l=c.ltr();return l.collapsed?c.rtl().filter(p=>p.collapsed===!1).map(p=>Tu.rtl(O.fromDom(p.endContainer),p.endOffset,O.fromDom(p.startContainer),p.startOffset)).getOrThunk(()=>Ol(r,Tu.ltr,l)):Ol(r,Tu.ltr,l)},Cr=(r,c)=>{const l=Ca(r,c);return tc(r,l)},Va=(r,c)=>Cr(r,c).match({ltr:(f,p,k,C)=>{const z=r.document.createRange();return z.setStart(f.dom,p),z.setEnd(k.dom,C),z},rtl:(f,p,k,C)=>{const z=r.document.createRange();return z.setStart(k.dom,C),z.setEnd(f.dom,p),z}});Tu.ltr,Tu.rtl;const da={create:(r,c,l,f)=>({start:r,soffset:c,finish:l,foffset:f})},Pb={create:(r,c,l,f)=>({start:vr.on(r,c),finish:vr.on(l,f)})},Bb=(r,c)=>{const l=Va(r,c);return da.create(O.fromDom(l.startContainer),l.startOffset,O.fromDom(l.endContainer),l.endOffset)},xm=Pb.create,$b=(r,c,l,f,p,k,C)=>Et(l,p)&&f===k?L.none():Zn(l,"td,th",c).bind(z=>Zn(p,"td,th",c).bind(I=>Rg(r,c,z,I,C))),Rg=(r,c,l,f,p)=>Et(l,f)?L.none():Wd(l,f,c).bind(k=>{const C=k.boxes.getOr([]);return C.length>1?(p(r,C,k.start,k.finish),L.some(Wr.create(L.some(xm(l,0,l,uo(l))),!0))):L.none()}),Em=(r,c,l,f,p)=>{const k=C=>(p.clearBeforeUpdate(l),p.selectRange(l,C.boxes,C.start,C.finish),C.boxes);return Oi(f,r,c,p.firstSelectedSelector,p.lastSelectedSelector).map(k)},Tm=(r,c)=>({item:r,mode:c}),Fb=(r,c,l,f=Au)=>r.property().parent(c).map(p=>Tm(p,f)),Au=(r,c,l,f=Gf)=>l.sibling(r,c).map(p=>Tm(p,f)),Gf=(r,c,l,f=Gf)=>{const p=r.property().children(c);return l.first(p).map(C=>Tm(C,f))},_0=[{current:Fb,next:Au,fallback:L.none()},{current:Au,next:Gf,fallback:L.some(Fb)},{current:Gf,next:Gf,fallback:L.some(Au)}],Dg=(r,c,l,f,p=_0)=>wn(p,C=>C.current===l).bind(C=>C.current(r,c,f,C.next).orThunk(()=>C.fallback.bind(z=>Dg(r,c,z,f)))),Og={left:()=>({sibling:(l,f)=>l.query().prevSibling(f),first:l=>l.length>0?L.some(l[l.length-1]):L.none()}),right:()=>({sibling:(l,f)=>l.query().nextSibling(f),first:l=>l.length>0?L.some(l[0]):L.none()})},Pg=(r,c,l,f,p,k)=>Dg(r,c,f,p).bind(z=>k(z.item)?L.none():l(z.item)?L.some(z.item):Pg(r,z.item,l,z.mode,p,k)),C0=(r,c,l,f)=>Pg(r,c,l,Au,Og.left(),f),S0=(r,c,l,f)=>Pg(r,c,l,Au,Og.right(),f),Lb=r=>c=>r.property().children(c).length===0,x0=(r,c,l)=>ma(r,c,Lb(r),l),E0=(r,c,l)=>T0(r,c,Lb(r),l),ma=C0,T0=S0,Pl=uu(),Nu=(r,c)=>x0(Pl,r,c),zm=(r,c)=>E0(Pl,r,c),z0=(r,c,l)=>ma(Pl,r,c,l),Bg=(r,c,l)=>T0(Pl,r,c,l),A0=(r,c,l)=>ea(r,c,l).isSome(),Am=_r.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),N0=(r,c,l)=>{const f=r.getRect(c),p=r.getRect(l);return p.right>f.left&&p.left<f.right},Mb=r=>Zn(r,"tr"),Yc={...Am,verify:(r,c,l,f,p,k,C)=>Zn(f,"td,th",C).bind(z=>Zn(c,"td,th",C).map(I=>Et(z,I)?Et(f,z)&&uo(z)===p?k(I):Am.none("in same cell"):Ud(Mb,[z,I]).fold(()=>N0(r,I,z)?Am.success():k(I),Y=>k(I)))).getOr(Am.none("default")),cata:(r,c,l,f,p)=>r.fold(c,l,f,p)},Nm=(r,c,l,f)=>({parent:r,children:c,element:l,index:f}),D0=r=>q(r).bind(c=>{const l=wt(c);return jb(l,r).map(f=>Nm(c,l,r,f))}),jb=(r,c)=>w(r,ot(Et,c)),Rm=To("br"),Kf=(r,c,l)=>c(r,l).bind(f=>No(f)&&vn(f).trim().length===0?Kf(f,c,l):L.some(f)),Ru=(r,c,l)=>l.traverse(c).orThunk(()=>Kf(c,l.gather,r)).map(l.relative),$g=(r,c)=>It(r,c).filter(Rm).orThunk(()=>It(r,c-1).filter(Rm)),O0=(r,c,l,f)=>$g(c,l).bind(p=>f.traverse(p).fold(()=>Kf(p,f.gather,r).map(f.relative),k=>D0(k).map(C=>vr.on(C.parent,C.index)))),Xc=(r,c,l,f)=>(Rm(c)?Ru(r,c,f):O0(r,c,l,f)).map(k=>({start:k,finish:k})),Fg=r=>Yc.cata(r,c=>L.none(),()=>L.none(),c=>L.some(ec(c,0)),c=>L.some(ec(c,uo(c)))),Du=(r,c)=>({left:r.left,top:r.top+c,right:r.right,bottom:r.bottom+c}),Bl=(r,c)=>({left:r.left,top:r.top-c,right:r.right,bottom:r.bottom-c}),Ig=(r,c,l)=>({left:r.left+c,top:r.top+l,right:r.right+c,bottom:r.bottom+l}),Dm=r=>r.top,P0=r=>r.bottom,B0=(r,c,l)=>l>=0&&l<uo(c)?r.getRangedRect(c,l,c,l+1):l>0?r.getRangedRect(c,l-1,c,l):L.none(),Sa=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom}),qr=(r,c)=>L.some(r.getRect(c)),Ls=(r,c,l)=>hn(c)?qr(r,c).map(Sa):No(c)?B0(r,c,l).map(Sa):L.none(),Ub=(r,c)=>hn(c)?qr(r,c).map(Sa):No(c)?r.getRangedRect(c,0,c,uo(c)).map(Sa):L.none(),Zc=5,Ou=100,nc=_r.generate([{none:[]},{retry:["caret"]}]),Hb=(r,c)=>r.left<c.left||Math.abs(c.right-r.left)<1||r.left>c.right,Wb=(r,c,l)=>x(c,Ly).fold(Le,f=>Ub(r,f).exists(p=>Hb(l,p))),$0=(r,c,l,f,p)=>{const k=Du(p,Zc);return Math.abs(l.bottom-f.bottom)<1||l.top>p.bottom?nc.retry(k):l.top===p.bottom?nc.retry(Du(p,1)):Wb(r,c,p)?nc.retry(Ig(k,Zc,0)):nc.none()},qb={point:Dm,adjuster:(r,c,l,f,p)=>{const k=Bl(p,Zc);return Math.abs(l.top-f.top)<1||l.bottom<p.top?nc.retry(k):l.bottom===p.top?nc.retry(Bl(p,1)):Wb(r,c,p)?nc.retry(Ig(k,Zc,0)):nc.none()},move:Bl,gather:Nu},I0={point:P0,adjuster:$0,move:Du,gather:zm},L0=(r,c,l)=>r.elementFromPoint(c,l).filter(f=>ue(f)==="table").isSome(),Vb=(r,c,l,f,p)=>Om(r,c,l,c.move(f,Zc),p),Om=(r,c,l,f,p)=>p===0?L.some(f):L0(r,f.left,c.point(f))?Vb(r,c,l,f,p-1):r.situsFromPoint(f.left,c.point(f)).bind(k=>k.start.fold(L.none,C=>Ub(r,C).bind(z=>c.adjuster(r,C,z,l,f).fold(L.none,I=>Om(r,c,l,I,p-1))).orThunk(()=>L.some(f)),L.none)),Gb=(r,c,l)=>r.point(c)>l.getInnerHeight()?L.some(r.point(c)-l.getInnerHeight()):r.point(c)<0?L.some(-r.point(c)):L.none(),Lg=(r,c,l)=>{const f=r.move(l,Zc),p=Om(c,r,l,f,Ou).getOr(f);return Gb(r,p,c).fold(()=>c.situsFromPoint(p.left,r.point(p)),k=>(c.scrollBy(0,k),c.situsFromPoint(p.left,r.point(p)-k)))},Pu={tryUp:ot(Lg,qb),tryDown:ot(Lg,I0),getJumpSize:ke(Zc)},Kb=20,Bu=(r,c,l)=>r.getSelection().bind(f=>Xc(c,f.finish,f.foffset,l).fold(()=>L.some(ec(f.finish,f.foffset)),p=>{const k=r.fromSitus(p),C=Yc.verify(r,f.finish,f.foffset,k.finish,k.foffset,l.failure,c);return Fg(C)})),$l=(r,c,l,f,p,k)=>k===0?L.none():M0(r,c,l,f,p).bind(C=>{const z=r.fromSitus(C),I=Yc.verify(r,l,f,z.finish,z.foffset,p.failure,c);return Yc.cata(I,()=>L.none(),()=>L.some(C),Y=>Et(l,Y)&&f===0?Pm(r,l,f,Bl,p):$l(r,c,Y,0,p,k-1),Y=>Et(l,Y)&&f===uo(Y)?Pm(r,l,f,Du,p):$l(r,c,Y,uo(Y),p,k-1))}),Pm=(r,c,l,f,p)=>Ls(r,c,l).bind(k=>Yb(r,p,f(k,Pu.getJumpSize()))),Yb=(r,c,l)=>{const f=On().browser;return f.isChromium()||f.isSafari()||f.isFirefox()?c.retry(r,l):L.none()},M0=(r,c,l,f,p)=>Ls(r,l,f).bind(k=>Yb(r,p,k)),j0=(r,c,l)=>Bu(r,c,l).bind(f=>$l(r,c,f.element,f.offset,l,Kb).map(r.fromSitus)),U0=(r,c)=>A0(r,l=>q(l).exists(f=>Et(f,c))),Mg=(r,c,l,f,p)=>Zn(f,"td,th",c).bind(k=>Zn(k,"table",c).bind(C=>U0(p,C)?j0(r,c,l).bind(z=>Zn(z.finish,"td,th",c).map(I=>({start:k,finish:I,range:z}))):L.none())),Fl=(r,c,l,f,p,k)=>k(f,c).orThunk(()=>Mg(r,c,l,f,p).map(C=>{const z=C.range;return Wr.create(L.some(xm(z.start,z.soffset,z.finish,z.foffset)),!0)})),Yf=(r,c)=>Zn(r,"tr",c).bind(l=>Zn(l,"table",c).bind(f=>{const p=Ps(f,"tr");return Et(l,p[0])?z0(f,k=>Ua(k).isSome(),c).map(k=>{const C=uo(k);return Wr.create(L.some(xm(k,C,k,C)),!0)}):L.none()})),H0=(r,c)=>Zn(r,"tr",c).bind(l=>Zn(l,"table",c).bind(f=>{const p=Ps(f,"tr");return Et(l,p[p.length-1])?Bg(f,k=>Ja(k).isSome(),c).map(k=>Wr.create(L.some(xm(k,0,k,0)),!0)):L.none()})),Xb=(r,c,l,f,p,k,C)=>Mg(r,l,f,p,k).bind(z=>Rg(c,l,z.start,z.finish,C)),Bm=r=>{let c=r;return{get:()=>c,set:p=>{c=p}}},jg=r=>{const c=Bm(L.none()),l=()=>c.get().each(r);return{clear:()=>{l(),c.set(L.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:z=>{l(),c.set(L.some(z))}}},$u=()=>{const r=jg(xe);return{...r,on:l=>r.get().each(l)}},$m=(r,c)=>Zn(r,"td,th",c),Fm=(r,c,l,f)=>{const p=$u(),k=p.clear,C=he=>{p.on(ct=>{f.clearBeforeUpdate(c),$m(he.target,l).each(Tt=>{Wd(ct,Tt,l).each(Ct=>{const Ye=Ct.boxes.getOr([]);if(Ye.length===1){const Rt=Ye[0],Xe=Hc(Rt)==="false",Kt=nt(mr(he.target),Rt,Et);Xe&&Kt&&(f.selectRange(c,Ye,Rt,Rt),r.selectContents(Rt))}else Ye.length>1&&(f.selectRange(c,Ye,Ct.start,Ct.finish),r.selectContents(Tt))})})})};return{clearstate:k,mousedown:he=>{f.clear(c),$m(he.target,l).each(p.set)},mouseover:he=>{C(he)},mouseup:he=>{C(he),k()}}},Im={traverse:vt,gather:zm,relative:vr.before,retry:Pu.tryDown,failure:Yc.failedDown},Lm={traverse:St,gather:Nu,relative:vr.before,retry:Pu.tryUp,failure:Yc.failedUp},Fu=r=>c=>c===r,Ug=Fu(38),Mm=Fu(40),jm=r=>r>=37&&r<=40,Zb={isBackward:Fu(37),isForward:Fu(39)},W0={isBackward:Fu(39),isForward:Fu(37)},Qb=r=>{const c=r!==void 0?r.dom:document,l=c.body.scrollLeft||c.documentElement.scrollLeft,f=c.body.scrollTop||c.documentElement.scrollTop;return Qa(l,f)},q0=(r,c,l)=>{const p=(l!==void 0?l.dom:document).defaultView;p&&p.scrollBy(r,c)},Um=_r.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jb=r=>Um.exact(r.start,r.soffset,r.finish,r.foffset),Xf=r=>r.match({domRange:c=>O.fromDom(c.startContainer),relative:(c,l)=>vr.getStart(c),exact:(c,l,f,p)=>c}),e1=Um.domRange,V0=Um.relative,G0=Um.exact,K0=r=>{const c=Xf(r);return Ro(c)},Y0=da.create,Iu={domRange:e1,relative:V0,exact:G0,exactFromRange:Jb,getWin:K0,range:Y0},X0=(r,c,l)=>{var f,p;return L.from((p=(f=r.dom).caretPositionFromPoint)===null||p===void 0?void 0:p.call(f,c,l)).bind(k=>{if(k.offsetNode===null)return L.none();const C=r.dom.createRange();return C.setStart(k.offsetNode,k.offset),C.collapse(),L.some(C)})},Z0=(r,c,l)=>{var f,p;return L.from((p=(f=r.dom).caretRangeFromPoint)===null||p===void 0?void 0:p.call(f,c,l))},Q0=(()=>document.caretPositionFromPoint?X0:document.caretRangeFromPoint?Z0:L.none)(),J0=(r,c,l)=>{const f=O.fromDom(r.document);return Q0(f,c,l).map(p=>da.create(O.fromDom(p.startContainer),p.startOffset,O.fromDom(p.endContainer),p.endOffset))},Hm=(r,c)=>{const l=ue(r);return l==="input"?vr.after(r):Ze(["br","img"],l)?c===0?vr.before(r):vr.after(r):vr.on(r,c)},ev=(r,c)=>{const l=r.fold(vr.before,Hm,vr.after),f=c.fold(vr.before,Hm,vr.after);return Iu.relative(l,f)},t1=(r,c,l,f)=>{const p=Hm(r,c),k=Hm(l,f);return Iu.relative(p,k)},n1=(r,c,l,f)=>{const k=ln(r).dom.createRange();return k.setStart(r.dom,c),k.setEnd(l.dom,f),k},Hg=(r,c,l,f)=>{const p=n1(r,c,l,f),k=Et(r,l)&&c===f;return p.collapsed&&!k},Wm=r=>L.from(r.getSelection()),Wg=(r,c)=>{Wm(r).each(l=>{l.removeAllRanges(),l.addRange(c)})},qg=(r,c,l,f,p)=>{const k=Ng(r,c,l,f,p);Wg(r,k)},o1=(r,c,l,f,p,k)=>{c.collapse(l.dom,f),c.extend(p.dom,k)},s1=(r,c)=>Cr(r,c).match({ltr:(l,f,p,k)=>{qg(r,l,f,p,k)},rtl:(l,f,p,k)=>{Wm(r).each(C=>{if(C.setBaseAndExtent)C.setBaseAndExtent(l.dom,f,p.dom,k);else if(C.extend)try{o1(r,C,l,f,p,k)}catch{qg(r,p,k,l,f)}else qg(r,p,k,l,f)})}}),r1=(r,c,l,f,p)=>{const k=t1(c,l,f,p);s1(r,k)},a1=(r,c,l)=>{const f=ev(c,l);s1(r,f)},c1=r=>{if(r.rangeCount>0){const c=r.getRangeAt(0),l=r.getRangeAt(r.rangeCount-1);return L.some(da.create(O.fromDom(c.startContainer),c.startOffset,O.fromDom(l.endContainer),l.endOffset))}else return L.none()},tv=r=>{if(r.anchorNode===null||r.focusNode===null)return c1(r);{const c=O.fromDom(r.anchorNode),l=O.fromDom(r.focusNode);return Hg(c,r.anchorOffset,l,r.focusOffset)?L.some(da.create(c,r.anchorOffset,l,r.focusOffset)):c1(r)}},Vg=(r,c,l=!0)=>{const p=(l?k0:b0)(r,c);Wg(r,p)},sn=r=>Wm(r).filter(c=>c.rangeCount>0).bind(tv),ji=r=>sn(r).map(c=>Iu.exact(c.start,c.soffset,c.finish,c.foffset)),nv=(r,c)=>{const l=Va(r,c);return Sm(l)},i1=(r,c,l)=>J0(r,c,l),qm=r=>{Wm(r).each(c=>c.removeAllRanges())},Zf=r=>({elementFromPoint:(Xe,Kt)=>O.fromPoint(O.fromDom(r.document),Xe,Kt),getRect:Xe=>Xe.dom.getBoundingClientRect(),getRangedRect:(Xe,Kt,Cn,Fn)=>{const Qo=Iu.exact(Xe,Kt,Cn,Fn);return nv(r,Qo)},getSelection:()=>ji(r).map(Xe=>Bb(r,Xe)),fromSitus:Xe=>{const Kt=Iu.relative(Xe.start,Xe.finish);return Bb(r,Kt)},situsFromPoint:(Xe,Kt)=>i1(r,Xe,Kt).map(Cn=>Pb.create(Cn.start,Cn.soffset,Cn.finish,Cn.foffset)),clearSelection:()=>{qm(r)},collapseSelection:(Xe=!1)=>{ji(r).each(Kt=>Kt.fold(Cn=>Cn.collapse(Xe),(Cn,Fn)=>{const Qo=Xe?Cn:Fn;a1(r,Qo,Qo)},(Cn,Fn,Qo,Ms)=>{const Xo=Xe?Cn:Qo,Vr=Xe?Fn:Ms;r1(r,Xo,Vr,Xo,Vr)}))},setSelection:Xe=>{r1(r,Xe.start,Xe.soffset,Xe.finish,Xe.foffset)},setRelativeSelection:(Xe,Kt)=>{a1(r,Xe,Kt)},selectNode:Xe=>{Vg(r,Xe,!1)},selectContents:Xe=>{Vg(r,Xe)},getInnerHeight:()=>r.innerHeight,getScrollY:()=>Qb(O.fromDom(r.document)).top,scrollBy:(Xe,Kt)=>{q0(Xe,Kt,O.fromDom(r.document))}}),Lu=(r,c)=>({rows:r,cols:c}),l1=(r,c,l,f)=>{const p=Zf(r),k=Fm(p,c,l,f);return{clearstate:k.clearstate,mousedown:k.mousedown,mouseover:k.mouseover,mouseup:k.mouseup}},ov=(r,c,l,f)=>{const p=Zf(r),k=()=>(f.clear(c),L.none());return{keydown:(I,Y,he,ct,Tt,Ct)=>{const Ye=I.raw,Rt=Ye.which,Xe=Ye.shiftKey===!0;return qd(c,f.selectedSelector).fold(()=>(jm(Rt)&&!Xe&&f.clearBeforeUpdate(c),Mm(Rt)&&Xe?ot(Xb,p,c,l,Im,ct,Y,f.selectRange):Ug(Rt)&&Xe?ot(Xb,p,c,l,Lm,ct,Y,f.selectRange):Mm(Rt)?ot(Fl,p,l,Im,ct,Y,H0):Ug(Rt)?ot(Fl,p,l,Lm,ct,Y,Yf):L.none),Cn=>{const Fn=Qo=>()=>Ue(Qo,Xo=>Em(Xo.rows,Xo.cols,c,Cn,f)).fold(()=>Nw(c,f.firstSelectedSelector,f.lastSelectedSelector).map(Xo=>{const Vr=Mm(Rt)||Ct.isForward(Rt)?vr.after:vr.before;return p.setRelativeSelection(vr.on(Xo.first,0),Vr(Xo.table)),f.clear(c),Wr.create(L.none(),!0)}),Xo=>L.some(Wr.create(L.none(),!0)));return Mm(Rt)&&Xe?Fn([Lu(1,0)]):Ug(Rt)&&Xe?Fn([Lu(-1,0)]):Ct.isBackward(Rt)&&Xe?Fn([Lu(0,-1),Lu(-1,0)]):Ct.isForward(Rt)&&Xe?Fn([Lu(0,1),Lu(1,0)]):jm(Rt)&&!Xe?k:L.none})()},keyup:(I,Y,he,ct,Tt)=>qd(c,f.selectedSelector).fold(()=>{const Ct=I.raw,Ye=Ct.which;return Ct.shiftKey===!0&&jm(Ye)?$b(c,l,Y,he,ct,Tt,f.selectRange):L.none()},L.none)}},sv=(r,c,l,f)=>{const p=Zf(r);return(k,C)=>{f.clearBeforeUpdate(c),Wd(k,C,l).each(z=>{const I=z.boxes.getOr([]);f.selectRange(c,I,z.start,z.finish),p.selectContents(C),p.collapseSelection()})}},Vm=(r,c)=>{const l=gn(r,c);return l===void 0||l===""?[]:l.split(" ")},Gg=(r,c,l)=>{const p=Vm(r,c).concat([l]);return wo(r,c,p.join(" ")),!0},Qf=(r,c,l)=>{const f=Rn(Vm(r,c),p=>p!==l);return f.length>0?wo(r,c,f.join(" ")):lo(r,c),!1},Jf=r=>r.dom.classList!==void 0,rv=r=>Vm(r,"class"),av=(r,c)=>Gg(r,"class",c),cv=(r,c)=>Qf(r,"class",c),Ui=(r,c)=>{Jf(r)?r.dom.classList.add(c):av(r,c)},u1=r=>{(Jf(r)?r.dom.classList:rv(r)).length===0&&lo(r,"class")},iv=(r,c)=>{Jf(r)?r.dom.classList.remove(c):cv(r,c),u1(r)},Kg=(r,c)=>Jf(r)&&r.dom.classList.contains(c),lv=(r,c)=>{yt(c,l=>{iv(r,l)})},uv=r=>c=>{Ui(c,r)},Yg=r=>c=>{lv(c,r)},fv={byClass:r=>{const c=uv(r.selected),l=Yg([r.selected,r.lastSelected,r.firstSelected]),f=k=>{const C=Ps(k,r.selectedSelector);yt(C,l)};return{clearBeforeUpdate:f,clear:f,selectRange:(k,C,z,I)=>{f(k),yt(C,c),Ui(z,r.firstSelected),Ui(I,r.lastSelected)},selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}},byAttr:(r,c,l)=>{const f=I=>{lo(I,r.selected),lo(I,r.firstSelected),lo(I,r.lastSelected)},p=I=>{wo(I,r.selected,"1")},k=I=>{C(I),l()},C=I=>{const Y=Ps(I,`${r.selectedSelector},${r.firstSelectedSelector},${r.lastSelectedSelector}`);yt(Y,f)};return{clearBeforeUpdate:C,clear:k,selectRange:(I,Y,he,ct)=>{k(I),yt(Y,p),wo(he,r.firstSelected,"1"),wo(ct,r.lastSelected,"1"),c(Y,he,ct)},selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}}},dv=(r,c,l,f)=>{switch(r.tag){case"none":return c();case"single":return f(r.element);case"multiple":return l(r.elements)}},mv=()=>({tag:"none"}),Qc=r=>({tag:"multiple",elements:r}),Gm=r=>({tag:"single",element:r}),pv=(r,c,l)=>({get:()=>jc(r(),l).fold(()=>c().fold(mv,Gm),Qc)}),gv=(r,c)=>{const l=r.slice(0,c[c.length-1].row+1),f=Of(l);return re(f,p=>{const k=p.cells.slice(0,c[c.length-1].column+1);return Pe(k,C=>C.element)})},hv=(r,c)=>{const l=r.slice(c[0].row+c[0].rowspan-1,r.length),f=Of(l);return re(f,p=>{const k=p.cells.slice(c[0].column+c[0].colspan-1,p.cells.length);return Pe(k,C=>C.element)})},yv=(r,c,l)=>{const f=In.fromTable(r);return Wc(f,c).map(k=>{const C=Df(f,l,!1),{rows:z}=Ss(C),I=gv(z,k),Y=hv(z,k);return{upOrLeftCells:I,downOrRightCells:Y}})},bv=(r,c,l,f,p,k,C)=>({target:r,x:c,y:l,stop:f,prevent:p,kill:k,raw:C}),f1=r=>{const c=O.fromDom(vs(r).getOr(r.target)),l=()=>r.stopPropagation(),f=()=>r.preventDefault(),p=rt(f,l);return bv(c,r.clientX,r.clientY,l,f,p,r)},kv=(r,c)=>l=>{r(l)&&c(f1(l))},Mu=(r,c,l,f,p)=>{const k=kv(l,f);return r.dom.addEventListener(c,k,p),{unbind:ot(wv,r,c,k,p)}},Km=(r,c,l,f)=>Mu(r,c,l,f,!1),wv=(r,c,l,f)=>{r.dom.removeEventListener(c,l,f)},d1=Ve,ju=(r,c,l)=>Km(r,c,d1,l),Il=f1,Xg=r=>Kg(O.fromDom(r.target),"ephox-snooker-resizer-bar")===!1,_v=(r,c)=>{const l=pv(()=>O.fromDom(r.getBody()),()=>Xp(yc(r),Ha(r)),Uc.selectedSelector),f=(I,Y,he)=>{Ws(Y).each(Tt=>{const Ct=rb(r),Ye=Yo(xe,O.fromDom(r.getDoc()),Ct),Rt=bc(r),Xe=yv(Tt,{selection:Rt},Ye);U_(r,I,Y,he,Xe)})},p=()=>H_(r),k=fv.byAttr(Uc,f,p);return r.on("init",I=>{const Y=r.getWin(),he=lu(r),ct=Ha(r),Tt=()=>{const Po=r.selection,pr=O.fromDom(Po.getStart()),gr=O.fromDom(Po.getEnd());Ud(Ws,[pr,gr]).fold(()=>k.clear(he),xe)},Ct=l1(Y,he,ct,k),Ye=ov(Y,he,ct,k),Rt=sv(Y,he,ct,k),Xe=Po=>Po.raw.shiftKey===!0;r.on("TableSelectorChange",Po=>Rt(Po.start,Po.finish));const Kt=(Po,pr)=>{!Xe(Po)||(pr.kill&&Po.kill(),pr.selection.each(gr=>{const Ga=Iu.relative(gr.start,gr.finish),Ta=Va(Y,Ga);r.selection.setRng(Ta)}))},Cn=Po=>{const pr=Il(Po);if(pr.raw.shiftKey&&jm(pr.raw.which)){const gr=r.selection.getRng(),Ga=O.fromDom(gr.startContainer),Ta=O.fromDom(gr.endContainer);Ye.keyup(pr,Ga,gr.startOffset,Ta,gr.endOffset).each(Vu=>{Kt(pr,Vu)})}},Fn=Po=>{const pr=Il(Po);c.hide();const gr=r.selection.getRng(),Ga=O.fromDom(gr.startContainer),Ta=O.fromDom(gr.endContainer),Vu=gf(Zb,W0)(O.fromDom(r.selection.getStart()));Ye.keydown(pr,Ga,gr.startOffset,Ta,gr.endOffset,Vu).each(rr=>{Kt(pr,rr)}),c.show()},Qo=Po=>Po.button===0,Ms=Po=>Po.buttons===void 0?!0:(Po.buttons&1)!==0,Xo=Po=>{Ct.clearstate()},Vr=Po=>{Qo(Po)&&Xg(Po)&&Ct.mousedown(Il(Po))},qu=Po=>{Ms(Po)&&Xg(Po)&&Ct.mouseover(Il(Po))},td=Po=>{Qo(Po)&&Xg(Po)&&Ct.mouseup(Il(Po))},np=(()=>{const Po=Bm(O.fromDom(he)),pr=Bm(0);return{touchEnd:Ga=>{const Ta=O.fromDom(Ga.target);if(To("td")(Ta)||To("th")(Ta)){const Vu=Po.get(),rr=pr.get();Et(Vu,Ta)&&Ga.timeStamp-rr<300&&(Ga.preventDefault(),Rt(Ta,Ta))}Po.set(Ta),pr.set(Ga.timeStamp)}}})();r.on("dragstart",Xo),r.on("mousedown",Vr),r.on("mouseover",qu),r.on("mouseup",td),r.on("touchend",np.touchEnd),r.on("keyup",Cn),r.on("keydown",Fn),r.on("NodeChange",Tt)}),r.on("PreInit",()=>{r.serializer.addTempAttr(Uc.firstSelected),r.serializer.addTempAttr(Uc.lastSelected)}),{getSelectedCells:()=>dv(l.get(),ke([]),I=>Pe(I,Y=>Y.dom),I=>[I.dom]),clearSelectedCells:I=>k.clear(O.fromDom(I))}},xa=r=>{let c=[];return{bind:k=>{if(k===void 0)throw new Error("Event bind error: undefined handler");c.push(k)},unbind:k=>{c=Rn(c,C=>C!==k)},trigger:(...k)=>{const C={};yt(r,(z,I)=>{C[z]=k[I]}),yt(c,z=>{z(C)})}}},Jc=r=>{const c=En(r,f=>({bind:f.bind,unbind:f.unbind})),l=En(r,f=>f.trigger);return{registry:c,trigger:l}},vv=(r,c)=>{let l=null;const f=()=>{Ie(l)||(clearTimeout(l),l=null)};return{cancel:f,throttle:(...k)=>{f(),l=setTimeout(()=>{l=null,r.apply(null,k)},c)}}},Uu=r=>r.slice(0).sort(),Cv=(r,c)=>{throw new Error("All required keys ("+Uu(r).join(", ")+") were not specified. Specified keys were: "+Uu(c).join(", ")+".")},Zg=r=>{throw new Error("Unsupported keys for object: "+Uu(r).join(", "))},Sv=(r,c)=>{if(!Ee(c))throw new Error("The "+r+" fields must be an array. Was: "+c+".");yt(c,l=>{if(!We(l))throw new Error("The value "+l+" in the "+r+" fields was not a string.")})},xv=(r,c)=>{throw new Error("All values need to be of type: "+c+". Keys ("+Uu(r).join(", ")+") were not.")},m1=r=>{const c=Uu(r);wn(c,(f,p)=>p<c.length-1&&f===c[p+1]).each(f=>{throw new Error("The field: "+f+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},Ev=(r,c)=>Tv(r,c,{validate:Ne,label:"function"}),Tv=(r,c,l)=>{if(c.length===0)throw new Error("You must specify at least one required field.");return Sv("required",c),m1(c),f=>{const p=kt(f);we(c,z=>Ze(p,z))||Cv(c,p),r(c,p);const C=Rn(c,z=>!l.validate(f[z],z));return C.length>0&&xv(C,l.label),f}},Qg=(r,c)=>{const l=Rn(c,f=>!Ze(r,f));l.length>0&&Zg(l)},Ym=r=>Ev(Qg,r),Xm=Ym(["compare","extract","mutate","sink"]),Zm=Ym(["element","start","stop","destroy"]),Qm=Ym(["forceDrop","drop","move","delayDrop"]),Hu=()=>{let r=L.none();const c=()=>{r=L.none()},l=(k,C)=>{const z=r.map(I=>k.compare(I,C));return r=L.some(C),z},f=(k,C)=>{C.extract(k).each(I=>{l(C,I).each(he=>{p.trigger.move(he)})})},p=Jc({move:xa(["info"])});return{onEvent:f,reset:c,events:p.registry}},FE=()=>{const r=Jc({move:xa(["info"])});return{onEvent:xe,reset:xe,events:r.registry}},zv=()=>{const r=FE(),c=Hu();let l=r;return{on:()=>{l.reset(),l=c},off:()=>{l.reset(),l=r},isOn:()=>l===c,onEvent:(z,I)=>{l.onEvent(z,I)},events:c.events}},Av=(r,c,l)=>{let f=!1;const p=Jc({start:xa([]),stop:xa([])}),k=zv(),C=()=>{Ct.stop(),k.isOn()&&(k.off(),p.trigger.stop())},z=vv(C,200),I=Rt=>{Ct.start(Rt),k.on(),p.trigger.start()},Y=Rt=>{z.cancel(),k.onEvent(Rt,c)};k.events.move.bind(Rt=>{c.mutate(r,Rt.info)});const he=()=>{f=!0},ct=()=>{f=!1},Tt=Rt=>(...Xe)=>{f&&Rt.apply(null,Xe)},Ct=c.sink(Qm({forceDrop:C,drop:Tt(C),move:Tt(Y),delayDrop:Tt(z.throttle)}),l),Ye=()=>{Ct.destroy()};return{element:Ct.element,go:I,on:he,off:ct,destroy:Ye,events:p.registry}},Jg=r=>{const c=r.replace(/\./g,"-");return{resolve:f=>c+"-"+f}},p1=Jg("ephox-dragster").resolve,IE=r=>{const c={layerClass:p1("blocker"),...r},l=O.fromTag("div");return wo(l,"role","presentation"),ko(l,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ui(l,p1("blocker")),Ui(l,c.layerClass),{element:ke(l),destroy:()=>{es(l)}}};var Rv=Xm({compare:(r,c)=>Qa(c.left-r.left,c.top-r.top),extract:r=>L.some(Qa(r.x,r.y)),sink:(r,c)=>{const l=IE(c),f=ju(l.element(),"mousedown",r.forceDrop),p=ju(l.element(),"mouseup",r.drop),k=ju(l.element(),"mousemove",r.move),C=ju(l.element(),"mouseout",r.delayDrop),z=()=>{l.destroy(),p.unbind(),k.unbind(),C.unbind(),f.unbind()},I=he=>{Dn(he,l.element())},Y=()=>{es(l.element())};return Zm({element:l.element,start:I,stop:Y,destroy:z})},mutate:(r,c)=>{r.mutate(c.left,c.top)}});const Dv=(r,c={})=>{var l;const f=(l=c.mode)!==null&&l!==void 0?l:Rv;return Av(r,f,c)},ed=Jg("ephox-snooker").resolve,Ov=()=>{const r=Jc({drag:xa(["xDelta","yDelta"])});return{mutate:(l,f)=>{r.trigger.drag(l,f)},events:r.registry}},Pv=()=>{const r=Jc({drag:xa(["xDelta","yDelta","target"])});let c=L.none();const l=Ov();return l.events.drag.bind(k=>{c.each(C=>{r.trigger.drag(k.xDelta,k.yDelta,C)})}),{assign:k=>{c=L.some(k)},get:()=>c,mutate:l.mutate,events:r.registry}},h1=(r,c,l,f,p)=>{const k=O.fromTag("div");return ko(k,{position:"absolute",left:c-f/2+"px",top:l+"px",height:p+"px",width:f+"px"}),rs(k,{"data-column":r,role:"presentation"}),k},y1=(r,c,l,f,p)=>{const k=O.fromTag("div");return ko(k,{position:"absolute",left:c+"px",top:l-p/2+"px",height:p+"px",width:f+"px"}),rs(k,{"data-row":r,role:"presentation"}),k},eh=ed("resizer-bar"),th=ed("resizer-rows"),b1=ed("resizer-cols"),Jm=7,k1=(r,c)=>re(r.all,(l,f)=>c(l.element)?[f]:[]),w1=(r,c)=>{const l=[];return Z(r.grid.columns,f=>{In.getColumnAt(r,f).map(k=>k.element).forall(c)&&l.push(f)}),Rn(l,f=>{const p=In.filterItems(r,k=>k.column===f);return we(p,k=>c(k.element))})},ep=r=>{const c=Ps(r.parent(),"."+eh);yt(c,es)},_1=(r,c,l)=>{const f=r.origin();yt(c,p=>{p.each(k=>{const C=l(f,k);Ui(C,eh),Dn(r.parent(),C)})})},Bv=(r,c,l,f)=>{_1(r,c,(p,k)=>{const C=h1(k.col,k.x-p.left,l.top-p.top,Jm,f);return Ui(C,b1),C})},$v=(r,c,l,f)=>{_1(r,c,(p,k)=>{const C=y1(k.row,l.left-p.left,k.y-p.top,f,Jm);return Ui(C,th),C})},Fv=(r,c,l,f,p)=>{const k=Ma(l),C=c.isResizable,z=f.length>0?gl.positions(f,l):[],I=z.length>0?k1(r,C):[],Y=Rn(z,(Ct,Ye)=>qt(I,Rt=>Ye===Rt));$v(c,Y,k,kr(l));const he=p.length>0?Ti.positions(p,l):[],ct=he.length>0?w1(r,C):[],Tt=Rn(he,(Ct,Ye)=>qt(ct,Rt=>Ye===Rt));Bv(c,Tt,k,ia(l))},nh=(r,c)=>{if(ep(r),r.isResizable(c)){const l=In.fromTable(c),f=mf(l),p=mc(l);Fv(l,r,c,f,p)}},Wu=(r,c)=>{const l=Ps(r.parent(),"."+eh);yt(l,c)},v1=r=>{Wu(r,c=>{qn(c,"display","none")})},C1=r=>{Wu(r,c=>{qn(c,"display","block")})},oh=r=>Kg(r,th),Iv=r=>Kg(r,b1),S1=ed("resizer-bar-dragging"),Lv=r=>{const c=Pv(),l=Dv(c,{});let f=L.none();const p=(Ye,Rt)=>L.from(gn(Ye,Rt));c.events.drag.bind(Ye=>{p(Ye.target,"data-row").each(Rt=>{const Xe=is(Ye.target,"top");qn(Ye.target,"top",Xe+Ye.yDelta+"px")}),p(Ye.target,"data-column").each(Rt=>{const Xe=is(Ye.target,"left");qn(Ye.target,"left",Xe+Ye.xDelta+"px")})});const k=(Ye,Rt)=>{const Xe=is(Ye,Rt),Kt=ts(Ye,"data-initial-"+Rt,0);return Xe-Kt};l.events.stop.bind(()=>{c.get().each(Ye=>{f.each(Rt=>{p(Ye,"data-row").each(Xe=>{const Kt=k(Ye,"top");lo(Ye,"data-initial-top"),Ct.trigger.adjustHeight(Rt,Kt,parseInt(Xe,10))}),p(Ye,"data-column").each(Xe=>{const Kt=k(Ye,"left");lo(Ye,"data-initial-left"),Ct.trigger.adjustWidth(Rt,Kt,parseInt(Xe,10))}),nh(r,Rt)})})});const C=(Ye,Rt)=>{Ct.trigger.startAdjust(),c.assign(Ye),wo(Ye,"data-initial-"+Rt,is(Ye,Rt)),Ui(Ye,S1),qn(Ye,"opacity","0.2"),l.go(r.parent())},z=ju(r.parent(),"mousedown",Ye=>{oh(Ye.target)&&C(Ye.target,"top"),Iv(Ye.target)&&C(Ye.target,"left")}),I=Ye=>Et(Ye,r.view()),Y=Ye=>Zn(Ye,"table",I).filter(cy),he=ju(r.view(),"mouseover",Ye=>{Y(Ye.target).fold(()=>{Do(Ye.target)&&ep(r)},Rt=>{f=L.some(Rt),nh(r,Rt)})}),ct=()=>{z.unbind(),he.unbind(),l.destroy(),ep(r)},Tt=Ye=>{nh(r,Ye)},Ct=Jc({adjustHeight:xa(["table","delta","row"]),adjustWidth:xa(["table","delta","column"]),startAdjust:xa([])});return{destroy:ct,refresh:Tt,on:l.on,off:l.off,hideBars:ot(v1,r),showBars:ot(C1,r),events:Ct.registry}},x1={create:(r,c,l)=>{const f=gl,p=Ti,k=Lv(r),C=Jc({beforeResize:xa(["table","type"]),afterResize:xa(["table","type"]),startDrag:xa([])});return k.events.adjustHeight.bind(z=>{const I=z.table;C.trigger.beforeResize(I,"row");const Y=f.delta(z.delta,I);cm(I,Y,z.row,f),C.trigger.afterResize(I,"row")}),k.events.startAdjust.bind(z=>{C.trigger.startDrag()}),k.events.adjustWidth.bind(z=>{const I=z.table;C.trigger.beforeResize(I,"col");const Y=p.delta(z.delta,I),he=l(I);fg(I,Y,z.column,c,he),C.trigger.afterResize(I,"col")}),{on:k.on,off:k.off,refreshBars:k.refresh,hideBars:k.hideBars,showBars:k.showBars,destroy:k.destroy,events:C.registry}}},E1={only:(r,c)=>{const l=Ts(r)?jo(r):r;return{parent:ke(l),view:ke(r),origin:ke(Qa(0,0)),isResizable:c}},detached:(r,c,l)=>{const f=()=>Ma(c);return{parent:ke(c),view:ke(r),origin:f,isResizable:l}},body:(r,c,l)=>({parent:ke(c),view:ke(r),origin:ke(Qa(0,0)),isResizable:l})},jv=()=>{const r=O.fromTag("div");return ko(r,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Dn(Pa(),r),r},Uv=(r,c)=>r.inline?E1.body(O.fromDom(r.getBody()),jv(),c):E1.only(O.fromDom(r.getDoc()),c),sh=(r,c)=>{r.inline&&es(c.parent())},tp=r=>$e(r)&&r.tagName==="TABLE",rh="bar-",qE=r=>gn(r,"data-mce-resize")!=="false",T1=r=>{const c=In.fromTable(r);In.hasColumns(c)||yt(Za(r),l=>{const f=er(l,"width");qn(l,"width",f),lo(l,"width")})},Hv=r=>{const c=$u(),l=$u(),f=$u();let p,k;const C=Ye=>ub(r,Ye),z=()=>cb(r)?mu():ny(),I=Ye=>Jd(Ye).columns,Y=(Ye,Rt,Xe)=>{const Kt=V(Rt,"e");if(k===""&&vu(Ye),Xe!==p&&k!==""){qn(Ye,"width",k);const Cn=z(),Fn=C(Ye),Qo=cb(r)||Kt?I(Ye)-1:0;fg(Ye,Xe-p,Qo,Cn,Fn)}else if(Yh(k)){const Cn=parseFloat(k.replace("%","")),Fn=Xe*Cn/p;qn(Ye,"width",Fn+"%")}hw(k)&&T1(Ye)},he=()=>{l.on(Ye=>{Ye.destroy()}),f.on(Ye=>{sh(r,Ye)})};return r.on("init",()=>{const Ye=Uv(r,qE);if(f.set(Ye),Y_(r)&&X_(r)){const Rt=z(),Xe=x1.create(Ye,Rt,C);Xe.on(),Xe.events.startDrag.bind(Kt=>{c.set(r.selection.getRng())}),Xe.events.beforeResize.bind(Kt=>{const Cn=Kt.table.dom;W_(r,Cn,Kh(Cn),Up(Cn),rh+Kt.type)}),Xe.events.afterResize.bind(Kt=>{const Cn=Kt.table,Fn=Cn.dom;Wa(Cn),c.on(Qo=>{r.selection.setRng(Qo),r.focus()}),q_(r,Fn,Kh(Fn),Up(Fn),rh+Kt.type),r.undoManager.add()}),l.set(Xe)}}),r.on("ObjectResizeStart",Ye=>{const Rt=Ye.target;if(tp(Rt)){const Xe=O.fromDom(Rt);yt(r.dom.select(".mce-clonedresizable"),Kt=>{r.dom.addClass(Kt,"mce-"+kg(r)+"-columns")}),!Cg(Xe)&&Kc(r)?Nl(Xe):!kb(Xe)&&ym(r)&&vu(Xe),wb(Xe)&&$(Ye.origin,rh)&&vu(Xe),p=Ye.width,k=Mf(r)?"":gw(r,Rt).getOr("")}}),r.on("ObjectResized",Ye=>{const Rt=Ye.target;if(tp(Rt)){const Xe=O.fromDom(Rt),Kt=Ye.origin;$(Kt,"corner-")&&Y(Xe,Kt,Ye.width),Wa(Xe),Tl(r,Xe.dom,hm)}}),r.on("SwitchMode",()=>{l.on(Ye=>{r.mode.isReadOnly()?Ye.hideBars():Ye.showBars()})}),r.on("remove",()=>{he()}),{refresh:Ye=>{l.on(Rt=>Rt.refreshBars(O.fromDom(Ye)))},hide:()=>{l.on(Ye=>Ye.hideBars())},show:()=>{l.on(Ye=>Ye.showBars())}}},Wv=r=>{sb(r);const c=Hv(r),l=_v(r,c),f=e0(r,c,l);return xb(r,f),Ag(r,f),Fw(r,f),{getSelectedCells:l.getSelectedCells,clearSelectedCells:l.clearSelectedCells}},Ea=r=>({table:Wv(r)});var qv=()=>{g.add("dom",Ea)};qv()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(O,G,de)=>{var dt;return de(O,G.prototype)?!0:((dt=O.constructor)===null||dt===void 0?void 0:dt.name)===G.name},D=O=>{const G=typeof O;return O===null?"null":G==="object"&&Array.isArray(O)?"array":G==="object"&&_(O,String,(de,dt)=>dt.isPrototypeOf(de))?"string":G},X=O=>G=>D(G)===O,_e=X("string"),Ae=X("object"),We=X("array"),Ke=O=>O==null,Ee=O=>!Ke(O);class Ie{constructor(G,de){this.tag=G,this.value=de}static some(G){return new Ie(!0,G)}static none(){return Ie.singletonNone}fold(G,de){return this.tag?de(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?Ie.some(G(this.value)):Ie.none()}bind(G){return this.tag?G(this.value):Ie.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:Ie.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G!=null?G:"Called getOrDie on None")}static from(G){return Ee(G)?Ie.some(G):Ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ie.singletonNone=new Ie(!1);const pt=Array.prototype.push,_t=(O,G)=>{for(let de=0,dt=O.length;de<dt;de++){const rn=O[de];G(rn,de)}},$e=O=>{const G=[];for(let de=0,dt=O.length;de<dt;++de){if(!We(O[de]))throw new Error("Arr.flatten item "+de+" was not an array, input: "+O);pt.apply(G,O[de])}return G},Ne=O=>{let G=O;return{get:()=>G,set:rn=>{G=rn}}},tt=Object.keys,xe=Object.hasOwnProperty,rt=(O,G)=>{const de=tt(O);for(let dt=0,rn=de.length;dt<rn;dt++){const Et=de[dt],An=O[Et];G(An,Et)}},ae=(O,G)=>ke(O,G)?Ie.from(O[G]):Ie.none(),ke=(O,G)=>xe.call(O,G),ge=O=>G=>G.options.get(O),zt=O=>{const G=O.options.register;G("audio_template_callback",{processor:"function"}),G("video_template_callback",{processor:"function"}),G("iframe_template_callback",{processor:"function"}),G("media_live_embeds",{processor:"boolean",default:!0}),G("media_filter_html",{processor:"boolean",default:!0}),G("media_url_resolver",{processor:"function"}),G("media_alt_source",{processor:"boolean",default:!0}),G("media_poster",{processor:"boolean",default:!0}),G("media_dimensions",{processor:"boolean",default:!0})},ot=ge("audio_template_callback"),le=ge("video_template_callback"),it=ge("iframe_template_callback"),ft=ge("media_live_embeds"),Le=ge("media_filter_html"),Ve=ge("media_url_resolver"),L=ge("media_alt_source"),Wt=ge("media_poster"),Je=ge("media_dimensions");var jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.html.DomParser");const qt=ye.DOM,Z=O=>O.replace(/px$/,""),Pe=O=>{const G=O.attr("style"),de=G?qt.parseStyle(G):{};return{type:"ephox-embed-iri",source:O.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ae(de,"max-width").map(Z).getOr(""),height:ae(de,"max-height").map(Z).getOr("")}},yt=(O,G)=>{let de={};const rn=Ze({validate:!1,forced_root_block:!1},G).parse(O);for(let Et=rn;Et;Et=Et.walk())if(Et.type===1){const An=Et.name;if(Et.attr("data-ephox-embed-iri")){de=Pe(Et);break}else!de.source&&An==="param"&&(de.source=Et.attr("movie")),(An==="iframe"||An==="object"||An==="embed"||An==="video"||An==="audio")&&(de.type||(de.type=An),de=jt.extend(Et.attributes.map,de)),An==="script"&&(de={type:"script",source:Et.attr("src")}),An==="source"&&(de.source?de.altsource||(de.altsource=Et.attr("src")):de.source=Et.attr("src")),An==="img"&&!de.poster&&(de.poster=Et.attr("src"))}return de.source=de.source||de.src||de.data,de.altsource=de.altsource||"",de.poster=de.poster||"",de},et=O=>{const G={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},de=O.toLowerCase().split(".").pop(),dt=G[de];return dt||""};var kn=tinymce.util.Tools.resolve("tinymce.html.Node"),Rn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const an=(O,G={})=>Ze({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...G},O),en=ye.DOM,cn=O=>/^[0-9.]+$/.test(O)?O+"px":O,wn=(O,G)=>{const de=G.attr("style"),dt=de?en.parseStyle(de):{};dt["max-width"]=cn(O.width),dt["max-height"]=cn(O.height),G.attr("style",en.serializeStyle(dt))},w=["source","altsource"],ie=(O,G,de,dt)=>{let rn=0,Et=0;const An=an(dt);An.addNodeFilter("source",ln=>rn=ln.length);const Bo=An.parse(O);for(let ln=Bo;ln;ln=ln.walk())if(ln.type===1){const jn=ln.name;if(ln.attr("data-ephox-embed-iri")){wn(G,ln);break}else{switch(jn){case"video":case"object":case"embed":case"img":case"iframe":G.height!==void 0&&G.width!==void 0&&(ln.attr("width",G.width),ln.attr("height",G.height));break}if(de)switch(jn){case"video":ln.attr("poster",G.poster),ln.attr("src",null);for(let Ro=rn;Ro<2;Ro++)if(G[w[Ro]]){const q=new kn("source",1);q.attr("src",G[w[Ro]]),q.attr("type",G[w[Ro]+"mime"]||null),ln.append(q)}break;case"iframe":ln.attr("src",G.source);break;case"object":const jo=ln.getAll("img").length>0;if(G.poster&&!jo){ln.attr("src",G.poster);const Ro=new kn("img",1);Ro.attr("src",G.poster),Ro.attr("width",G.width),Ro.attr("height",G.height),ln.append(Ro)}break;case"source":if(Et<2&&(ln.attr("src",G[w[Et]]),ln.attr("type",G[w[Et]+"mime"]||null),!G[w[Et]])){ln.remove();continue}Et++;break;case"img":G.poster||ln.remove();break}}}return Rn({},dt).serialize(Bo)},re=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],we=O=>{const G=O.match(/^(https?:\/\/|www\.)(.+)$/i);return G&&G.length>1?G[1]==="www."?"https://":G[1]:"https://"},J=(O,G)=>{const de=we(G),dt=O.regex.exec(G);let rn=de+O.url;for(let Et=0;Et<dt.length;Et++)rn=rn.replace("$"+Et,()=>dt[Et]?dt[Et]:"");return rn.replace(/\?$/,"")},me=O=>{const G=re.filter(de=>de.regex.test(O));return G.length>0?jt.extend({},G[0],{url:J(G[0],O)}):null},ce=(O,G)=>{if(G)return G(O);{const de=O.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+O.source+'" width="'+O.width+'" height="'+O.height+'"'+de+"></iframe>"}},Ce=O=>{let G='<object data="'+O.source+'" width="'+O.width+'" height="'+O.height+'" type="application/x-shockwave-flash">';return O.poster&&(G+='<img src="'+O.poster+'" width="'+O.width+'" height="'+O.height+'" />'),G+="</object>",G},W=(O,G)=>G?G(O):'<audio controls="controls" src="'+O.source+'">'+(O.altsource?`
<source src="`+O.altsource+'"'+(O.altsourcemime?' type="'+O.altsourcemime+'"':"")+` />
`:"")+"</audio>",M=(O,G)=>G?G(O):'<video width="'+O.width+'" height="'+O.height+'"'+(O.poster?' poster="'+O.poster+'"':"")+` controls="controls">
<source src="`+O.source+'"'+(O.sourcemime?' type="'+O.sourcemime+'"':"")+` />
`+(O.altsource?'<source src="'+O.altsource+'"'+(O.altsourcemime?' type="'+O.altsourcemime+'"':"")+` />
`:"")+"</video>",Ue=O=>'<script src="'+O.source+'"><\/script>',kt=(O,G)=>{const de=jt.extend({},G);if(!de.source&&(jt.extend(de,yt(de.embed,O.schema)),!de.source))return"";de.altsource||(de.altsource=""),de.poster||(de.poster=""),de.source=O.convertURL(de.source,"source"),de.altsource=O.convertURL(de.altsource,"source"),de.sourcemime=et(de.source),de.altsourcemime=et(de.altsource),de.poster=O.convertURL(de.poster,"poster");const dt=me(de.source);if(dt&&(de.source=dt.url,de.type=dt.type,de.allowfullscreen=dt.allowFullscreen,de.width=de.width||String(dt.w),de.height=de.height||String(dt.h)),de.embed)return ie(de.embed,de,!0,O.schema);{const rn=ot(O),Et=le(O),An=it(O);return de.width=de.width||"300",de.height=de.height||"150",jt.each(de,(Bo,ln)=>{de[ln]=O.dom.encode(""+Bo)}),de.type==="iframe"?ce(de,An):de.sourcemime==="application/x-shockwave-flash"?Ce(de):de.sourcemime.indexOf("audio")!==-1?W(de,rn):de.type==="script"?Ue(de):M(de,Et)}},Qe=O=>O.hasAttribute("data-mce-object")||O.hasAttribute("data-ephox-embed-iri"),pn=O=>{O.on("click keyup touchend",()=>{const G=O.selection.getNode();G&&O.dom.hasClass(G,"mce-preview-object")&&O.dom.getAttrib(G,"data-mce-selected")&&G.setAttribute("data-mce-selected","2")}),O.on("ObjectSelected",G=>{G.target.getAttribute("data-mce-object")==="script"&&G.preventDefault()}),O.on("ObjectResized",G=>{const de=G.target;if(de.getAttribute("data-mce-object")){let dt=de.getAttribute("data-mce-html");dt&&(dt=unescape(dt),de.setAttribute("data-mce-html",escape(ie(dt,{width:String(G.width),height:String(G.height)},!1,O.schema))))}})},En={},Eo=(O,G,de)=>new Promise((dt,rn)=>{const Et=An=>(An.html&&(En[O.source]=An),dt({url:O.source,html:An.html?An.html:G(O)}));En[O.source]?Et(En[O.source]):de({url:O.source},Et,rn)}),oo=(O,G)=>Promise.resolve({html:G(O),url:O.source}),Yn=O=>G=>kt(O,G),eo=(O,G)=>{const de=Ve(O);return de?Eo(G,Yn(O),de):oo(G,Yn(O))},Xt=O=>ke(En,O),ro=(O,G)=>ae(G,O).bind(de=>ae(de,"meta")),io=(O,G,de)=>dt=>{const rn=()=>ae(O,dt),Et=()=>ae(G,dt),An=jn=>ae(jn,"value").bind(jo=>jo.length>0?Ie.some(jo):Ie.none()),Bo=()=>rn().bind(jn=>Ae(jn)?An(jn).orThunk(Et):Et().orThunk(()=>Ie.from(jn))),ln=()=>Et().orThunk(()=>rn().bind(jn=>Ae(jn)?An(jn):Ie.from(jn)));return{[dt]:(dt===de?Bo():ln()).getOr("")}},Fe=(O,G)=>{const de={};return ae(O,"dimensions").each(dt=>{_t(["width","height"],rn=>{ae(G,rn).orThunk(()=>ae(dt,rn)).each(Et=>de[rn]=Et)})}),de},st=(O,G)=>{const de=G?ro(G,O).getOr({}):{},dt=io(O,de,G);return{...dt("source"),...dt("altsource"),...dt("poster"),...dt("embed"),...Fe(O,de)}},Qt=O=>{const G={...O,source:{value:ae(O,"source").getOr("")},altsource:{value:ae(O,"altsource").getOr("")},poster:{value:ae(O,"poster").getOr("")}};return _t(["width","height"],de=>{ae(O,de).each(dt=>{const rn=G.dimensions||{};rn[de]=dt,G.dimensions=rn})}),G},Ut=O=>G=>{const de=G&&G.msg?"Media embed handler error: "+G.msg:"Media embed handler threw unknown error.";O.notificationManager.open({type:"error",text:de})},Tn=O=>{const G=O.selection.getNode(),de=Qe(G)?O.serializer.serialize(G,{selection:!0}):"";return{embed:de,...yt(de,O.schema)}},Pn=(O,G)=>de=>{if(_e(de.url)&&de.url.trim().length>0){const dt=de.html,Et={...yt(dt,G.schema),source:de.url,embed:dt};O.setData(Qt(Et))}},ho=(O,G)=>{const de=O.dom.select("*[data-mce-object]");for(let dt=0;dt<G.length;dt++)for(let rn=de.length-1;rn>=0;rn--)G[dt]===de[rn]&&de.splice(rn,1);O.selection.select(de[0])},$o=(O,G)=>{const de=O.dom.select("*[data-mce-object]");O.insertContent(G),ho(O,de),O.nodeChanged()},ue=(O,G,de)=>{G.embed=ie(G.embed,G,!1,de.schema),G.embed&&(O.source===G.source||Xt(G.source))?$o(de,G.embed):eo(de,G).then(dt=>{$o(de,dt.html)}).catch(Ut(de))},ze=O=>{const G=Tn(O),de=Ne(G),dt=Qt(G),rn=(wt,It)=>{const Lt=st(It.getData(),"source");wt.source!==Lt.source&&(Pn(vt,O)({url:Lt.source,html:""}),eo(O,Lt).then(Pn(vt,O)).catch(Ut(O)))},Et=wt=>{const It=st(wt.getData()),Lt=yt(It.embed,O.schema);wt.setData(Qt(Lt))},An=(wt,It)=>{const Lt=st(wt.getData(),It),un=kt(O,Lt);wt.setData(Qt({...Lt,embed:un}))},Bo=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],ln=Je(O)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],jn={title:"General",name:"general",items:$e([Bo,ln])},Ro={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},q=[];L(O)&&q.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Wt(O)&&q.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const ee={title:"Advanced",name:"advanced",items:q},Ge=[jn,Ro];q.length>0&&Ge.push(ee);const St={type:"tabpanel",tabs:Ge},vt=O.windowManager.open({title:"Insert/Edit Media",size:"normal",body:St,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:wt=>{const It=st(wt.getData());ue(de.get(),It,O),wt.close()},onChange:(wt,It)=>{switch(It.name){case"source":rn(de.get(),wt);break;case"embed":Et(wt);break;case"dimensions":case"altsource":case"poster":An(wt,It.name);break}de.set(st(wt.getData()))},initialData:dt})},At=O=>({showDialog:()=>{ze(O)}}),Ot=O=>{const G=()=>{ze(O)};O.addCommand("mceMedia",G)},hn=(O,G,de)=>G===""||O.length>=G.length&&O.substr(de,de+G.length)===G,No=(O,G)=>hn(O,G,0);var Ts=tinymce.util.Tools.resolve("tinymce.Env");const Ns=O=>{const G=O.name;return G==="iframe"||G==="video"||G==="audio"},To=(O,G,de,dt=null)=>{const rn=O.attr(de);return Ee(rn)?rn:ke(G,de)?null:dt},cs=(O,G,de)=>{const dt=G.name==="img"||O.name==="video",rn=dt?"300":null,Et=O.name==="audio"?"30":"150",An=dt?Et:null;G.attr({width:To(O,de,"width",rn),height:To(O,de,"height",An)})},wo=(O,G,de,dt)=>{const rn=an(O.schema).parse(dt,{context:G});for(;rn.firstChild;)de.append(rn.firstChild)},rs=(O,G)=>{const de=G.name,dt=new kn("img",1);return gn(O,G,dt),cs(G,dt,{}),dt.attr({style:G.attr("style"),src:Ts.transparentSrc,"data-mce-object":de,class:"mce-object mce-object-"+de}),dt},Vn=(O,G)=>{const de=G.name,dt=new kn("span",1);dt.attr({contentEditable:"false",style:G.attr("style"),"data-mce-object":de,class:"mce-preview-object mce-object-"+de}),gn(O,G,dt);const rn=O.dom.parseStyle(G.attr("style")),Et=new kn(de,1);if(cs(G,Et,rn),Et.attr({src:G.attr("src"),style:G.attr("style"),class:G.attr("class")}),de==="iframe")Et.attr({allowfullscreen:G.attr("allowfullscreen"),frameborder:"0"});else{_t(["controls","crossorigin","currentTime","loop","muted","poster","preload"],jn=>{Et.attr(jn,G.attr(jn))});const ln=dt.attr("data-mce-html");Ee(ln)&&wo(O,de,Et,unescape(ln))}const An=new kn("span",1);return An.attr("class","mce-shim"),dt.append(Et),dt.append(An),dt},gn=(O,G,de)=>{const dt=G.attributes;let rn=dt.length;for(;rn--;){const ln=dt[rn].name;let jn=dt[rn].value;ln!=="width"&&ln!=="height"&&ln!=="style"&&!No(ln,"data-mce-")&&((ln==="data"||ln==="src")&&(jn=O.convertURL(jn,ln)),de.attr("data-mce-p-"+ln,jn))}const Et=Rn({inner:!0},O.schema),An=new kn("div",1);_t(G.children(),ln=>An.append(ln));const Bo=Et.serialize(An);Bo&&(de.attr("data-mce-html",escape(Bo)),de.empty())},Vo=O=>{const G=O.attr("class");return G&&/\btiny-pageembed\b/.test(G)},lo=O=>{for(;O=O.parent;)if(O.attr("data-ephox-embed-iri")||Vo(O))return!0;return!1},Lo=O=>G=>{let de=G.length,dt;for(;de--;)dt=G[de],dt.parent&&(dt.parent.attr("data-mce-object")||(Ns(dt)&&ft(O)?lo(dt)||dt.replace(Vn(O,dt)):lo(dt)||dt.replace(rs(O,dt))))},Xs=(O,G,de)=>{const dt=Le(O);return an(O.schema,{validate:dt}).parse(de,{context:G})},Rs=O=>{O.on("PreInit",()=>{const{schema:G,serializer:de,parser:dt}=O,rn=G.getBoolAttrs();_t("webkitallowfullscreen mozallowfullscreen".split(" "),Et=>{rn[Et]={}}),rt({embed:["wmode"]},(Et,An)=>{const Bo=G.getElementRule(An);_t(Et,ln=>{Bo.attributes[ln]={},Bo.attributesOrder.push(ln)})}),dt.addNodeFilter("iframe,video,audio,object,embed,script",Lo(O)),de.addAttributeFilter("data-mce-object",(Et,An)=>{let Bo=Et.length;for(;Bo--;){const ln=Et[Bo];if(!ln.parent)continue;const jn=ln.attr(An),jo=new kn(jn,1);if(jn!=="audio"&&jn!=="script"){const Ge=ln.attr("class");Ge&&Ge.indexOf("mce-preview-object")!==-1?jo.attr({width:ln.firstChild.attr("width"),height:ln.firstChild.attr("height")}):jo.attr({width:ln.attr("width"),height:ln.attr("height")})}jo.attr({style:ln.attr("style")});const Ro=ln.attributes;let q=Ro.length;for(;q--;){const Ge=Ro[q].name;Ge.indexOf("data-mce-p-")===0&&jo.attr(Ge.substr(11),Ro[q].value)}jn==="script"&&jo.attr("type","text/javascript");const ee=ln.attr("data-mce-html");if(ee){const Ge=Xs(O,jn,unescape(ee));_t(Ge.children(),St=>jo.append(St))}ln.replace(jo)}})}),O.on("SetContent",()=>{const G=O.dom;_t(G.select("span.mce-preview-object"),de=>{G.select("span.mce-shim",de).length===0&&G.add(de,"span",{class:"mce-shim"})})})},ls=O=>{O.on("ResolveName",G=>{let de;G.target.nodeType===1&&(de=G.target.getAttribute("data-mce-object"))&&(G.name=de)})},Mo=O=>{const G=()=>O.execCommand("mceMedia");O.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:G,onSetup:de=>{const dt=O.selection;return de.setActive(Qe(dt.getNode())),dt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",de.setActive).unbind}}),O.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:G})};var Zs=()=>{g.add("media",O=>(zt(O),Ot(O),Mo(O),ls(O),Rs(O),pn(O),At(O)))};Zs()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),_=tinymce.util.Tools.resolve("tinymce.Env"),D=tinymce.util.Tools.resolve("tinymce.util.Tools");const X=Ne=>tt=>tt.options.get(Ne),_e=X("content_style"),Ae=X("content_css_cors"),We=X("body_class"),Ke=X("body_id"),Ee=Ne=>{var tt;let xe="";const rt=Ne.dom.encode,ae=(tt=_e(Ne))!==null&&tt!==void 0?tt:"";xe+='<base href="'+rt(Ne.documentBaseURI.getURI())+'">';const ke=Ae(Ne)?' crossorigin="anonymous"':"";D.each(Ne.contentCSS,Ve=>{xe+='<link type="text/css" rel="stylesheet" href="'+rt(Ne.documentBaseURI.toAbsolute(Ve))+'"'+ke+">"}),ae&&(xe+='<style type="text/css">'+ae+"</style>");const ge=Ke(Ne),zt=We(Ne),ot=_.os.isMacOS()||_.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",le='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+ot+")) {e.preventDefault();}}}, false);<\/script> ",it=Ne.getBody().dir,ft=it?' dir="'+rt(it)+'"':"";return"<!DOCTYPE html><html><head>"+xe+'</head><body id="'+rt(ge)+'" class="mce-content-body '+rt(zt)+'"'+ft+">"+Ne.getContent()+le+"</body></html>"},Ie=Ne=>{const tt=Ee(Ne);Ne.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:tt}}).focus("close")},pt=Ne=>{Ne.addCommand("mcePreview",()=>{Ie(Ne)})},_t=Ne=>{const tt=()=>Ne.execCommand("mcePreview");Ne.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:tt}),Ne.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:tt})};var $e=()=>{g.add("preview",Ne=>{pt(Ne),_t(Ne)})};$e()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(re,we,J)=>{var me;return J(re,we.prototype)?!0:((me=re.constructor)===null||me===void 0?void 0:me.name)===we.name},D=re=>{const we=typeof re;return re===null?"null":we==="object"&&Array.isArray(re)?"array":we==="object"&&_(re,String,(J,me)=>me.isPrototypeOf(J))?"string":we},X=re=>we=>D(we)===re,_e=re=>we=>typeof we===re,Ae=X("string"),We=X("object"),Ke=X("array"),Ee=_e("function");var Ie=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pt=tinymce.util.Tools.resolve("tinymce.EditorManager"),_t=tinymce.util.Tools.resolve("tinymce.Env"),$e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ne=re=>we=>we.options.get(re),tt=re=>{const we=re.options.register,J=me=>Ae(me)||Ee(me)||We(me);we("importcss_merge_classes",{processor:"boolean",default:!0}),we("importcss_exclusive",{processor:"boolean",default:!0}),we("importcss_selector_converter",{processor:"function"}),we("importcss_selector_filter",{processor:J}),we("importcss_file_filter",{processor:J}),we("importcss_groups",{processor:"object[]"}),we("importcss_append",{processor:"boolean",default:!1})},xe=Ne("importcss_merge_classes"),rt=Ne("importcss_exclusive"),ae=Ne("importcss_selector_converter"),ke=Ne("importcss_selector_filter"),ge=Ne("importcss_groups"),zt=Ne("importcss_append"),ot=Ne("importcss_file_filter"),le=Ne("skin"),it=Ne("skin_url"),ft=Array.prototype.push,Le=(re,we)=>{const J=re.length,me=new Array(J);for(let ce=0;ce<J;ce++){const Ce=re[ce];me[ce]=we(Ce,ce)}return me},Ve=re=>{const we=[];for(let J=0,me=re.length;J<me;++J){if(!Ke(re[J]))throw new Error("Arr.flatten item "+J+" was not an array, input: "+re);ft.apply(we,re[J])}return we},L=(re,we)=>Ve(Le(re,we)),Wt=()=>{const re=[],we=[],J={};return{addItemToGroup:(W,M)=>{J[W]?J[W].push(M):(we.push(W),J[W]=[M])},addItem:W=>{re.push(W)},toFormats:()=>L(we,M=>{const Ue=J[M];return Ue.length===0?[]:[{title:M,items:Ue}]}).concat(re)}},Je=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,jt=re=>{const we=_t.cacheSuffix;return Ae(re)&&(re=re.replace("?"+we,"").replace("&"+we,"")),re},ye=(re,we)=>{const J=le(re);if(J){const me=it(re),ce=me?re.documentBaseURI.toAbsolute(me):pt.baseURL+"/skins/ui/"+J,Ce=pt.baseURL+"/skins/content/";return we===ce+"/content"+(re.inline?".inline":"")+".min.css"||we.indexOf(Ce)!==-1}return!1},Ze=re=>Ae(re)?we=>we.indexOf(re)!==-1:re instanceof RegExp?we=>re.test(we):re,qt=re=>re.styleSheet,Z=re=>re.selectorText,Pe=(re,we,J)=>{const me=[],ce={},Ce=(W,M)=>{let Ue=W.href,kt;if(Ue=jt(Ue),!(!Ue||!J(Ue,M)||ye(re,Ue))){$e.each(W.imports,Qe=>{Ce(Qe,!0)});try{kt=W.cssRules||W.rules}catch{}$e.each(kt,Qe=>{qt(Qe)?Ce(Qe.styleSheet,!0):Z(Qe)&&$e.each(Qe.selectorText.split(","),pn=>{me.push($e.trim(pn))})})}};$e.each(re.contentCSS,W=>{ce[W]=!0}),J||(J=(W,M)=>M||ce[W]);try{$e.each(we.styleSheets,W=>{Ce(W)})}catch{}return me},yt=(re,we)=>{let J;const me=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(we);if(!me)return;const ce=me[1],Ce=me[2].substr(1).split(".").join(" "),W=$e.makeMap("a,img");return me[1]?(J={title:we},re.schema.getTextBlockElements()[ce]?J.block=ce:re.schema.getBlockElements()[ce]||W[ce.toLowerCase()]?J.selector=ce:J.inline=ce):me[2]&&(J={inline:"span",title:we.substr(1),classes:Ce}),xe(re)?J.classes=Ce:J.attributes={class:Ce},J},et=(re,we)=>$e.grep(re,J=>!J.filter||J.filter(we)),kn=re=>$e.map(re,we=>$e.extend({},we,{original:we,selectors:{},filter:Ze(we.filter)})),Rn=(re,we)=>we===null||rt(re),an=(re,we,J,me)=>!(Rn(re,J)?we in me:we in J.selectors),en=(re,we,J,me)=>{Rn(re,J)?me[we]=!0:J.selectors[we]=!0},cn=(re,we,J,me)=>{let ce;return me&&me.selector_converter?ce=me.selector_converter:ae(re)?ce=ae(re):ce=()=>yt(re,J),ce.call(we,J,me)},wn=re=>{re.on("init",()=>{const we=Wt(),J={},me=Ze(ke(re)),ce=kn(ge(re)),Ce=(M,Ue)=>{if(an(re,M,Ue,J)){en(re,M,Ue,J);const kt=cn(re,re.plugins.importcss,M,Ue);if(kt){const Qe=kt.name||Ie.DOM.uniqueId();return re.formatter.register(Qe,kt),{title:kt.title,format:Qe}}}return null};$e.each(Pe(re,re.getDoc(),Ze(ot(re))),M=>{if(!Je.test(M)&&(!me||me(M))){const Ue=et(ce,M);if(Ue.length>0)$e.each(Ue,kt=>{const Qe=Ce(M,kt);Qe&&we.addItemToGroup(kt.title,Qe)});else{const kt=Ce(M,null);kt&&we.addItem(kt)}}});const W=we.toFormats();re.dispatch("addStyleModifications",{items:W,replace:!zt(re)})})},w=re=>({convertSelectorToFormat:J=>yt(re,J)});var ie=()=>{g.add("importcss",re=>(tt(re),wn(re),w(re)))};ie()}(),function(){const g=q=>{let ee=q;return{get:()=>ee,set:vt=>{ee=vt}}};var _=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(q,ee,Ge)=>{var St;return Ge(q,ee.prototype)?!0:((St=q.constructor)===null||St===void 0?void 0:St.name)===ee.name},X=q=>{const ee=typeof q;return q===null?"null":ee==="object"&&Array.isArray(q)?"array":ee==="object"&&D(q,String,(Ge,St)=>St.isPrototypeOf(Ge))?"string":ee},_e=q=>ee=>X(ee)===q,Ae=q=>ee=>typeof ee===q,We=_e("string"),Ke=_e("array"),Ee=Ae("boolean"),Ie=q=>q==null,pt=q=>!Ie(q),_t=Ae("number"),$e=()=>{},Ne=q=>()=>q,tt=Ne(!0),rt=Ne("[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]");class ae{constructor(ee,Ge){this.tag=ee,this.value=Ge}static some(ee){return new ae(!0,ee)}static none(){return ae.singletonNone}fold(ee,Ge){return this.tag?Ge(this.value):ee()}isSome(){return this.tag}isNone(){return!this.tag}map(ee){return this.tag?ae.some(ee(this.value)):ae.none()}bind(ee){return this.tag?ee(this.value):ae.none()}exists(ee){return this.tag&&ee(this.value)}forall(ee){return!this.tag||ee(this.value)}filter(ee){return!this.tag||ee(this.value)?this:ae.none()}getOr(ee){return this.tag?this.value:ee}or(ee){return this.tag?this:ee}getOrThunk(ee){return this.tag?this.value:ee()}orThunk(ee){return this.tag?this:ee()}getOrDie(ee){if(this.tag)return this.value;throw new Error(ee!=null?ee:"Called getOrDie on None")}static from(ee){return pt(ee)?ae.some(ee):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ee){this.tag&&ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const ke=rt;var ge=tinymce.util.Tools.resolve("tinymce.Env"),zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ot=Array.prototype.slice,le=Array.prototype.push,it=(q,ee)=>{const Ge=q.length,St=new Array(Ge);for(let vt=0;vt<Ge;vt++){const wt=q[vt];St[vt]=ee(wt,vt)}return St},ft=(q,ee)=>{for(let Ge=0,St=q.length;Ge<St;Ge++){const vt=q[Ge];ee(vt,Ge)}},Le=(q,ee)=>{for(let Ge=q.length-1;Ge>=0;Ge--){const St=q[Ge];ee(St,Ge)}},Ve=(q,ee)=>{if(q.length===0)return[];{let Ge=ee(q[0]);const St=[];let vt=[];for(let wt=0,It=q.length;wt<It;wt++){const Lt=q[wt],un=ee(Lt);un!==Ge&&(St.push(vt),vt=[]),Ge=un,vt.push(Lt)}return vt.length!==0&&St.push(vt),St}},L=(q,ee,Ge)=>(ft(q,(St,vt)=>{Ge=ee(Ge,St,vt)}),Ge),Wt=q=>{const ee=[];for(let Ge=0,St=q.length;Ge<St;++Ge){if(!Ke(q[Ge]))throw new Error("Arr.flatten item "+Ge+" was not an array, input: "+q);le.apply(ee,q[Ge])}return ee},Je=(q,ee)=>Wt(it(q,ee)),jt=(q,ee)=>{const Ge=ot.call(q,0);return Ge.sort(ee),Ge},ye=Object.hasOwnProperty,Ze=(q,ee)=>ye.call(q,ee);typeof window<"u"||Function("return this;")();const qt=9,Z=11,Pe=1,yt=3,et=q=>q.dom.nodeType,Rn=(q=>ee=>et(ee)===q)(yt),an=(q,ee,Ge)=>{if(We(Ge)||Ee(Ge)||_t(Ge))q.setAttribute(ee,Ge+"");else throw console.error("Invalid call to Attribute.set. Key ",ee,":: Value ",Ge,":: Element ",q),new Error("Attribute value was not simple")},en=(q,ee,Ge)=>{an(q.dom,ee,Ge)},cn=(q,ee)=>{const St=(ee||document).createElement("div");if(St.innerHTML=q,!St.hasChildNodes()||St.childNodes.length>1){const vt="HTML does not have a single root node";throw console.error(vt,q),new Error(vt)}return ie(St.childNodes[0])},wn=(q,ee)=>{const St=(ee||document).createElement(q);return ie(St)},w=(q,ee)=>{const St=(ee||document).createTextNode(q);return ie(St)},ie=q=>{if(q==null)throw new Error("Node cannot be null or undefined");return{dom:q}},we={fromHtml:cn,fromTag:wn,fromText:w,fromDom:ie,fromPoint:(q,ee,Ge)=>ae.from(q.dom.elementFromPoint(ee,Ge)).map(ie)},J=q=>q.nodeType!==Pe&&q.nodeType!==qt&&q.nodeType!==Z||q.childElementCount===0,me=(q,ee)=>{const Ge=ee===void 0?document:ee.dom;return J(Ge)?[]:it(Ge.querySelectorAll(q),we.fromDom)},ce=q=>ae.from(q.dom.parentNode).map(we.fromDom),Ce=q=>it(q.dom.childNodes,we.fromDom),W=(q,ee)=>({element:q,offset:ee}),M=(q,ee)=>{const Ge=Ce(q);return Ge.length>0&&ee<Ge.length?W(Ge[ee],0):W(q,ee)},Ue=(q,ee)=>{ce(q).each(St=>{St.dom.insertBefore(ee.dom,q.dom)})},kt=(q,ee)=>{q.dom.appendChild(ee.dom)},Qe=(q,ee)=>{Ue(q,ee),kt(ee,q)},En=((q,ee)=>{const Ge=wt=>{if(!q(wt))throw new Error("Can only get "+ee+" value of a "+ee+" node");return St(wt).getOr("")},St=wt=>q(wt)?ae.from(wt.dom.nodeValue):ae.none();return{get:Ge,getOption:St,set:(wt,It)=>{if(!q(wt))throw new Error("Can only set raw "+ee+" value of a "+ee+" node");wt.dom.nodeValue=It}}})(Rn,"text"),Eo=q=>En.get(q),oo=(q,ee,Ge)=>(q.compareDocumentPosition(ee)&Ge)!==0,Yn=(q,ee)=>oo(q,ee,Node.DOCUMENT_POSITION_PRECEDING),eo=(q,ee)=>me(ee,q);var Xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ro=(q,ee)=>q.isBlock(ee)||Ze(q.schema.getVoidElements(),ee.nodeName),io=(q,ee)=>q.getContentEditable(ee)==="false",Fe=(q,ee)=>q.getContentEditable(ee)==="true"&&q.getContentEditableParent(ee.parentNode)==="false",st=(q,ee)=>!q.isBlock(ee)&&Ze(q.schema.getWhitespaceElements(),ee.nodeName),Qt=(q,ee)=>ro(q,ee)||io(q,ee)||st(q,ee)||Fe(q,ee),Ut=q=>q.nodeType===3,Tn=()=>({sOffset:0,fOffset:0,elements:[]}),Pn=(q,ee)=>M(we.fromDom(q),ee),ho=(q,ee,Ge,St,vt,wt=!0)=>{let It=wt?ee(!1):Ge;for(;It;){const Lt=io(q,It);if(Lt||st(q,It)){if(Lt?St.cef(It):St.boundary(It))break;It=ee(!0);continue}else if(ro(q,It)){if(St.boundary(It))break}else Ut(It)&&St.text(It);if(It===vt)break;It=ee(!1)}},$o=(q,ee,Ge,St,vt)=>{if(Qt(q,Ge))return;const wt=q.getParent(St,q.isBlock),It=new Xt(Ge,wt),Lt=vt?It.next.bind(It):It.prev.bind(It);ho(q,Lt,Ge,{boundary:tt,cef:tt,text:un=>{vt?ee.fOffset+=un.length:ee.sOffset+=un.length,ee.elements.push(we.fromDom(un))}})},ue=(q,ee,Ge,St,vt,wt=!0)=>{const It=new Xt(Ge,ee),Lt=[];let un=Tn();$o(q,un,Ge,ee,!1);const Xn=()=>(un.elements.length>0&&(Lt.push(un),un=Tn()),!1);return ho(q,It.next.bind(It),Ge,{boundary:Xn,cef:yo=>(Xn(),vt&&Lt.push(...vt.cef(yo)),!1),text:yo=>{un.elements.push(we.fromDom(yo)),vt&&vt.text(yo,un)}},St,wt),St&&$o(q,un,St,ee,!0),Xn(),Lt},ze=(q,ee)=>{const Ge=Pn(ee.startContainer,ee.startOffset),St=Ge.element.dom,vt=Pn(ee.endContainer,ee.endOffset),wt=vt.element.dom;return ue(q,ee.commonAncestorContainer,St,wt,{text:(It,Lt)=>{It===wt?Lt.fOffset+=It.length-vt.offset:It===St&&(Lt.sOffset+=Ge.offset)},cef:It=>{const Lt=Je(eo(we.fromDom(It),"*[contenteditable=true]"),un=>{const Xn=un.dom;return ue(q,Xn,Xn)});return jt(Lt,(un,Xn)=>Yn(un.elements[0].dom,Xn.elements[0].dom)?1:-1)}},!1)},At=(q,ee)=>ee.collapsed?[]:ze(q,ee),Ot=(q,ee)=>{const Ge=q.createRng();return Ge.selectNode(ee),At(q,Ge)},hn=(q,ee)=>Je(ee,Ge=>Ot(q,Ge)),No=(q,ee,Ge=0,St=q.length)=>{const vt=ee.regex;vt.lastIndex=Ge;const wt=[];let It;for(;It=vt.exec(q);){const Lt=It[ee.matchIndex],un=It.index+It[0].indexOf(Lt),Xn=un+Lt.length;if(Xn>St)break;wt.push({start:un,finish:Xn}),vt.lastIndex=Xn}return wt},Ts=(q,ee)=>{const Ge=L(q,(St,vt)=>{const wt=Eo(vt),It=St.last,Lt=It+wt.length,un=Je(ee,(Xn,yo)=>Xn.start<Lt&&Xn.finish>It?[{element:vt,start:Math.max(It,Xn.start)-It,finish:Math.min(Lt,Xn.finish)-It,matchId:yo}]:[]);return{results:St.results.concat(un),last:Lt}},{results:[],last:0}).results;return Ve(Ge,St=>St.matchId)},Ns=(q,ee)=>Je(ee,Ge=>{const St=Ge.elements,vt=it(St,Eo).join(""),wt=No(vt,q,Ge.sOffset,vt.length-Ge.fOffset);return Ts(St,wt)}),To=(q,ee)=>{Le(q,(Ge,St)=>{Le(Ge,vt=>{const wt=we.fromDom(ee.cloneNode(!1));en(wt,"data-mce-index",St);const It=vt.element.dom;if(It.length===vt.finish&&vt.start===0)Qe(vt.element,wt);else{It.length!==vt.finish&&It.splitText(vt.finish);const Lt=It.splitText(vt.start);Qe(we.fromDom(Lt),wt)}})})},cs=(q,ee,Ge,St)=>{const vt=Ot(q,Ge),wt=Ns(ee,vt);return To(wt,St),wt.length},wo=(q,ee,Ge,St)=>{const vt=Ge.getBookmark(),wt=q.select("td[data-mce-selected],th[data-mce-selected]"),It=wt.length>0?hn(q,wt):At(q,Ge.getRng()),Lt=Ns(ee,It);return To(Lt,St),Ge.moveToBookmark(vt),Lt.length},rs=q=>{const ee=q.getAttribute("data-mce-index");return typeof ee=="number"?""+ee:ee},Vn=(q,ee,Ge,St)=>{const vt=q.dom.create("span",{"data-mce-bogus":1});vt.className="mce-match-marker";const wt=q.getBody();return G(q,ee,!1),St?wo(q.dom,Ge,q.selection,vt):cs(q.dom,Ge,wt,vt)},gn=q=>{const ee=q.parentNode;q.firstChild&&ee.insertBefore(q.firstChild,q),q.parentNode.removeChild(q)},Vo=(q,ee)=>{const Ge=[],St=zt.toArray(q.getBody().getElementsByTagName("span"));if(St.length)for(let vt=0;vt<St.length;vt++){const wt=rs(St[vt]);wt===null||!wt.length||wt===ee.toString()&&Ge.push(St[vt])}return Ge},lo=(q,ee,Ge)=>{const St=ee.get();let vt=St.index;const wt=q.dom;Ge=Ge!==!1,Ge?vt+1===St.count?vt=0:vt++:vt-1===-1?vt=St.count-1:vt--,wt.removeClass(Vo(q,St.index),"mce-match-marker-selected");const It=Vo(q,vt);return It.length?(wt.addClass(Vo(q,vt),"mce-match-marker-selected"),q.selection.scrollIntoView(It[0]),vt):-1},Lo=(q,ee)=>{const Ge=ee.parentNode;q.remove(ee),q.isEmpty(Ge)&&q.remove(Ge)},Xs=(q,ee)=>{const Ge=q.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),St="("+Ge+")";return ee?`(?:^|\\s|${ke()})`+St+`(?=$|\\s|${ke()})`:St},Rs=(q,ee,Ge,St,vt,wt)=>{const It=q.selection,Lt=Xs(Ge,vt),un=It.isForward(),Xn={regex:new RegExp(Lt,St?"g":"gi"),matchIndex:1},yo=Vn(q,ee,Xn,wt);if(ge.browser.isSafari()&&It.setRng(It.getRng(),un),yo){const Dn=lo(q,ee,!0);ee.set({index:Dn,count:yo,text:Ge,matchCase:St,wholeWord:vt,inSelection:wt})}return yo},ls=(q,ee)=>{const Ge=lo(q,ee,!0);ee.set({...ee.get(),index:Ge})},Mo=(q,ee)=>{const Ge=lo(q,ee,!1);ee.set({...ee.get(),index:Ge})},Zs=q=>{const ee=rs(q);return ee!==null&&ee.length>0},O=(q,ee,Ge,St,vt)=>{const wt=ee.get(),It=wt.index;let Lt,un=It;St=St!==!1;const Xn=q.getBody(),yo=zt.grep(zt.toArray(Xn.getElementsByTagName("span")),Zs);for(let Dn=0;Dn<yo.length;Dn++){const ar=rs(yo[Dn]);let _s=Lt=parseInt(ar,10);if(vt||_s===wt.index){for(Ge.length?(yo[Dn].firstChild.nodeValue=Ge,gn(yo[Dn])):Lo(q.dom,yo[Dn]);yo[++Dn];)if(_s=parseInt(rs(yo[Dn]),10),_s===Lt)Lo(q.dom,yo[Dn]);else{Dn--;break}St&&un--}else Lt>It&&yo[Dn].setAttribute("data-mce-index",String(Lt-1))}return ee.set({...wt,count:vt?0:wt.count-1,index:un}),St?ls(q,ee):Mo(q,ee),!vt&&ee.get().count>0},G=(q,ee,Ge)=>{let St,vt;const wt=ee.get(),It=zt.toArray(q.getBody().getElementsByTagName("span"));for(let Lt=0;Lt<It.length;Lt++){const un=rs(It[Lt]);un!==null&&un.length&&(un===wt.index.toString()&&(St||(St=It[Lt].firstChild),vt=It[Lt].firstChild),gn(It[Lt]))}if(ee.set({...wt,index:-1,count:0,text:""}),St&&vt){const Lt=q.dom.createRng();return Lt.setStart(St,0),Lt.setEnd(vt,vt.data.length),Ge!==!1&&q.selection.setRng(Lt),Lt}},de=(q,ee)=>ee.get().count>1,dt=(q,ee)=>ee.get().count>1,rn=(q,ee)=>({done:Lt=>G(q,ee,Lt),find:(Lt,un,Xn,yo=!1)=>Rs(q,ee,Lt,un,Xn,yo),next:()=>ls(q,ee),prev:()=>Mo(q,ee),replace:(Lt,un,Xn)=>O(q,ee,Lt,un,Xn)}),Et=q=>{const ee=g(ae.none()),Ge=()=>ee.get().each(q);return{clear:()=>{Ge(),ee.set(ae.none())},isSet:()=>ee.get().isSome(),get:()=>ee.get(),set:Lt=>{Ge(),ee.set(ae.some(Lt))}}},An=()=>{const q=Et($e);return{...q,on:Ge=>q.get().each(Ge)}},Bo=(q,ee)=>{const Ge=An();q.undoManager.add();const St=zt.trim(q.selection.getContent({format:"text"})),vt=Bn=>{Bn.setEnabled("next",de(q,ee)),Bn.setEnabled("prev",dt(q,ee))},wt=Bn=>{const to=Bn.getData(),Jo=ee.get();ee.set({...Jo,matchCase:to.matchcase,wholeWord:to.wholewords,inSelection:to.inselection})},It=(Bn,to)=>{ft(["replace","replaceall","prev","next"],Ds=>Bn.setEnabled(Ds,!to))},Lt=Bn=>{q.windowManager.alert("Could not find the specified string.",()=>{Bn.focus("findtext")})},un=(Bn,to)=>{ge.browser.isSafari()&&ge.deviceType.isTouch()&&(to==="find"||to==="replace"||to==="replaceall")&&Bn.focus(to)},Xn=Bn=>{G(q,ee,!1),It(Bn,!0),vt(Bn)},yo=Bn=>{const to=Bn.getData(),Jo=ee.get();if(!to.findtext.length){Xn(Bn);return}if(Jo.text===to.findtext&&Jo.matchCase===to.matchcase&&Jo.wholeWord===to.wholewords)ls(q,ee);else{const es=Rs(q,ee,to.findtext,to.matchcase,to.wholewords,to.inselection);es<=0&&Lt(Bn),It(Bn,es===0)}vt(Bn)},Dn=ee.get(),ar={findtext:St,replacetext:"",wholewords:Dn.wholeWord,matchcase:Dn.matchCase,inselection:Dn.inSelection},_s={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ar,onChange:(Bn,to)=>{to.name==="findtext"&&ee.get().count>0&&Xn(Bn)},onAction:(Bn,to)=>{const Jo=Bn.getData();switch(to.name){case"find":yo(Bn);break;case"replace":O(q,ee,Jo.replacetext)?vt(Bn):Xn(Bn);break;case"replaceall":O(q,ee,Jo.replacetext,!0,!0),Xn(Bn);break;case"prev":Mo(q,ee),vt(Bn);break;case"next":ls(q,ee),vt(Bn);break;case"matchcase":case"wholewords":case"inselection":wt(Bn),Xn(Bn);break}un(Bn,to.name)},onSubmit:Bn=>{yo(Bn),un(Bn,"find")},onClose:()=>{q.focus(),G(q,ee),q.undoManager.add()}};Ge.set(q.windowManager.open(_s,{inline:"toolbar"}))},ln=(q,ee)=>{q.addCommand("SearchReplace",()=>{Bo(q,ee)})},jn=(q,ee)=>()=>{Bo(q,ee)},jo=(q,ee)=>{q.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:jn(q,ee),icon:"search"}),q.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:jn(q,ee),icon:"search"}),q.shortcuts.add("Meta+F","",jn(q,ee))};var Ro=()=>{_.add("searchreplace",q=>{const ee=g({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return ln(q,ee),jo(q,ee),rn(q,ee)})};Ro()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,D=ye=>Ze=>Ze.options.get(ye),X=ye=>{const Ze=ye.options.register;Ze("autolink_pattern",{processor:"regexp",default:new RegExp("^"+_().source+"$","i")}),Ze("link_default_target",{processor:"string"}),Ze("link_default_protocol",{processor:"string",default:"https"})},_e=D("autolink_pattern"),Ae=D("link_default_target"),We=D("link_default_protocol"),Ke=(ye,Ze,qt)=>{var Z;return qt(ye,Ze.prototype)?!0:((Z=ye.constructor)===null||Z===void 0?void 0:Z.name)===Ze.name},Ee=ye=>{const Ze=typeof ye;return ye===null?"null":Ze==="object"&&Array.isArray(ye)?"array":Ze==="object"&&Ke(ye,String,(qt,Z)=>Z.isPrototypeOf(qt))?"string":Ze},pt=(ye=>Ze=>Ee(Ze)===ye)("string"),_t=ye=>ye==null,$e=ye=>!_t(ye),Ne=(ye,Ze,qt)=>Ze===""||ye.length>=Ze.length&&ye.substr(qt,qt+Ze.length)===Ze,tt=(ye,Ze)=>ye.indexOf(Ze)!==-1,xe=(ye,Ze)=>Ne(ye,Ze,0),rt=ye=>/^[(\[{ \u00a0]$/.test(ye),ae=ye=>ye.nodeType===3,ke=ye=>ye.nodeType===1,ge=(ye,Ze)=>{if(Ze<0&&(Ze=0),ae(ye)){const qt=ye.data.length;Ze>qt&&(Ze=qt)}return Ze},zt=(ye,Ze,qt)=>{!ke(Ze)||Ze.hasChildNodes()?ye.setStart(Ze,ge(Ze,qt)):ye.setStartBefore(Ze)},ot=(ye,Ze,qt)=>{!ke(Ze)||Ze.hasChildNodes()?ye.setEnd(Ze,ge(Ze,qt)):ye.setEndAfter(Ze)},le=ye=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(ye),it=ye=>/[?!,.;:]/.test(ye),ft=(ye,Ze)=>{let qt,Z,Pe,yt,et,kn;const Rn=_e(ye);if(ye.dom.getParent(ye.selection.getNode(),"a[href]")!==null)return;const an=ye.selection.getRng().cloneRange();if(an.startOffset<5){if(yt=an.endContainer.previousSibling,!yt){if(!an.endContainer.firstChild||!an.endContainer.firstChild.nextSibling)return;yt=an.endContainer.firstChild.nextSibling}if(et=yt.length,zt(an,yt,et),ot(an,yt,et),an.endOffset<5)return;qt=an.endOffset,Z=yt}else{if(Z=an.endContainer,!ae(Z)&&Z.firstChild){for(;!ae(Z)&&Z.firstChild;)Z=Z.firstChild;ae(Z)&&(zt(an,Z,0),ot(an,Z,Z.nodeValue.length))}an.endOffset===1?qt=2:qt=an.endOffset-1-Ze}const en=qt;do zt(an,Z,qt>=2?qt-2:0),ot(an,Z,qt>=1?qt-1:0),qt-=1,kn=an.toString();while(!rt(kn)&&qt-2>=0);rt(an.toString())?(zt(an,Z,qt),ot(an,Z,en),qt+=1):an.startOffset===0?(zt(an,Z,0),ot(an,Z,en)):(zt(an,Z,qt),ot(an,Z,en)),Pe=an.toString(),it(Pe.charAt(Pe.length-1))&&ot(an,Z,en-1),Pe=an.toString().trim();const cn=Pe.match(Rn),wn=We(ye);if(cn){let w=cn[0];return xe(w,"www.")?w=wn+"://"+w:tt(w,"@")&&!le(w)&&(w="mailto:"+w),{rng:an,url:w}}else return null},Le=(ye,Ze)=>{const qt=Ae(ye),{rng:Z,url:Pe}=Ze,yt=ye.selection.getBookmark();ye.selection.setRng(Z);const et="createlink",kn={command:et,ui:!1,value:Pe};ye.dispatch("BeforeExecCommand",kn).isDefaultPrevented()||(ye.getDoc().execCommand(et,!1,Pe),ye.dispatch("ExecCommand",kn),pt(qt)&&ye.dom.setAttrib(ye.selection.getNode(),"target",qt)),ye.selection.moveToBookmark(yt),ye.nodeChanged()},Ve=ye=>{const Ze=ft(ye,0);$e(Ze)&&Le(ye,Ze)},L=Ve,Wt=ye=>{const Ze=ft(ye,-1);$e(Ze)&&Le(ye,Ze)},Je=ye=>{ye.on("keydown",Ze=>{Ze.keyCode===13&&!Ze.isDefaultPrevented()&&Wt(ye)}),ye.on("keyup",Ze=>{Ze.keyCode===32?Ve(ye):(Ze.keyCode===48&&Ze.shiftKey||Ze.keyCode===221)&&L(ye)})};var jt=()=>{g.add("autolink",ye=>{X(ye),Je(ye)})};jt()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(Z,Pe,yt)=>{var et;return yt(Z,Pe.prototype)?!0:((et=Z.constructor)===null||et===void 0?void 0:et.name)===Pe.name},D=Z=>{const Pe=typeof Z;return Z===null?"null":Pe==="object"&&Array.isArray(Z)?"array":Pe==="object"&&_(Z,String,(yt,et)=>et.isPrototypeOf(yt))?"string":Pe},X=Z=>Pe=>D(Pe)===Z,_e=Z=>Pe=>Z===Pe,Ae=X("string"),We=_e(void 0);var Ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ee=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Ie=tinymce.util.Tools.resolve("tinymce.util.Tools");const pt=Z=>Z.dispatch("RestoreDraft"),_t=Z=>Z.dispatch("StoreDraft"),$e=Z=>Z.dispatch("RemoveDraft"),Ne=Z=>{const Pe={s:1e3,m:6e4},yt=/^(\d+)([ms]?)$/.exec(Z);return(yt[2]?Pe[yt[2]]:1)*parseInt(Z,10)},tt=Z=>Pe=>Pe.options.get(Z),xe=Z=>{const Pe=Z.options.register,yt=et=>{const kn=Ae(et);return kn?{value:Ne(et),valid:kn}:{valid:!1,message:"Must be a string."}};Pe("autosave_ask_before_unload",{processor:"boolean",default:!0}),Pe("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),Pe("autosave_restore_when_empty",{processor:"boolean",default:!1}),Pe("autosave_interval",{processor:yt,default:"30s"}),Pe("autosave_retention",{processor:yt,default:"20m"})},rt=tt("autosave_ask_before_unload"),ae=tt("autosave_restore_when_empty"),ke=tt("autosave_interval"),ge=tt("autosave_retention"),zt=Z=>{const Pe=document.location;return Z.options.get("autosave_prefix").replace(/{path}/g,Pe.pathname).replace(/{query}/g,Pe.search).replace(/{hash}/g,Pe.hash).replace(/{id}/g,Z.id)},ot=(Z,Pe)=>{if(We(Pe))return Z.dom.isEmpty(Z.getBody());{const yt=Ie.trim(Pe);if(yt==="")return!0;{const et=new DOMParser().parseFromString(yt,"text/html");return Z.dom.isEmpty(et)}}},le=Z=>{const Pe=parseInt(Ee.getItem(zt(Z)+"time"),10)||0;return new Date().getTime()-Pe>ge(Z)?(it(Z,!1),!1):!0},it=(Z,Pe)=>{const yt=zt(Z);Ee.removeItem(yt+"draft"),Ee.removeItem(yt+"time"),Pe!==!1&&$e(Z)},ft=Z=>{const Pe=zt(Z);!ot(Z)&&Z.isDirty()&&(Ee.setItem(Pe+"draft",Z.getContent({format:"raw",no_events:!0})),Ee.setItem(Pe+"time",new Date().getTime().toString()),_t(Z))},Le=Z=>{const Pe=zt(Z);le(Z)&&(Z.setContent(Ee.getItem(Pe+"draft"),{format:"raw"}),pt(Z))},Ve=Z=>{const Pe=ke(Z);Ke.setEditorInterval(Z,()=>{ft(Z)},Pe)},L=Z=>{Z.undoManager.transact(()=>{Le(Z),it(Z)}),Z.focus()},Wt=Z=>({hasDraft:()=>le(Z),storeDraft:()=>ft(Z),restoreDraft:()=>Le(Z),removeDraft:Pe=>it(Z,Pe),isEmpty:Pe=>ot(Z,Pe)});var Je=tinymce.util.Tools.resolve("tinymce.EditorManager");const jt=Z=>{Z.editorManager.on("BeforeUnload",Pe=>{let yt;Ie.each(Je.get(),et=>{et.plugins.autosave&&et.plugins.autosave.storeDraft(),!yt&&et.isDirty()&&rt(et)&&(yt=et.translate("You have unsaved changes are you sure you want to navigate away?"))}),yt&&(Pe.preventDefault(),Pe.returnValue=yt)})},ye=Z=>Pe=>{Pe.setEnabled(le(Z));const yt=()=>Pe.setEnabled(le(Z));return Z.on("StoreDraft RestoreDraft RemoveDraft",yt),()=>Z.off("StoreDraft RestoreDraft RemoveDraft",yt)},Ze=Z=>{Ve(Z),Z.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:()=>{L(Z)},onSetup:ye(Z)}),Z.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:()=>{L(Z)},onSetup:ye(Z)})};var qt=()=>{g.add("autosave",Z=>(xe(Z),jt(Z),Ze(Z),Z.on("init",()=>{ae(Z)&&Z.dom.isEmpty(Z.getBody())&&Le(Z)}),Wt(Z)))};qt()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(Fe,st,Qt)=>{var Ut;return Qt(Fe,st.prototype)?!0:((Ut=Fe.constructor)===null||Ut===void 0?void 0:Ut.name)===st.name},D=Fe=>{const st=typeof Fe;return Fe===null?"null":st==="object"&&Array.isArray(Fe)?"array":st==="object"&&_(Fe,String,(Qt,Ut)=>Ut.isPrototypeOf(Qt))?"string":st},X=Fe=>st=>D(st)===Fe,_e=Fe=>st=>typeof st===Fe,Ae=X("string"),We=_e("boolean"),Ke=Fe=>Fe==null,Ee=Fe=>!Ke(Fe),Ie=_e("function"),pt=_e("number"),_t=(Fe,st)=>Qt=>Fe(st(Qt)),Ne=(Fe=>()=>Fe)(!1);class tt{constructor(st,Qt){this.tag=st,this.value=Qt}static some(st){return new tt(!0,st)}static none(){return tt.singletonNone}fold(st,Qt){return this.tag?Qt(this.value):st()}isSome(){return this.tag}isNone(){return!this.tag}map(st){return this.tag?tt.some(st(this.value)):tt.none()}bind(st){return this.tag?st(this.value):tt.none()}exists(st){return this.tag&&st(this.value)}forall(st){return!this.tag||st(this.value)}filter(st){return!this.tag||st(this.value)?this:tt.none()}getOr(st){return this.tag?this.value:st}or(st){return this.tag?this:st}getOrThunk(st){return this.tag?this.value:st()}orThunk(st){return this.tag?this:st()}getOrDie(st){if(this.tag)return this.value;throw new Error(st!=null?st:"Called getOrDie on None")}static from(st){return Ee(st)?tt.some(st):tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(st){this.tag&&st(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}tt.singletonNone=new tt(!1);const xe=(Fe,st)=>{const Qt=Fe.length,Ut=new Array(Qt);for(let Tn=0;Tn<Qt;Tn++){const Pn=Fe[Tn];Ut[Tn]=st(Pn,Tn)}return Ut},rt=(Fe,st)=>{for(let Qt=0,Ut=Fe.length;Qt<Ut;Qt++){const Tn=Fe[Qt];st(Tn,Qt)}},ae=(Fe,st)=>{const Qt=[];for(let Ut=0,Tn=Fe.length;Ut<Tn;Ut++){const Pn=Fe[Ut];st(Pn,Ut)&&Qt.push(Pn)}return Qt},ke=9,ge=11,zt=1,ot=3,le=(Fe,st)=>{const Ut=(st||document).createElement("div");if(Ut.innerHTML=Fe,!Ut.hasChildNodes()||Ut.childNodes.length>1){const Tn="HTML does not have a single root node";throw console.error(Tn,Fe),new Error(Tn)}return Le(Ut.childNodes[0])},it=(Fe,st)=>{const Ut=(st||document).createElement(Fe);return Le(Ut)},ft=(Fe,st)=>{const Ut=(st||document).createTextNode(Fe);return Le(Ut)},Le=Fe=>{if(Fe==null)throw new Error("Node cannot be null or undefined");return{dom:Fe}},L={fromHtml:le,fromTag:it,fromText:ft,fromDom:Le,fromPoint:(Fe,st,Qt)=>tt.from(Fe.dom.elementFromPoint(st,Qt)).map(Le)},Wt=(Fe,st)=>{const Qt=Fe.dom;if(Qt.nodeType!==zt)return!1;{const Ut=Qt;if(Ut.matches!==void 0)return Ut.matches(st);if(Ut.msMatchesSelector!==void 0)return Ut.msMatchesSelector(st);if(Ut.webkitMatchesSelector!==void 0)return Ut.webkitMatchesSelector(st);if(Ut.mozMatchesSelector!==void 0)return Ut.mozMatchesSelector(st);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Je=Fe=>Fe.dom.nodeName.toLowerCase(),jt=Fe=>Fe.dom.nodeType,ye=Fe=>st=>jt(st)===Fe,Ze=ye(zt),qt=ye(ot),Z=ye(ke),Pe=ye(ge),yt=Fe=>st=>Ze(st)&&Je(st)===Fe,et=Fe=>L.fromDom(Fe.dom.ownerDocument),kn=Fe=>Z(Fe)?Fe:et(Fe),Rn=Fe=>tt.from(Fe.dom.parentNode).map(L.fromDom),an=Fe=>xe(Fe.dom.childNodes,L.fromDom),en=(Fe,st,Qt)=>{if(Ae(Qt)||We(Qt)||pt(Qt))Fe.setAttribute(st,Qt+"");else throw console.error("Invalid call to Attribute.set. Key ",st,":: Value ",Qt,":: Element ",Fe),new Error("Attribute value was not simple")},cn=(Fe,st,Qt)=>{en(Fe.dom,st,Qt)},wn=(Fe,st)=>{Fe.dom.removeAttribute(st)},w=Fe=>Pe(Fe)&&Ee(Fe.dom.host),re=Ie(Element.prototype.attachShadow)&&Ie(Node.prototype.getRootNode)?Fe=>L.fromDom(Fe.dom.getRootNode()):kn,we=Fe=>{const st=re(Fe);return w(st)?tt.some(st):tt.none()},J=Fe=>L.fromDom(Fe.dom.host),me=Fe=>{const st=qt(Fe)?Fe.dom.parentNode:Fe.dom;if(st==null||st.ownerDocument===null)return!1;const Qt=st.ownerDocument;return we(L.fromDom(st)).fold(()=>Qt.body.contains(st),_t(me,J))},ce=(Fe,st,Qt)=>{let Ut=Fe.dom;const Tn=Ie(Qt)?Qt:Ne;for(;Ut.parentNode;){Ut=Ut.parentNode;const Pn=L.fromDom(Ut);if(st(Pn))return tt.some(Pn);if(Tn(Pn))break}return tt.none()},Ce=(Fe,st,Qt)=>ce(Fe,Ut=>Wt(Ut,st),Qt),W=Fe=>Fe.style!==void 0&&Ie(Fe.style.getPropertyValue),M=(Fe,st)=>{const Qt=Fe.dom,Tn=window.getComputedStyle(Qt).getPropertyValue(st);return Tn===""&&!me(Fe)?Ue(Qt,st):Tn},Ue=(Fe,st)=>W(Fe)?Fe.style.getPropertyValue(st):"",kt=Fe=>M(Fe,"direction")==="rtl"?"rtl":"ltr",Qe=(Fe,st)=>ae(an(Fe),st),pn=(Fe,st)=>Qe(Fe,Qt=>Wt(Qt,st)),En=Fe=>Rn(Fe).filter(Ze),Eo=(Fe,st)=>(st?Ce(Fe,"ol,ul"):tt.some(Fe)).getOr(Fe),oo=yt("li"),Yn=(Fe,st)=>{const Qt=Fe.selection.getSelectedBlocks();Qt.length>0&&(rt(Qt,Ut=>{const Tn=L.fromDom(Ut),Pn=oo(Tn),ho=Eo(Tn,Pn);En(ho).each(ue=>{if(kt(ue)!==st?cn(ho,"dir",st):kt(ho)!==st&&wn(ho,"dir"),Pn){const At=pn(ho,"li[dir]");rt(At,Ot=>wn(Ot,"dir"))}})}),Fe.nodeChanged())},eo=Fe=>{Fe.addCommand("mceDirectionLTR",()=>{Yn(Fe,"ltr")}),Fe.addCommand("mceDirectionRTL",()=>{Yn(Fe,"rtl")})},Xt=(Fe,st)=>Qt=>{const Ut=Tn=>{const Pn=L.fromDom(Tn.element);Qt.setActive(kt(Pn)===st)};return Fe.on("NodeChange",Ut),()=>Fe.off("NodeChange",Ut)},ro=Fe=>{Fe.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>Fe.execCommand("mceDirectionLTR"),onSetup:Xt(Fe,"ltr")}),Fe.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>Fe.execCommand("mceDirectionRTL"),onSetup:Xt(Fe,"rtl")})};var io=()=>{g.add("directionality",Fe=>{eo(Fe),ro(Fe)})};io()}(),function(){const g=$e=>{let Ne=$e;return{get:()=>Ne,set:rt=>{Ne=rt}}};var _=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=($e,Ne)=>{$e.dispatch("VisualBlocks",{state:Ne})},X=($e,Ne,tt)=>{$e.dom.toggleClass($e.getBody(),"mce-visualblocks"),tt.set(!tt.get()),D($e,tt.get())},_e=($e,Ne,tt)=>{$e.addCommand("mceVisualBlocks",()=>{X($e,Ne,tt)})},Ae=$e=>Ne=>Ne.options.get($e),We=$e=>{const Ne=$e.options.register;Ne("visualblocks_default_state",{processor:"boolean",default:!1})},Ke=Ae("visualblocks_default_state"),Ee=($e,Ne,tt)=>{$e.on("PreviewFormats AfterPreviewFormats",xe=>{tt.get()&&$e.dom.toggleClass($e.getBody(),"mce-visualblocks",xe.type==="afterpreviewformats")}),$e.on("init",()=>{Ke($e)&&X($e,Ne,tt)})},Ie=($e,Ne)=>tt=>{tt.setActive(Ne.get());const xe=rt=>tt.setActive(rt.state);return $e.on("VisualBlocks",xe),()=>$e.off("VisualBlocks",xe)},pt=($e,Ne)=>{const tt=()=>$e.execCommand("mceVisualBlocks");$e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:tt,onSetup:Ie($e,Ne)}),$e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:tt,onSetup:Ie($e,Ne)})};var _t=()=>{_.add("visualblocks",($e,Ne)=>{We($e);const tt=g(!1);_e($e,Ne,tt),pt($e,tt),Ee($e,Ne,tt)})};_t()}(),function(){const g=ue=>{let ze=ue;return{get:()=>ze,set:hn=>{ze=hn}}};var _=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=ue=>({isEnabled:()=>ue.get()}),X=(ue,ze)=>ue.dispatch("VisualChars",{state:ze}),_e=(ue,ze,At)=>{var Ot;return At(ue,ze.prototype)?!0:((Ot=ue.constructor)===null||Ot===void 0?void 0:Ot.name)===ze.name},Ae=ue=>{const ze=typeof ue;return ue===null?"null":ze==="object"&&Array.isArray(ue)?"array":ze==="object"&&_e(ue,String,(At,Ot)=>Ot.isPrototypeOf(At))?"string":ze},We=ue=>ze=>Ae(ze)===ue,Ke=ue=>ze=>typeof ze===ue,Ee=ue=>ze=>ue===ze,Ie=We("string"),pt=Ee(null),_t=Ke("boolean"),$e=ue=>ue==null,Ne=ue=>!$e(ue),tt=Ke("number");class xe{constructor(ze,At){this.tag=ze,this.value=At}static some(ze){return new xe(!0,ze)}static none(){return xe.singletonNone}fold(ze,At){return this.tag?At(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?xe.some(ze(this.value)):xe.none()}bind(ze){return this.tag?ze(this.value):xe.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:xe.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze!=null?ze:"Called getOrDie on None")}static from(ze){return Ne(ze)?xe.some(ze):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const rt=(ue,ze)=>{const At=ue.length,Ot=new Array(At);for(let hn=0;hn<At;hn++){const No=ue[hn];Ot[hn]=ze(No,hn)}return Ot},ae=(ue,ze)=>{for(let At=0,Ot=ue.length;At<Ot;At++){const hn=ue[At];ze(hn,At)}},ke=(ue,ze)=>{const At=[];for(let Ot=0,hn=ue.length;Ot<hn;Ot++){const No=ue[Ot];ze(No,Ot)&&At.push(No)}return At},ge=Object.keys,zt=(ue,ze)=>{const At=ge(ue);for(let Ot=0,hn=At.length;Ot<hn;Ot++){const No=At[Ot],Ts=ue[No];ze(Ts,No)}};typeof window<"u"||Function("return this;")();const ot=3,le=ue=>ue.dom.nodeType,it=ue=>ue.dom.nodeValue,Le=(ue=>ze=>le(ze)===ue)(ot),Ve=(ue,ze,At)=>{if(Ie(At)||_t(At)||tt(At))ue.setAttribute(ze,At+"");else throw console.error("Invalid call to Attribute.set. Key ",ze,":: Value ",At,":: Element ",ue),new Error("Attribute value was not simple")},L=(ue,ze,At)=>{Ve(ue.dom,ze,At)},Wt=(ue,ze)=>{const At=ue.dom.getAttribute(ze);return At===null?void 0:At},Je=(ue,ze)=>{ue.dom.removeAttribute(ze)},jt=(ue,ze)=>{const At=Wt(ue,ze);return At===void 0||At===""?[]:At.split(" ")},ye=(ue,ze,At)=>{const hn=jt(ue,ze).concat([At]);return L(ue,ze,hn.join(" ")),!0},Ze=(ue,ze,At)=>{const Ot=ke(jt(ue,ze),hn=>hn!==At);return Ot.length>0?L(ue,ze,Ot.join(" ")):Je(ue,ze),!1},qt=ue=>ue.dom.classList!==void 0,Z=ue=>jt(ue,"class"),Pe=(ue,ze)=>ye(ue,"class",ze),yt=(ue,ze)=>Ze(ue,"class",ze),et=(ue,ze)=>{qt(ue)?ue.dom.classList.add(ze):Pe(ue,ze)},kn=ue=>{(qt(ue)?ue.dom.classList:Z(ue)).length===0&&Je(ue,"class")},Rn=(ue,ze)=>{qt(ue)?ue.dom.classList.remove(ze):yt(ue,ze),kn(ue)},an=(ue,ze)=>{const Ot=(ze||document).createElement("div");if(Ot.innerHTML=ue,!Ot.hasChildNodes()||Ot.childNodes.length>1){const hn="HTML does not have a single root node";throw console.error(hn,ue),new Error(hn)}return wn(Ot.childNodes[0])},en=(ue,ze)=>{const Ot=(ze||document).createElement(ue);return wn(Ot)},cn=(ue,ze)=>{const Ot=(ze||document).createTextNode(ue);return wn(Ot)},wn=ue=>{if(ue==null)throw new Error("Node cannot be null or undefined");return{dom:ue}},ie={fromHtml:an,fromTag:en,fromText:cn,fromDom:wn,fromPoint:(ue,ze,At)=>xe.from(ue.dom.elementFromPoint(ze,At)).map(wn)},re={"\xA0":"nbsp","\xAD":"shy"},we=(ue,ze)=>{let At="";return zt(ue,(Ot,hn)=>{At+=hn}),new RegExp("["+At+"]",ze?"g":"")},J=ue=>{let ze="";return zt(ue,At=>{ze&&(ze+=","),ze+="span.mce-"+At}),ze},me=we(re),ce=we(re,!0),Ce=J(re),W="mce-nbsp",M=ue=>'<span data-mce-bogus="1" class="mce-'+re[ue]+'">'+ue+"</span>",Ue=ue=>{const ze=it(ue);return Le(ue)&&ze!==void 0&&me.test(ze)},kt=(ue,ze)=>{let At=[];const Ot=ue.dom,hn=rt(Ot.childNodes,ie.fromDom);return ae(hn,No=>{ze(No)&&(At=At.concat([No])),At=At.concat(kt(No,ze))}),At},Qe=(ue,ze)=>{for(;ue.parentNode;){if(ue.parentNode===ze)return ue;ue=ue.parentNode}},pn=ue=>ue.replace(ce,M),En=ue=>ue.nodeName.toLowerCase()==="span"&&ue.classList.contains("mce-nbsp-wrap"),Eo=(ue,ze)=>{const At=kt(ie.fromDom(ze),Ue);ae(At,Ot=>{const hn=Ot.dom.parentNode;if(En(hn))et(ie.fromDom(hn),W);else{const No=pn(ue.dom.encode(it(Ot))),Ts=ue.dom.create("div",null,No);let Ns;for(;Ns=Ts.lastChild;)ue.dom.insertAfter(Ns,Ot.dom);ue.dom.remove(Ot.dom)}})},oo=(ue,ze)=>{const At=ue.dom.select(Ce,ze);ae(At,Ot=>{En(Ot)?Rn(ie.fromDom(Ot),W):ue.dom.remove(Ot,!0)})},Yn=ue=>{const ze=ue.getBody(),At=ue.selection.getBookmark();let Ot=Qe(ue.selection.getNode(),ze);Ot=Ot!==void 0?Ot:ze,oo(ue,Ot),Eo(ue,Ot),ue.selection.moveToBookmark(At)},eo=(ue,ze)=>{X(ue,ze.get());const At=ue.getBody();ze.get()===!0?Eo(ue,At):oo(ue,At)},Xt=(ue,ze)=>{ze.set(!ze.get());const At=ue.selection.getBookmark();eo(ue,ze),ue.selection.moveToBookmark(At)},ro=(ue,ze)=>{ue.addCommand("mceVisualChars",()=>{Xt(ue,ze)})},io=ue=>ze=>ze.options.get(ue),Fe=ue=>{const ze=ue.options.register;ze("visualchars_default_state",{processor:"boolean",default:!1})},st=io("visualchars_default_state"),Qt=(ue,ze)=>{ue.on("init",()=>{eo(ue,ze)})},Ut=(ue,ze)=>{let At=null;return{cancel:()=>{pt(At)||(clearTimeout(At),At=null)},throttle:(...No)=>{pt(At)&&(At=setTimeout(()=>{At=null,ue.apply(null,No)},ze))}}},Tn=(ue,ze)=>{const At=Ut(()=>{Yn(ue)},300);ue.on("keydown",Ot=>{ze.get()===!0&&(Ot.keyCode===13?Yn(ue):At.throttle())}),ue.on("remove",At.cancel)},Pn=(ue,ze)=>At=>{At.setActive(ze.get());const Ot=hn=>At.setActive(hn.state);return ue.on("VisualChars",Ot),()=>ue.off("VisualChars",Ot)},ho=(ue,ze)=>{const At=()=>ue.execCommand("mceVisualChars");ue.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:At,onSetup:Pn(ue,ze)}),ue.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:At,onSetup:Pn(ue,ze)})};var $o=()=>{_.add("visualchars",ue=>{Fe(ue);const ze=g(st(ue));return ro(ue,ze),ho(ue,ze),Tn(ue,ze),Qt(ue,ze),D(ze)})};$o()}(),function(){const g=$=>{let V=$;return{get:()=>V,set:Zt=>{V=Zt}}};var _=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=$=>({isFullscreen:()=>$.get()!==null}),X=($,V,Te)=>{var He;return Te($,V.prototype)?!0:((He=$.constructor)===null||He===void 0?void 0:He.name)===V.name},_e=$=>{const V=typeof $;return $===null?"null":V==="object"&&Array.isArray($)?"array":V==="object"&&X($,String,(Te,He)=>He.isPrototypeOf(Te))?"string":V},Ae=$=>V=>_e(V)===$,We=$=>V=>typeof V===$,Ke=$=>V=>$===V,Ee=Ae("string"),Ie=Ae("array"),pt=Ke(null),_t=We("boolean"),$e=$=>$==null,Ne=$=>!$e($),tt=We("function"),xe=We("number"),rt=()=>{},ae=($,V)=>(...Te)=>$(V.apply(null,Te)),ke=($,V)=>Te=>$(V(Te)),ge=$=>()=>$;function zt($,...V){return(...Te)=>{const He=V.concat(Te);return $.apply(null,He)}}const ot=ge(!1),le=ge(!0);class it{constructor(V,Te){this.tag=V,this.value=Te}static some(V){return new it(!0,V)}static none(){return it.singletonNone}fold(V,Te){return this.tag?Te(this.value):V()}isSome(){return this.tag}isNone(){return!this.tag}map(V){return this.tag?it.some(V(this.value)):it.none()}bind(V){return this.tag?V(this.value):it.none()}exists(V){return this.tag&&V(this.value)}forall(V){return!this.tag||V(this.value)}filter(V){return!this.tag||V(this.value)?this:it.none()}getOr(V){return this.tag?this.value:V}or(V){return this.tag?this:V}getOrThunk(V){return this.tag?this.value:V()}orThunk(V){return this.tag?this:V()}getOrDie(V){if(this.tag)return this.value;throw new Error(V!=null?V:"Called getOrDie on None")}static from(V){return Ne(V)?it.some(V):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(V){this.tag&&V(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}it.singletonNone=new it(!1);const ft=$=>{const V=g(it.none()),Te=()=>V.get().each($);return{clear:()=>{Te(),V.set(it.none())},isSet:()=>V.get().isSome(),get:()=>V.get(),set:Uo=>{Te(),V.set(it.some(Uo))}}},Le=()=>ft($=>$.unbind()),Ve=()=>{const $=ft(rt);return{...$,on:Te=>$.get().each(Te)}},L=($,V)=>{let Te=null;return{cancel:()=>{pt(Te)||(clearTimeout(Te),Te=null)},throttle:(...tn)=>{pt(Te)&&(Te=setTimeout(()=>{Te=null,$.apply(null,tn)},V))}}},Wt=Array.prototype.push,Je=($,V)=>{const Te=$.length,He=new Array(Te);for(let Zt=0;Zt<Te;Zt++){const tn=$[Zt];He[Zt]=V(tn,Zt)}return He},jt=($,V)=>{for(let Te=0,He=$.length;Te<He;Te++){const Zt=$[Te];V(Zt,Te)}},ye=($,V)=>{const Te=[];for(let He=0,Zt=$.length;He<Zt;He++){const tn=$[He];V(tn,He)&&Te.push(tn)}return Te},Ze=($,V,Te)=>{for(let He=0,Zt=$.length;He<Zt;He++){const tn=$[He];if(V(tn,He))return it.some(tn);if(Te(tn,He))break}return it.none()},qt=($,V)=>Ze($,V,ot),Z=$=>{const V=[];for(let Te=0,He=$.length;Te<He;++Te){if(!Ie($[Te]))throw new Error("Arr.flatten item "+Te+" was not an array, input: "+$);Wt.apply(V,$[Te])}return V},Pe=($,V)=>Z(Je($,V)),yt=($,V)=>V>=0&&V<$.length?it.some($[V]):it.none(),et=$=>yt($,0),kn=($,V)=>{for(let Te=0;Te<$.length;Te++){const He=V($[Te],Te);if(He.isSome())return He}return it.none()},Rn=Object.keys,an=($,V)=>{const Te=Rn($);for(let He=0,Zt=Te.length;He<Zt;He++){const tn=Te[He],vo=$[tn];V(vo,tn)}},en=($,V)=>$.indexOf(V)!==-1,cn=$=>$.style!==void 0&&tt($.style.getPropertyValue),wn=($,V)=>{const He=(V||document).createElement("div");if(He.innerHTML=$,!He.hasChildNodes()||He.childNodes.length>1){const Zt="HTML does not have a single root node";throw console.error(Zt,$),new Error(Zt)}return re(He.childNodes[0])},w=($,V)=>{const He=(V||document).createElement($);return re(He)},ie=($,V)=>{const He=(V||document).createTextNode($);return re(He)},re=$=>{if($==null)throw new Error("Node cannot be null or undefined");return{dom:$}},J={fromHtml:wn,fromTag:w,fromText:ie,fromDom:re,fromPoint:($,V,Te)=>it.from($.dom.elementFromPoint(V,Te)).map(re)};typeof window<"u"||Function("return this;")();const me=9,ce=11,Ce=1,W=3,M=$=>$.dom.nodeType,Ue=$=>V=>M(V)===$,kt=Ue(Ce),Qe=Ue(W),pn=Ue(me),En=Ue(ce),Eo=($,V)=>{const Te=$.dom;if(Te.nodeType!==Ce)return!1;{const He=Te;if(He.matches!==void 0)return He.matches(V);if(He.msMatchesSelector!==void 0)return He.msMatchesSelector(V);if(He.webkitMatchesSelector!==void 0)return He.webkitMatchesSelector(V);if(He.mozMatchesSelector!==void 0)return He.mozMatchesSelector(V);throw new Error("Browser lacks native selectors")}},oo=$=>$.nodeType!==Ce&&$.nodeType!==me&&$.nodeType!==ce||$.childElementCount===0,Yn=($,V)=>{const Te=V===void 0?document:V.dom;return oo(Te)?[]:Je(Te.querySelectorAll($),J.fromDom)},eo=($,V)=>$.dom===V.dom,Xt=$=>J.fromDom($.dom.ownerDocument),ro=$=>pn($)?$:Xt($),io=$=>it.from($.dom.parentNode).map(J.fromDom),Fe=($,V)=>{const Te=tt(V)?V:ot;let He=$.dom;const Zt=[];for(;He.parentNode!==null&&He.parentNode!==void 0;){const tn=He.parentNode,vo=J.fromDom(tn);if(Zt.push(vo),Te(vo)===!0)break;He=tn}return Zt},st=$=>{const V=Te=>ye(Te,He=>!eo($,He));return io($).map(Qt).map(V).getOr([])},Qt=$=>Je($.dom.childNodes,J.fromDom),Ut=$=>En($)&&Ne($.dom.host),Tn=tt(Element.prototype.attachShadow)&&tt(Node.prototype.getRootNode),Pn=ge(Tn),ho=Tn?$=>J.fromDom($.dom.getRootNode()):ro,$o=$=>{const V=ho($);return Ut(V)?it.some(V):it.none()},ue=$=>J.fromDom($.dom.host),ze=$=>{if(Pn()&&Ne($.target)){const V=J.fromDom($.target);if(kt(V)&&At(V)&&$.composed&&$.composedPath){const Te=$.composedPath();if(Te)return et(Te)}}return it.from($.target)},At=$=>Ne($.dom.shadowRoot),Ot=$=>{const V=Qe($)?$.dom.parentNode:$.dom;if(V==null||V.ownerDocument===null)return!1;const Te=V.ownerDocument;return $o(J.fromDom(V)).fold(()=>Te.body.contains(V),ke(Ot,ue))},hn=$=>{const V=$.dom.body;if(V==null)throw new Error("Body is not available yet");return J.fromDom(V)},No=($,V,Te)=>{if(Ee(Te)||_t(Te)||xe(Te))$.setAttribute(V,Te+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",Te,":: Element ",$),new Error("Attribute value was not simple")},Ts=($,V,Te)=>{No($.dom,V,Te)},Ns=($,V)=>{const Te=$.dom.getAttribute(V);return Te===null?void 0:Te},To=($,V)=>{$.dom.removeAttribute(V)},cs=($,V,Te)=>{if(!Ee(Te))throw console.error("Invalid call to CSS.set. Property ",V,":: Value ",Te,":: Element ",$),new Error("CSS value must be a string: "+Te);cn($)&&$.style.setProperty(V,Te)},wo=($,V)=>{const Te=$.dom;an(V,(He,Zt)=>{cs(Te,Zt,He)})},rs=($,V)=>{const Te=$.dom,Zt=window.getComputedStyle(Te).getPropertyValue(V);return Zt===""&&!Ot($)?Vn(Te,V):Zt},Vn=($,V)=>cn($)?$.style.getPropertyValue(V):"",gn=($,V,Te,He,Zt,tn,vo)=>({target:$,x:V,y:Te,stop:He,prevent:Zt,kill:tn,raw:vo}),Vo=$=>{const V=J.fromDom(ze($).getOr($.target)),Te=()=>$.stopPropagation(),He=()=>$.preventDefault(),Zt=ae(He,Te);return gn(V,$.clientX,$.clientY,Te,He,Zt,$)},lo=($,V)=>Te=>{$(Te)&&V(Vo(Te))},Lo=($,V,Te,He,Zt)=>{const tn=lo(Te,He);return $.dom.addEventListener(V,tn,Zt),{unbind:zt(Rs,$,V,tn,Zt)}},Xs=($,V,Te,He)=>Lo($,V,Te,He,!1),Rs=($,V,Te,He)=>{$.dom.removeEventListener(V,Te,He)},ls=le,Mo=($,V,Te)=>Xs($,V,ls,Te),Zs=$=>{let V=!1,Te;return(...He)=>(V||(V=!0,Te=$.apply(null,He)),Te)},O=($,V,Te,He)=>{const Zt=$.isiOS()&&/ipad/i.test(Te)===!0,tn=$.isiOS()&&!Zt,vo=$.isiOS()||$.isAndroid(),Uo=vo||He("(pointer:coarse)"),Js=Zt||!tn&&vo&&He("(min-device-width:768px)"),qn=tn||vo&&!Js,ko=V.isSafari()&&$.isiOS()&&/safari/i.test(Te)===!1,er=!qn&&!Js&&!ko;return{isiPad:ge(Zt),isiPhone:ge(tn),isTablet:ge(Js),isPhone:ge(qn),isTouch:ge(Uo),isAndroid:$.isAndroid,isiOS:$.isiOS,isWebView:ge(ko),isDesktop:ge(er)}},G=($,V)=>{for(let Te=0;Te<$.length;Te++){const He=$[Te];if(He.test(V))return He}},de=($,V)=>{const Te=G($,V);if(!Te)return{major:0,minor:0};const He=Zt=>Number(V.replace(Te,"$"+Zt));return Et(He(1),He(2))},dt=($,V)=>{const Te=String(V).toLowerCase();return $.length===0?rn():de($,Te)},rn=()=>Et(0,0),Et=($,V)=>({major:$,minor:V}),An={nu:Et,detect:dt,unknown:rn},Bo=($,V)=>kn(V.brands,Te=>{const He=Te.brand.toLowerCase();return qt($,Zt=>{var tn;return He===((tn=Zt.brand)===null||tn===void 0?void 0:tn.toLowerCase())}).map(Zt=>({current:Zt.name,version:An.nu(parseInt(Te.version,10),0)}))}),ln=($,V)=>{const Te=String(V).toLowerCase();return qt($,He=>He.search(Te))},jn=($,V)=>ln($,V).map(Te=>{const He=An.detect(Te.versionRegexes,V);return{current:Te.name,version:He}}),jo=($,V)=>ln($,V).map(Te=>{const He=An.detect(Te.versionRegexes,V);return{current:Te.name,version:He}}),Ro=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=$=>V=>en(V,$),ee=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:$=>en($,"edge/")&&en($,"chrome")&&en($,"safari")&&en($,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ro],search:$=>en($,"chrome")&&!en($,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:$=>en($,"msie")||en($,"trident")},{name:"Opera",versionRegexes:[Ro,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[Ro,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:$=>(en($,"safari")||en($,"mobile/"))&&en($,"applewebkit")}],Ge=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:$=>en($,"iphone")||en($,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],St={browsers:ge(ee),oses:ge(Ge)},vt="Edge",wt="Chromium",It="IE",Lt="Opera",un="Firefox",Xn="Safari",yo=()=>Dn({current:void 0,version:An.unknown()}),Dn=$=>{const V=$.current,Te=$.version,He=Zt=>()=>V===Zt;return{current:V,version:Te,isEdge:He(vt),isChromium:He(wt),isIE:He(It),isOpera:He(Lt),isFirefox:He(un),isSafari:He(Xn)}},ar={unknown:yo,nu:Dn,edge:ge(vt),chromium:ge(wt),ie:ge(It),opera:ge(Lt),firefox:ge(un),safari:ge(Xn)},_s="Windows",Bn="iOS",to="Android",Jo="Linux",es="macOS",Ds="Solaris",Os="FreeBSD",Zr="ChromeOS",Hs=()=>Sr({current:void 0,version:An.unknown()}),Sr=$=>{const V=$.current,Te=$.version,He=Zt=>()=>V===Zt;return{current:V,version:Te,isWindows:He(_s),isiOS:He(Bn),isAndroid:He(to),isMacOS:He(es),isLinux:He(Jo),isSolaris:He(Ds),isFreeBSD:He(Os),isChromeOS:He(Zr)}},cr={unknown:Hs,nu:Sr,windows:ge(_s),ios:ge(Bn),android:ge(to),linux:ge(Jo),macos:ge(es),solaris:ge(Ds),freebsd:ge(Os),chromeos:ge(Zr)},xr={detect:($,V,Te)=>{const He=St.browsers(),Zt=St.oses(),tn=V.bind(Js=>Bo(He,Js)).orThunk(()=>jn(He,$)).fold(ar.unknown,ar.nu),vo=jo(Zt,$).fold(cr.unknown,cr.nu),Uo=O(vo,tn,$,Te);return{browser:tn,os:vo,deviceType:Uo}}},Lr=$=>window.matchMedia($).matches;let Qr=Zs(()=>xr.detect(navigator.userAgent,it.from(navigator.userAgentData),Lr));const Mr=()=>Qr(),Qs=($,V)=>({left:$,top:V,translate:(He,Zt)=>Qs($+He,V+Zt)}),Oa=Qs,ir=$=>{const V=$!==void 0?$.dom:document,Te=V.body.scrollLeft||V.documentElement.scrollLeft,He=V.body.scrollTop||V.documentElement.scrollTop;return Oa(Te,He)},Er=$=>{const V=$===void 0?window:$;return Mr().browser.isFirefox()?it.none():it.from(V.visualViewport)},Jr=($,V,Te,He)=>({x:$,y:V,width:Te,height:He,right:$+Te,bottom:V+He}),us=$=>{const V=$===void 0?window:$,Te=V.document,He=ir(J.fromDom(Te));return Er(V).fold(()=>{const Zt=V.document.documentElement,tn=Zt.clientWidth,vo=Zt.clientHeight;return Jr(He.left,He.top,tn,vo)},Zt=>Jr(Math.max(Zt.pageLeft,He.left),Math.max(Zt.pageTop,He.top),Zt.width,Zt.height))},R=($,V,Te)=>Er(Te).map(He=>{const Zt=tn=>V(Vo(tn));return He.addEventListener($,Zt),{unbind:()=>He.removeEventListener($,Zt)}}).getOrThunk(()=>({unbind:rt}));var Q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fe=tinymce.util.Tools.resolve("tinymce.Env");const qe=($,V)=>{$.dispatch("FullscreenStateChanged",{state:V}),$.dispatch("ResizeEditor")},bt=$=>V=>V.options.get($),Nn=$=>{const V=$.options.register;V("fullscreen_native",{processor:"boolean",default:!1})},bo=bt("fullscreen_native"),Go=$=>{const V=J.fromDom($.getElement());return $o(V).map(ue).getOrThunk(()=>hn(Xt(V)))},po=$=>$.fullscreenElement!==void 0?$.fullscreenElement:$.msFullscreenElement!==void 0?$.msFullscreenElement:$.webkitFullscreenElement!==void 0?$.webkitFullscreenElement:null,hs=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",vs=$=>{const V=$.dom;V.requestFullscreen?V.requestFullscreen():V.msRequestFullscreen?V.msRequestFullscreen():V.webkitRequestFullScreen&&V.webkitRequestFullScreen()},Tr=$=>{const V=$.dom;V.exitFullscreen?V.exitFullscreen():V.msExitFullscreen?V.msExitFullscreen():V.webkitCancelFullScreen&&V.webkitCancelFullScreen()},Do=$=>$.dom===po(Xt($).dom),Pa=($,V,Te)=>ye(Fe($,Te),V),ba=($,V)=>ye(st($),V),lr=$=>Yn($),ys=($,V,Te)=>Pa($,He=>Eo(He,V),Te),br=($,V)=>ba($,Te=>Eo(Te,V)),zr="data-ephox-mobile-fullscreen-style",Gn="display:none!important;",Ps="position:absolute!important;",Ba="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ea="background-color:rgb(255,255,255)!important;",x=fe.os.isAndroid(),B=$=>{const V=rs($,"background-color");return V!==void 0&&V!==""?"background-color:"+V+"!important":ea},K=($,V,Te)=>{const He=qn=>br(qn,"*:not(.tox-silver-sink)"),Zt=qn=>ko=>{const er=Ns(ko,"style"),tr=er===void 0?"no-styles":er.trim();tr!==qn&&(Ts(ko,zr,tr),wo(ko,$.parseStyle(qn)))},tn=ys(V,"*"),vo=Pe(tn,He),Uo=B(Te);jt(vo,Zt(Gn)),jt(tn,Zt(Ps+Ba+Uo)),Zt((x===!0?"":Ps)+Ba+Uo)(V)},Re=$=>{const V=lr("["+zr+"]");jt(V,Te=>{const He=Ns(Te,zr);He!=="no-styles"?wo(Te,$.parseStyle(He)):To(Te,"style"),To(Te,zr)})},Gt=Q.DOM,Un=()=>us(window),Zn=$=>window.scrollTo($.x,$.y),nt=Er().fold(()=>({bind:rt,unbind:rt}),$=>{const V=Ve(),Te=Le(),He=Le(),Zt=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},tn=()=>{window.requestAnimationFrame(()=>{V.on(qn=>wo(qn,{top:$.offsetTop+"px",left:$.offsetLeft+"px",height:$.height+"px",width:$.width+"px"}))})},vo=L(()=>{Zt(),tn()},50);return{bind:qn=>{V.set(qn),vo.throttle(),Te.set(R("resize",vo.throttle)),He.set(R("scroll",vo.throttle))},unbind:()=>{V.on(()=>{Te.clear(),He.clear()}),V.clear()}}}),Zo=($,V)=>{const Te=document.body,He=document.documentElement,Zt=$.getContainer(),tn=J.fromDom(Zt),vo=Go($),Uo=V.get(),Js=J.fromDom($.getBody()),qn=fe.deviceType.isTouch(),ko=Zt.style,tr=$.iframeElement.style,Xa=ao=>{ao(Te,"tox-fullscreen"),ao(He,"tox-fullscreen"),ao(Zt,"tox-fullscreen"),$o(tn).map(ts=>ue(ts).dom).each(ts=>{ao(ts,"tox-fullscreen"),ao(ts,"tox-shadowhost")})},ur=()=>{qn&&Re($.dom),Xa(Gt.removeClass),nt.unbind(),it.from(V.get()).each(ao=>ao.fullscreenChangeHandler.unbind())};if(Uo)Uo.fullscreenChangeHandler.unbind(),bo($)&&Do(vo)&&Tr(Xt(vo)),tr.width=Uo.iframeWidth,tr.height=Uo.iframeHeight,ko.width=Uo.containerWidth,ko.height=Uo.containerHeight,ko.top=Uo.containerTop,ko.left=Uo.containerLeft,ur(),Zn(Uo.scrollPos),V.set(null),qe($,!1),$.off("remove",ur);else{const ao=Mo(Xt(vo),hs(),Bs=>{bo($)&&!Do(vo)&&V.get()!==null&&Zo($,V)}),ts={scrollPos:Un(),containerWidth:ko.width,containerHeight:ko.height,containerTop:ko.top,containerLeft:ko.left,iframeWidth:tr.width,iframeHeight:tr.height,fullscreenChangeHandler:ao};qn&&K($.dom,tn,Js),tr.width=tr.height="100%",ko.width=ko.height="",Xa(Gt.addClass),nt.bind(tn),$.on("remove",ur),V.set(ts),bo($)&&vs(vo),qe($,!0)}},Ar=($,V)=>{$.addCommand("mceFullScreen",()=>{Zo($,V)})},zo=($,V)=>Te=>{Te.setActive(V.get()!==null);const He=Zt=>Te.setActive(Zt.state);return $.on("FullscreenStateChanged",He),()=>$.off("FullscreenStateChanged",He)},Nr=($,V)=>{const Te=()=>$.execCommand("mceFullScreen");$.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Te,onSetup:zo($,V)}),$.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Te,onSetup:zo($,V)})};var bs=()=>{_.add("fullscreen",$=>{const V=g(null);return $.inline||(Nn($),Ar($,V),Nr($,V),$.addShortcut("Meta+Shift+F","","mceFullScreen")),D(V)})};bs()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=Object.getPrototypeOf,D=(x,B,K)=>{var Re;return K(x,B.prototype)?!0:((Re=x.constructor)===null||Re===void 0?void 0:Re.name)===B.name},X=x=>{const B=typeof x;return x===null?"null":B==="object"&&Array.isArray(x)?"array":B==="object"&&D(x,String,(K,Re)=>Re.isPrototypeOf(K))?"string":B},_e=x=>B=>X(B)===x,Ae=x=>B=>typeof B===x,We=x=>B=>x===B,Ke=(x,B)=>Ie(x)&&D(x,B,(K,Re)=>_(K)===Re),Ee=_e("string"),Ie=_e("object"),pt=x=>Ke(x,Object),_t=_e("array"),$e=We(null),Ne=Ae("boolean"),tt=x=>x==null,xe=x=>!tt(x),rt=Ae("function"),ae=Ae("number"),ke=(x,B)=>{if(_t(x)){for(let K=0,Re=x.length;K<Re;++K)if(!B(x[K]))return!1;return!0}return!1},ge=()=>{};class zt{constructor(B,K){this.tag=B,this.value=K}static some(B){return new zt(!0,B)}static none(){return zt.singletonNone}fold(B,K){return this.tag?K(this.value):B()}isSome(){return this.tag}isNone(){return!this.tag}map(B){return this.tag?zt.some(B(this.value)):zt.none()}bind(B){return this.tag?B(this.value):zt.none()}exists(B){return this.tag&&B(this.value)}forall(B){return!this.tag||B(this.value)}filter(B){return!this.tag||B(this.value)?this:zt.none()}getOr(B){return this.tag?this.value:B}or(B){return this.tag?this:B}getOrThunk(B){return this.tag?this.value:B()}orThunk(B){return this.tag?this:B()}getOrDie(B){if(this.tag)return this.value;throw new Error(B!=null?B:"Called getOrDie on None")}static from(B){return xe(B)?zt.some(B):zt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(B){this.tag&&B(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}zt.singletonNone=new zt(!1);const ot=Object.keys,le=Object.hasOwnProperty,it=(x,B)=>{const K=ot(x);for(let Re=0,Gt=K.length;Re<Gt;Re++){const Un=K[Re],Zn=x[Un];B(Zn,Un)}},ft=x=>(B,K)=>{x[K]=B},Le=(x,B,K,Re)=>{const Gt={};return it(x,(Un,Zn)=>{(B(Un,Zn)?K:Re)(Un,Zn)}),Gt},Ve=(x,B)=>{const K={};return Le(x,B,ft(K),ge),K},L=(x,B)=>le.call(x,B),Wt=(x,B)=>L(x,B)&&x[B]!==void 0&&x[B]!==null,Je=Array.prototype.push,jt=x=>{const B=[];for(let K=0,Re=x.length;K<Re;++K){if(!_t(x[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+x);Je.apply(B,x[K])}return B},ye=(x,B)=>B>=0&&B<x.length?zt.some(x[B]):zt.none(),Ze=x=>ye(x,0),qt=(x,B)=>{for(let K=0;K<x.length;K++){const Re=B(x[K],K);if(Re.isSome())return Re}return zt.none()};typeof window<"u"||Function("return this;")();const Z=(x,B,K)=>{if(Ee(K)||Ne(K)||ae(K))x.setAttribute(B,K+"");else throw console.error("Invalid call to Attribute.set. Key ",B,":: Value ",K,":: Element ",x),new Error("Attribute value was not simple")},Pe=(x,B,K)=>{Z(x.dom,B,K)},yt=(x,B)=>{x.dom.removeAttribute(B)},et=(x,B)=>{const Re=(B||document).createElement("div");if(Re.innerHTML=x,!Re.hasChildNodes()||Re.childNodes.length>1){const Gt="HTML does not have a single root node";throw console.error(Gt,x),new Error(Gt)}return an(Re.childNodes[0])},kn=(x,B)=>{const Re=(B||document).createElement(x);return an(Re)},Rn=(x,B)=>{const Re=(B||document).createTextNode(x);return an(Re)},an=x=>{if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},cn={fromHtml:et,fromTag:kn,fromText:Rn,fromDom:an,fromPoint:(x,B,K)=>zt.from(x.dom.elementFromPoint(B,K)).map(an)};var wn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),w=tinymce.util.Tools.resolve("tinymce.util.URI");const ie=x=>x.length>0,re=x=>B=>B.options.get(x),we=x=>{const B=x.options.register;B("image_dimensions",{processor:"boolean",default:!0}),B("image_advtab",{processor:"boolean",default:!1}),B("image_uploadtab",{processor:"boolean",default:!0}),B("image_prepend_url",{processor:"string",default:""}),B("image_class_list",{processor:"object[]"}),B("image_description",{processor:"boolean",default:!0}),B("image_title",{processor:"boolean",default:!1}),B("image_caption",{processor:"boolean",default:!1}),B("image_list",{processor:K=>{const Re=K===!1||Ee(K)||ke(K,Ie)||rt(K);return Re?{value:K,valid:Re}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},J=re("image_dimensions"),me=re("image_advtab"),ce=re("image_uploadtab"),Ce=re("image_prepend_url"),W=re("image_class_list"),M=re("image_description"),Ue=re("image_title"),kt=re("image_caption"),Qe=re("image_list"),pn=re("a11y_advanced_options"),En=re("automatic_uploads"),Eo=x=>ie(x.options.get("images_upload_url")),oo=x=>xe(x.options.get("images_upload_handler")),Yn=(x,B)=>Math.max(parseInt(x,10),parseInt(B,10)),eo=x=>new Promise(B=>{const K=document.createElement("img"),Re=Un=>{K.onload=K.onerror=null,K.parentNode&&K.parentNode.removeChild(K),B(Un)};K.onload=()=>{const Un=Yn(K.width,K.clientWidth),Zn=Yn(K.height,K.clientHeight),nt={width:Un,height:Zn};Re(Promise.resolve(nt))},K.onerror=()=>{Re(Promise.reject(`Failed to get image dimensions for: ${x}`))};const Gt=K.style;Gt.visibility="hidden",Gt.position="fixed",Gt.bottom=Gt.left="0px",Gt.width=Gt.height="auto",document.body.appendChild(K),K.src=x}),Xt=x=>(x&&(x=x.replace(/px$/,"")),x),ro=x=>(x.length>0&&/^[0-9]+$/.test(x)&&(x+="px"),x),io=x=>{if(x.margin){const B=String(x.margin).split(" ");switch(B.length){case 1:x["margin-top"]=x["margin-top"]||B[0],x["margin-right"]=x["margin-right"]||B[0],x["margin-bottom"]=x["margin-bottom"]||B[0],x["margin-left"]=x["margin-left"]||B[0];break;case 2:x["margin-top"]=x["margin-top"]||B[0],x["margin-right"]=x["margin-right"]||B[1],x["margin-bottom"]=x["margin-bottom"]||B[0],x["margin-left"]=x["margin-left"]||B[1];break;case 3:x["margin-top"]=x["margin-top"]||B[0],x["margin-right"]=x["margin-right"]||B[1],x["margin-bottom"]=x["margin-bottom"]||B[2],x["margin-left"]=x["margin-left"]||B[1];break;case 4:x["margin-top"]=x["margin-top"]||B[0],x["margin-right"]=x["margin-right"]||B[1],x["margin-bottom"]=x["margin-bottom"]||B[2],x["margin-left"]=x["margin-left"]||B[3]}delete x.margin}return x},Fe=(x,B)=>{const K=Qe(x);Ee(K)?fetch(K).then(Re=>{Re.ok&&Re.json().then(B)}):rt(K)?K(B):B(K)},st=(x,B,K)=>{const Re=()=>{K.onload=K.onerror=null,x.selection&&(x.selection.select(K),x.nodeChanged())};K.onload=()=>{!B.width&&!B.height&&J(x)&&x.dom.setAttribs(K,{width:String(K.clientWidth),height:String(K.clientHeight)}),Re()},K.onerror=Re},Qt=x=>new Promise((B,K)=>{const Re=new FileReader;Re.onload=()=>{B(Re.result)},Re.onerror=()=>{K(Re.error.message)},Re.readAsDataURL(x)}),Ut=x=>x.nodeName==="IMG"&&(x.hasAttribute("data-mce-object")||x.hasAttribute("data-mce-placeholder")),Tn=(x,B)=>{const K=x.options.get;return w.isDomSafe(B,"img",{allow_html_data_urls:K("allow_html_data_urls"),allow_script_urls:K("allow_script_urls"),allow_svg_data_urls:K("allow_svg_data_urls")})},Pn=wn.DOM,ho=x=>x.style.marginLeft&&x.style.marginRight&&x.style.marginLeft===x.style.marginRight?Xt(x.style.marginLeft):"",$o=x=>x.style.marginTop&&x.style.marginBottom&&x.style.marginTop===x.style.marginBottom?Xt(x.style.marginTop):"",ue=x=>x.style.borderWidth?Xt(x.style.borderWidth):"",ze=(x,B)=>x.hasAttribute(B)?x.getAttribute(B):"",At=(x,B)=>x.style[B]?x.style[B]:"",Ot=x=>x.parentNode!==null&&x.parentNode.nodeName==="FIGURE",hn=(x,B,K)=>{K===""?x.removeAttribute(B):x.setAttribute(B,K)},No=x=>{const B=Pn.create("figure",{class:"image"});Pn.insertAfter(B,x),B.appendChild(x),B.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),B.contentEditable="false"},Ts=x=>{const B=x.parentNode;Pn.insertAfter(x,B),Pn.remove(B)},Ns=x=>{Ot(x)?Ts(x):No(x)},To=(x,B)=>{const K=x.getAttribute("style"),Re=B(K!==null?K:"");Re.length>0?(x.setAttribute("style",Re),x.setAttribute("data-mce-style",Re)):x.removeAttribute("style")},cs=(x,B)=>(K,Re,Gt)=>{K.style[Re]?(K.style[Re]=ro(Gt),To(K,B)):hn(K,Re,Gt)},wo=(x,B)=>x.style[B]?Xt(x.style[B]):ze(x,B),rs=(x,B)=>{const K=ro(B);x.style.marginLeft=K,x.style.marginRight=K},Vn=(x,B)=>{const K=ro(B);x.style.marginTop=K,x.style.marginBottom=K},gn=(x,B)=>{const K=ro(B);x.style.borderWidth=K},Vo=(x,B)=>{x.style.borderStyle=B},lo=x=>At(x,"borderStyle"),Lo=x=>x.nodeName==="FIGURE",Xs=x=>x.nodeName==="IMG",Rs=x=>Pn.getAttrib(x,"alt").length===0&&Pn.getAttrib(x,"role")==="presentation",ls=x=>Rs(x)?"":ze(x,"alt"),Mo=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Zs=(x,B)=>{const K=document.createElement("img");return hn(K,"style",B.style),(ho(K)||B.hspace!=="")&&rs(K,B.hspace),($o(K)||B.vspace!=="")&&Vn(K,B.vspace),(ue(K)||B.border!=="")&&gn(K,B.border),(lo(K)||B.borderStyle!=="")&&Vo(K,B.borderStyle),x(K.getAttribute("style"))},O=(x,B)=>{const K=document.createElement("img");if(An(x,{...B,caption:!1},K),dt(K,B.alt,B.isDecorative),B.caption){const Re=Pn.create("figure",{class:"image"});return Re.appendChild(K),Re.appendChild(Pn.create("figcaption",{contentEditable:"true"},"Caption")),Re.contentEditable="false",Re}else return K},G=(x,B)=>({src:ze(B,"src"),alt:ls(B),title:ze(B,"title"),width:wo(B,"width"),height:wo(B,"height"),class:ze(B,"class"),style:x(ze(B,"style")),caption:Ot(B),hspace:ho(B),vspace:$o(B),border:ue(B),borderStyle:At(B,"borderStyle"),isDecorative:Rs(B)}),de=(x,B,K,Re,Gt)=>{K[Re]!==B[Re]&&Gt(x,Re,K[Re])},dt=(x,B,K)=>{if(K){Pn.setAttrib(x,"role","presentation");const Re=cn.fromDom(x);Pe(Re,"alt","")}else{if($e(B)){const Re=cn.fromDom(x);yt(Re,"alt")}else{const Re=cn.fromDom(x);Pe(Re,"alt",B)}Pn.getAttrib(x,"role")==="presentation"&&Pn.setAttrib(x,"role","")}},rn=(x,B,K)=>{(K.alt!==B.alt||K.isDecorative!==B.isDecorative)&&dt(x,K.alt,K.isDecorative)},Et=(x,B)=>(K,Re,Gt)=>{x(K,Gt),To(K,B)},An=(x,B,K)=>{const Re=G(x,K);de(K,Re,B,"caption",(Gt,Un,Zn)=>Ns(Gt)),de(K,Re,B,"src",hn),de(K,Re,B,"title",hn),de(K,Re,B,"width",cs("width",x)),de(K,Re,B,"height",cs("height",x)),de(K,Re,B,"class",hn),de(K,Re,B,"style",Et((Gt,Un)=>hn(Gt,"style",Un),x)),de(K,Re,B,"hspace",Et(rs,x)),de(K,Re,B,"vspace",Et(Vn,x)),de(K,Re,B,"border",Et(gn,x)),de(K,Re,B,"borderStyle",Et(Vo,x)),rn(K,Re,B)},Bo=(x,B)=>{const K=x.dom.styles.parse(B),Re=io(K),Gt=x.dom.styles.parse(x.dom.styles.serialize(Re));return x.dom.styles.serialize(Gt)},ln=x=>{const B=x.selection.getNode(),K=x.dom.getParent(B,"figure.image");return K?x.dom.select("img",K)[0]:B&&(B.nodeName!=="IMG"||Ut(B))?null:B},jn=(x,B)=>{const K=x.dom,Re=Ve(x.schema.getTextBlockElements(),(Un,Zn)=>!x.schema.isValidChild(Zn,"figure")),Gt=K.getParent(B.parentNode,Un=>Wt(Re,Un.nodeName),x.getBody());return Gt?K.split(Gt,B):B},jo=x=>{const B=ln(x);return B?G(K=>Bo(x,K),B):Mo()},Ro=(x,B)=>{const K=O(Gt=>Bo(x,Gt),B);x.dom.setAttrib(K,"data-mce-id","__mcenew"),x.focus(),x.selection.setContent(K.outerHTML);const Re=x.dom.select('*[data-mce-id="__mcenew"]')[0];if(x.dom.setAttrib(Re,"data-mce-id",null),Lo(Re)){const Gt=jn(x,Re);x.selection.select(Gt)}else x.selection.select(Re)},q=(x,B)=>{x.dom.setAttrib(B,"src",B.getAttribute("src"))},ee=(x,B)=>{if(B){const K=x.dom.is(B.parentNode,"figure.image")?B.parentNode:B;x.dom.remove(K),x.focus(),x.nodeChanged(),x.dom.isEmpty(x.getBody())&&(x.setContent(""),x.selection.setCursorLocation())}},Ge=(x,B)=>{const K=ln(x);if(An(Re=>Bo(x,Re),B,K),q(x,K),Lo(K.parentNode)){const Re=K.parentNode;jn(x,Re),x.selection.select(K.parentNode)}else x.selection.select(K),st(x,B,K)},St=(x,B)=>{const K=B.src;return{...B,src:Tn(x,K)?K:""}},vt=(x,B)=>{const K=ln(x);if(K){const Gt={...G(Zn=>Bo(x,Zn),K),...B},Un=St(x,Gt);Gt.src?Ge(x,Un):ee(x,K)}else B.src&&Ro(x,{...Mo(),...B})},Lt=(x=>(...B)=>{if(B.length===0)throw new Error("Can't merge zero objects");const K={};for(let Re=0;Re<B.length;Re++){const Gt=B[Re];for(const Un in Gt)L(Gt,Un)&&(K[Un]=x(K[Un],Gt[Un]))}return K})((x,B)=>pt(x)&&pt(B)?Lt(x,B):B);var un=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Xn=tinymce.util.Tools.resolve("tinymce.util.Tools");const yo=x=>Ee(x.value)?x.value:"",Dn=x=>Ee(x.text)?x.text:Ee(x.title)?x.title:"",ar=(x,B)=>{const K=[];return Xn.each(x,Re=>{const Gt=Dn(Re);if(Re.menu!==void 0){const Un=ar(Re.menu,B);K.push({text:Gt,items:Un})}else{const Un=B(Re);K.push({text:Gt,value:Un})}}),K},_s=(x=yo)=>B=>B?zt.from(B).map(K=>ar(K,x)):zt.none(),Bn=x=>_s(yo)(x),to=x=>L(x,"items"),Jo=(x,B)=>qt(x,K=>to(K)?Jo(K.items,B):K.value===B?zt.some(K):zt.none()),Ds={sanitizer:_s,sanitize:Bn,findEntry:(x,B)=>x.bind(K=>Jo(K,B))},Zr={makeTab:x=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Hs=x=>{const B=Ds.sanitizer(He=>x.convertURL(He.value||He.url,"src")),K=new Promise(He=>{Fe(x,Zt=>{He(B(Zt).map(tn=>jt([[{text:"None",value:""}],tn])))})}),Re=Ds.sanitize(W(x)),Gt=me(x),Un=ce(x),Zn=Eo(x),nt=oo(x),Zo=jo(x),Ar=M(x),zo=Ue(x),Nr=J(x),bs=kt(x),$=pn(x),V=En(x),Te=zt.some(Ce(x)).filter(He=>Ee(He)&&He.length>0);return K.then(He=>({image:Zo,imageList:He,classList:Re,hasAdvTab:Gt,hasUploadTab:Un,hasUploadUrl:Zn,hasUploadHandler:nt,hasDescription:Ar,hasImageTitle:zo,hasDimensions:Nr,hasImageCaption:bs,prependURL:Te,hasAccessibilityOptions:$,automaticUploads:V}))},Sr=x=>{const B={name:"src",type:"urlinput",filetype:"image",label:"Source"},K=x.imageList.map(zo=>({name:"images",type:"listbox",label:"Image list",items:zo})),Re={name:"alt",type:"input",label:"Alternative description",enabled:!(x.hasAccessibilityOptions&&x.image.isDecorative)},Gt={name:"title",type:"input",label:"Image title"},Un={name:"dimensions",type:"sizeinput"},Zn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},nt=x.classList.map(zo=>({name:"classes",type:"listbox",label:"Class",items:zo})),Zo={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ar=zo=>zo?{type:"grid",columns:2}:{type:"panel"};return jt([[B],K.toArray(),x.hasAccessibilityOptions&&x.hasDescription?[Zn]:[],x.hasDescription?[Re]:[],x.hasImageTitle?[Gt]:[],x.hasDimensions?[Un]:[],[{...Ar(x.classList.isSome()&&x.hasImageCaption),items:jt([nt.toArray(),x.hasImageCaption?[Zo]:[]])}]])},Da={makeTab:x=>({title:"General",name:"general",items:Sr(x)}),makeItems:Sr},Lr={makeTab:x=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Qr=x=>({prevImage:Ds.findEntry(x.imageList,x.image.src),prevAlt:x.image.alt,open:!0}),Mr=x=>({src:{value:x.src,meta:{}},images:x.src,alt:x.alt,title:x.title,dimensions:{width:x.width,height:x.height},classes:x.class,caption:x.caption,style:x.style,vspace:x.vspace,border:x.border,hspace:x.hspace,borderstyle:x.borderStyle,fileinput:[],isDecorative:x.isDecorative}),Qs=(x,B)=>({src:x.src.value,alt:x.alt.length===0&&B?null:x.alt,title:x.title,width:x.dimensions.width,height:x.dimensions.height,class:x.classes,style:x.style,caption:x.caption,hspace:x.hspace,vspace:x.vspace,border:x.border,borderStyle:x.borderstyle,isDecorative:x.isDecorative}),Oa=(x,B)=>/^(?:[a-zA-Z]+:)?\/\//.test(B)?zt.none():x.prependURL.bind(K=>B.substring(0,K.length)!==K?zt.some(K+B):zt.none()),ir=(x,B)=>{const K=B.getData();Oa(x,K.src.value).each(Re=>{B.setData({src:{value:Re,meta:K.src.meta}})})},Er=(x,B,K)=>{x.hasDescription&&Ee(K.alt)&&(B.alt=K.alt),x.hasAccessibilityOptions&&(B.isDecorative=K.isDecorative||B.isDecorative||!1),x.hasImageTitle&&Ee(K.title)&&(B.title=K.title),x.hasDimensions&&(Ee(K.width)&&(B.dimensions.width=K.width),Ee(K.height)&&(B.dimensions.height=K.height)),Ee(K.class)&&Ds.findEntry(x.classList,K.class).each(Re=>{B.classes=Re.value}),x.hasImageCaption&&Ne(K.caption)&&(B.caption=K.caption),x.hasAdvTab&&(Ee(K.style)&&(B.style=K.style),Ee(K.vspace)&&(B.vspace=K.vspace),Ee(K.border)&&(B.border=K.border),Ee(K.hspace)&&(B.hspace=K.hspace),Ee(K.borderstyle)&&(B.borderstyle=K.borderstyle))},Jr=(x,B)=>{const K=B.getData(),Re=K.src.meta;if(Re!==void 0){const Gt=Lt({},K);Er(x,Gt,Re),B.setData(Gt)}},us=(x,B,K,Re)=>{const Gt=Re.getData(),Un=Gt.src.value,Zn=Gt.src.meta||{};!Zn.width&&!Zn.height&&B.hasDimensions&&(ie(Un)?x.imageSize(Un).then(nt=>{K.open&&Re.setData({dimensions:nt})}).catch(nt=>console.error(nt)):Re.setData({dimensions:{width:"",height:""}}))},R=(x,B,K)=>{const Re=K.getData(),Gt=Ds.findEntry(x.imageList,Re.src.value);B.prevImage=Gt,K.setData({images:Gt.map(Un=>Un.value).getOr("")})},Q=(x,B,K,Re)=>{ir(B,Re),Jr(B,Re),us(x,B,K,Re),R(B,K,Re)},fe=(x,B,K,Re)=>{const Gt=Re.getData(),Un=Ds.findEntry(B.imageList,Gt.images);Un.each(Zn=>{Gt.alt===""||K.prevImage.map(Zo=>Zo.text===Gt.alt).getOr(!1)?Zn.value===""?Re.setData({src:Zn,alt:K.prevAlt}):Re.setData({src:Zn,alt:Zn.text}):Re.setData({src:Zn})}),K.prevImage=Un,Q(x,B,K,Re)},qe=(x,B,K,Re)=>{const Gt=Re.getData();Re.block("Uploading image"),Ze(Gt.fileinput).fold(()=>{Re.unblock()},Un=>{const Zn=URL.createObjectURL(Un),nt=()=>{Re.unblock(),URL.revokeObjectURL(Zn)},Zo=Ar=>{Re.setData({src:{value:Ar,meta:{}}}),Re.showTab("general"),Q(x,B,K,Re)};Qt(Un).then(Ar=>{const zo=x.createBlobCache(Un,Zn,Ar);B.automaticUploads?x.uploadImage(zo).then(Nr=>{Zo(Nr.url),nt()}).catch(Nr=>{nt(),x.alertErr(Nr)}):(x.addToBlobCache(zo),Zo(zo.blobUri()),Re.unblock())})})},bt=(x,B,K)=>(Re,Gt)=>{Gt.name==="src"?Q(x,B,K,Re):Gt.name==="images"?fe(x,B,K,Re):Gt.name==="alt"?K.prevAlt=Re.getData().alt:Gt.name==="fileinput"?qe(x,B,K,Re):Gt.name==="isDecorative"&&Re.setEnabled("alt",!Re.getData().isDecorative)},Nn=x=>()=>{x.open=!1},bo=x=>x.hasAdvTab||x.hasUploadUrl||x.hasUploadHandler?{type:"tabpanel",tabs:jt([[Da.makeTab(x)],x.hasAdvTab?[Zr.makeTab(x)]:[],x.hasUploadTab&&(x.hasUploadUrl||x.hasUploadHandler)?[Lr.makeTab(x)]:[]])}:{type:"panel",items:Da.makeItems(x)},Go=(x,B,K)=>Re=>{const Gt=Lt(Mr(B.image),Re.getData()),Un={...Gt,style:Zs(K.normalizeCss,Qs(Gt,!1))};x.execCommand("mceUpdateImage",!1,Qs(Un,B.hasAccessibilityOptions)),x.editorUpload.uploadImagesAuto(),Re.close()},po=x=>B=>Tn(x,B)?eo(x.documentBaseURI.toAbsolute(B)).then(K=>({width:String(K.width),height:String(K.height)})):Promise.resolve({width:"",height:""}),hs=x=>(B,K,Re)=>x.editorUpload.blobCache.create({blob:B,blobUri:K,name:B.name?B.name.replace(/\.[^\.]+$/,""):null,filename:B.name,base64:Re.split(",")[1]}),vs=x=>B=>{x.editorUpload.blobCache.add(B)},Tr=x=>B=>{x.windowManager.alert(B)},Do=x=>B=>Bo(x,B),Pa=x=>B=>x.dom.parseStyle(B),ba=x=>(B,K)=>x.dom.serializeStyle(B,K),lr=x=>B=>un(x).upload([B],!1).then(K=>K.length===0?Promise.reject("Failed to upload image"):K[0].status===!1?Promise.reject(K[0].error.message):K[0]),ys=x=>{const B={imageSize:po(x),addToBlobCache:vs(x),createBlobCache:hs(x),alertErr:Tr(x),normalizeCss:Do(x),parseStyle:Pa(x),serializeStyle:ba(x),uploadImage:lr(x)};return{open:()=>{Hs(x).then(Re=>{const Gt=Qr(Re);return{title:"Insert/Edit Image",size:"normal",body:bo(Re),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Mr(Re.image),onSubmit:Go(x,Re,B),onChange:bt(B,Re,Gt),onClose:Nn(Gt)}}).then(x.windowManager.open)}}},br=x=>{x.addCommand("mceImage",ys(x).open),x.addCommand("mceUpdateImage",(B,K)=>{x.undoManager.transact(()=>vt(x,K))})},zr=x=>{const B=x.attr("class");return B&&/\bimage\b/.test(B)},Gn=x=>B=>{let K=B.length;const Re=Gt=>{Gt.attr("contenteditable",x?"true":null)};for(;K--;){const Gt=B[K];zr(Gt)&&(Gt.attr("contenteditable",x?"false":null),Xn.each(Gt.getAll("figcaption"),Re))}},Ps=x=>{x.on("PreInit",()=>{x.parser.addNodeFilter("figure",Gn(!0)),x.serializer.addNodeFilter("figure",Gn(!1))})},Ba=x=>{x.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ys(x).open,onSetup:B=>(B.setActive(xe(ln(x))),x.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",B.setActive).unbind)}),x.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ys(x).open}),x.ui.registry.addContextMenu("image",{update:B=>Lo(B)||Xs(B)&&!Ut(B)?["image"]:[]})};var ea=()=>{g.add("image",x=>{we(x),Ps(x),Ba(x),br(x)})};ea()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(R,Q,fe)=>{var qe;return fe(R,Q.prototype)?!0:((qe=R.constructor)===null||qe===void 0?void 0:qe.name)===Q.name},D=R=>{const Q=typeof R;return R===null?"null":Q==="object"&&Array.isArray(R)?"array":Q==="object"&&_(R,String,(fe,qe)=>qe.isPrototypeOf(fe))?"string":Q},X=R=>Q=>D(Q)===R,_e=R=>Q=>typeof Q===R,Ae=R=>Q=>R===Q,We=X("string"),Ke=X("object"),Ee=X("array"),Ie=Ae(null),pt=_e("boolean"),_t=R=>R==null,$e=R=>!_t(R),Ne=_e("function"),tt=(R,Q)=>{if(Ee(R)){for(let fe=0,qe=R.length;fe<qe;++fe)if(!Q(R[fe]))return!1;return!0}return!1},xe=()=>{},rt=(R,Q)=>R===Q;class ae{constructor(Q,fe){this.tag=Q,this.value=fe}static some(Q){return new ae(!0,Q)}static none(){return ae.singletonNone}fold(Q,fe){return this.tag?fe(this.value):Q()}isSome(){return this.tag}isNone(){return!this.tag}map(Q){return this.tag?ae.some(Q(this.value)):ae.none()}bind(Q){return this.tag?Q(this.value):ae.none()}exists(Q){return this.tag&&Q(this.value)}forall(Q){return!this.tag||Q(this.value)}filter(Q){return!this.tag||Q(this.value)?this:ae.none()}getOr(Q){return this.tag?this.value:Q}or(Q){return this.tag?this:Q}getOrThunk(Q){return this.tag?this.value:Q()}orThunk(Q){return this.tag?this:Q()}getOrDie(Q){if(this.tag)return this.value;throw new Error(Q!=null?Q:"Called getOrDie on None")}static from(Q){return $e(Q)?ae.some(Q):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Q){this.tag&&Q(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const ke=Array.prototype.indexOf,ge=Array.prototype.push,zt=(R,Q)=>ke.call(R,Q),ot=(R,Q)=>zt(R,Q)>-1,le=(R,Q)=>{const fe=R.length,qe=new Array(fe);for(let bt=0;bt<fe;bt++){const Nn=R[bt];qe[bt]=Q(Nn,bt)}return qe},it=(R,Q)=>{for(let fe=0,qe=R.length;fe<qe;fe++){const bt=R[fe];Q(bt,fe)}},ft=(R,Q,fe)=>(it(R,(qe,bt)=>{fe=Q(fe,qe,bt)}),fe),Le=R=>{const Q=[];for(let fe=0,qe=R.length;fe<qe;++fe){if(!Ee(R[fe]))throw new Error("Arr.flatten item "+fe+" was not an array, input: "+R);ge.apply(Q,R[fe])}return Q},Ve=(R,Q)=>Le(le(R,Q)),L=(R,Q)=>{for(let fe=0;fe<R.length;fe++){const qe=Q(R[fe],fe);if(qe.isSome())return qe}return ae.none()},Wt=(R,Q,fe=rt)=>R.exists(qe=>fe(qe,Q)),Je=R=>{const Q=[],fe=qe=>{Q.push(qe)};for(let qe=0;qe<R.length;qe++)R[qe].each(fe);return Q},jt=(R,Q)=>R?ae.some(Q):ae.none(),ye=R=>Q=>Q.options.get(R),Ze=R=>{const Q=R.options.register;Q("link_assume_external_targets",{processor:fe=>{const qe=We(fe)||pt(fe);return qe?fe===!0?{value:1,valid:qe}:fe==="http"||fe==="https"?{value:fe,valid:qe}:{value:0,valid:qe}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Q("link_context_toolbar",{processor:"boolean",default:!1}),Q("link_list",{processor:fe=>We(fe)||Ne(fe)||tt(fe,Ke)}),Q("link_default_target",{processor:"string"}),Q("link_default_protocol",{processor:"string",default:"https"}),Q("link_target_list",{processor:fe=>pt(fe)||tt(fe,Ke),default:!0}),Q("link_rel_list",{processor:"object[]",default:[]}),Q("link_class_list",{processor:"object[]",default:[]}),Q("link_title",{processor:"boolean",default:!0}),Q("allow_unsafe_link_target",{processor:"boolean",default:!1}),Q("link_quicklink",{processor:"boolean",default:!1})},qt=ye("link_assume_external_targets"),Z=ye("link_context_toolbar"),Pe=ye("link_list"),yt=ye("link_default_target"),et=ye("link_default_protocol"),kn=ye("link_target_list"),Rn=ye("link_rel_list"),an=ye("link_class_list"),en=ye("link_title"),cn=ye("allow_unsafe_link_target"),wn=ye("link_quicklink");var w=tinymce.util.Tools.resolve("tinymce.util.Tools");const ie=R=>We(R.value)?R.value:"",re=R=>We(R.text)?R.text:We(R.title)?R.title:"",we=(R,Q)=>{const fe=[];return w.each(R,qe=>{const bt=re(qe);if(qe.menu!==void 0){const Nn=we(qe.menu,Q);fe.push({text:bt,items:Nn})}else{const Nn=Q(qe);fe.push({text:bt,value:Nn})}}),fe},J=(R=ie)=>Q=>ae.from(Q).map(fe=>we(fe,R)),Ce={sanitize:R=>J(ie)(R),sanitizeWith:J,createUi:(R,Q)=>fe=>({name:R,type:"listbox",label:Q,items:fe}),getValue:ie},W=Object.keys,M=Object.hasOwnProperty,Ue=(R,Q)=>{const fe=W(R);for(let qe=0,bt=fe.length;qe<bt;qe++){const Nn=fe[qe],bo=R[Nn];Q(bo,Nn)}},kt=R=>(Q,fe)=>{R[fe]=Q},Qe=(R,Q,fe,qe)=>{const bt={};return Ue(R,(Nn,bo)=>{(Q(Nn,bo)?fe:qe)(Nn,bo)}),bt},pn=(R,Q)=>{const fe={};return Qe(R,Q,kt(fe),xe),fe},En=(R,Q)=>M.call(R,Q),Eo=(R,Q)=>En(R,Q)&&R[Q]!==void 0&&R[Q]!==null;var oo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Yn=tinymce.util.Tools.resolve("tinymce.util.URI");const eo=R=>R&&R.nodeName.toLowerCase()==="a",Xt=R=>eo(R)&&!!Fe(R),ro=(R,Q)=>{if(R.collapsed)return[];{const fe=R.cloneContents(),qe=new oo(fe.firstChild,fe),bt=[];let Nn=fe.firstChild;do Q(Nn)&&bt.push(Nn);while(Nn=qe.next());return bt}},io=R=>/^\w+:/i.test(R),Fe=R=>{const Q=R.getAttribute("data-mce-href");return Q||R.getAttribute("href")},st=(R,Q)=>{const fe=["noopener"],qe=R?R.split(/\s+/):[],bt=po=>w.trim(po.sort().join(" ")),Nn=po=>(po=bo(po),po.length>0?po.concat(fe):fe),bo=po=>po.filter(hs=>w.inArray(fe,hs)===-1),Go=Q?Nn(qe):bo(qe);return Go.length>0?bt(Go):""},Qt=R=>R.replace(/\uFEFF/g,""),Ut=(R,Q)=>(Q=Q||R.selection.getNode(),ue(Q)?R.dom.select("a[href]",Q)[0]:R.dom.getParent(Q,"a[href]")),Tn=(R,Q)=>{const fe=Q?Q.innerText||Q.textContent:R.getContent({format:"text"});return Qt(fe)},Pn=R=>w.grep(R,Xt).length>0,ho=R=>ro(R,Xt).length>0,$o=R=>{const Q=R.schema.getTextInlineElements(),fe=bt=>bt.nodeType===1&&!eo(bt)&&!En(Q,bt.nodeName.toLowerCase());return ro(R.selection.getRng(),fe).length===0},ue=R=>R&&R.nodeName==="FIGURE"&&/\bimage\b/i.test(R.className),ze=R=>ft(["title","rel","class","target"],(fe,qe)=>(R[qe].each(bt=>{fe[qe]=bt.length>0?bt:null}),fe),{href:R.href}),At=(R,Q)=>(Q==="http"||Q==="https")&&!io(R)?Q+"://"+R:R,Ot=(R,Q)=>{const fe={...Q};if(Rn(R).length===0&&!cn(R)){const qe=st(fe.rel,fe.target==="_blank");fe.rel=qe||null}return ae.from(fe.target).isNone()&&kn(R)===!1&&(fe.target=yt(R)),fe.href=At(fe.href,qt(R)),fe},hn=(R,Q,fe,qe)=>{fe.each(bt=>{En(Q,"innerText")?Q.innerText=bt:Q.textContent=bt}),R.dom.setAttribs(Q,qe),R.selection.select(Q)},No=(R,Q,fe,qe)=>{ue(Q)?Vo(R,Q,qe):fe.fold(()=>{R.execCommand("mceInsertLink",!1,qe)},bt=>{R.insertContent(R.dom.createHTML("a",qe,R.dom.encode(bt)))})},Ts=(R,Q,fe)=>{const qe=R.selection.getNode(),bt=Ut(R,qe),Nn=Ot(R,ze(fe));R.undoManager.transact(()=>{fe.href===Q.href&&Q.attach(),bt?(R.focus(),hn(R,bt,fe.text,Nn)):No(R,qe,fe.text,Nn)})},Ns=R=>{const Q=R.dom,fe=R.selection,qe=fe.getBookmark(),bt=fe.getRng().cloneRange(),Nn=Q.getParent(bt.startContainer,"a[href]",R.getBody()),bo=Q.getParent(bt.endContainer,"a[href]",R.getBody());Nn&&bt.setStartBefore(Nn),bo&&bt.setEndAfter(bo),fe.setRng(bt),R.execCommand("unlink"),fe.moveToBookmark(qe)},To=R=>{R.undoManager.transact(()=>{const Q=R.selection.getNode();ue(Q)?gn(R,Q):Ns(R),R.focus()})},cs=R=>{const{class:Q,href:fe,rel:qe,target:bt,text:Nn,title:bo}=R;return pn({class:Q.getOrNull(),href:fe,rel:qe.getOrNull(),target:bt.getOrNull(),text:Nn.getOrNull(),title:bo.getOrNull()},(Go,po)=>Ie(Go)===!1)},wo=(R,Q)=>{const fe=R.options.get,qe={allow_html_data_urls:fe("allow_html_data_urls"),allow_script_urls:fe("allow_script_urls"),allow_svg_data_urls:fe("allow_svg_data_urls")},bt=Q.href;return{...Q,href:Yn.isDomSafe(bt,"a",qe)?bt:""}},rs=(R,Q,fe)=>{const qe=wo(R,fe);R.hasPlugin("rtc",!0)?R.execCommand("createlink",!1,cs(qe)):Ts(R,Q,qe)},Vn=R=>{R.hasPlugin("rtc",!0)?R.execCommand("unlink"):To(R)},gn=(R,Q)=>{const fe=R.dom.select("img",Q)[0];if(fe){const qe=R.dom.getParents(fe,"a[href]",Q)[0];qe&&(qe.parentNode.insertBefore(fe,qe),R.dom.remove(qe))}},Vo=(R,Q,fe)=>{const qe=R.dom.select("img",Q)[0];if(qe){const bt=R.dom.create("a",fe);qe.parentNode.insertBefore(bt,qe),bt.appendChild(qe)}},lo=R=>Eo(R,"items"),Lo=(R,Q)=>L(Q,fe=>lo(fe)?Lo(R,fe.items):jt(fe.value===R,fe)),Xs=(R,Q,fe,qe)=>{const bt=qe[Q],Nn=R.length>0;return bt!==void 0?Lo(bt,fe).map(bo=>({url:{value:bo.value,meta:{text:Nn?R:bo.text,attach:xe}},text:Nn?R:bo.text})):ae.none()},Rs=(R,Q)=>Q==="link"?R.link:Q==="anchor"?R.anchor:ae.none(),Mo={init:(R,Q)=>{const fe={text:R.text,title:R.title},qe=po=>jt(fe.title.length<=0,ae.from(po.meta.title).getOr("")),bt=po=>jt(fe.text.length<=0,ae.from(po.meta.text).getOr(po.value)),Nn=po=>{const hs=bt(po.url),vs=qe(po.url);return hs.isSome()||vs.isSome()?ae.some({...hs.map(Tr=>({text:Tr})).getOr({}),...vs.map(Tr=>({title:Tr})).getOr({})}):ae.none()},bo=(po,hs)=>{const vs=Rs(Q,hs.name).getOr([]);return Xs(fe.text,hs.name,vs,po)};return{onChange:(po,hs)=>{const vs=hs.name;return vs==="url"?Nn(po()):ot(["anchor","link"],vs)?bo(po(),hs):((vs==="text"||vs==="title")&&(fe[vs]=po()[vs]),ae.none())}}},getDelta:Xs};var Zs=tinymce.util.Tools.resolve("tinymce.util.Delay");const O=(R,Q,fe)=>{const qe=R.selection.getRng();Zs.setEditorTimeout(R,()=>{R.windowManager.confirm(Q,bt=>{R.selection.setRng(qe),fe(bt)})})},G=R=>{const Q=R.href;return Q.indexOf("@")>0&&Q.indexOf("/")===-1&&Q.indexOf("mailto:")===-1?ae.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:qe=>({...qe,href:"mailto:"+Q})}):ae.none()},de=(R,Q)=>fe=>{const qe=fe.href;return R===1&&!io(qe)||R===0&&/^\s*www(\.|\d\.)/i.test(qe)?ae.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Q}:// prefix?`,preprocess:Nn=>({...Nn,href:Q+"://"+qe})}):ae.none()},rn={preprocess:(R,Q)=>L([G,de(qt(R),et(R))],fe=>fe(Q)).fold(()=>Promise.resolve(Q),fe=>new Promise(qe=>{O(R,fe.message,bt=>{qe(bt?fe.preprocess(Q):Q)})}))},An={getAnchors:R=>{const Q=R.dom.select("a:not([href])"),fe=Ve(Q,qe=>{const bt=qe.name||qe.id;return bt?[{text:bt,value:"#"+bt}]:[]});return fe.length>0?ae.some([{text:"None",value:""}].concat(fe)):ae.none()}},ln={getClasses:R=>{const Q=an(R);return Q.length>0?Ce.sanitize(Q):ae.none()}},jn=R=>{try{return ae.some(JSON.parse(R))}catch{return ae.none()}},Ro={getLinks:R=>{const Q=qe=>R.convertURL(qe.value||qe.url,"href"),fe=Pe(R);return new Promise(qe=>{We(fe)?fetch(fe).then(bt=>bt.ok?bt.text().then(jn):Promise.reject()).then(qe,()=>qe(ae.none())):Ne(fe)?fe(bt=>qe(ae.some(bt))):qe(ae.from(fe))}).then(qe=>qe.bind(Ce.sanitizeWith(Q)).map(bt=>bt.length>0?[{text:"None",value:""}].concat(bt):bt))}},ee={getRels:(R,Q)=>{const fe=Rn(R);if(fe.length>0){const qe=Wt(Q,"_blank"),bt=cn(R)===!1,Nn=Go=>st(Ce.getValue(Go),qe);return(bt?Ce.sanitizeWith(Nn):Ce.sanitize)(fe)}return ae.none()}},Ge=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],vt={getTargets:R=>{const Q=kn(R);return Ee(Q)?Ce.sanitize(Q).orThunk(()=>ae.some(Ge)):Q===!1?ae.none():ae.some(Ge)}},wt=(R,Q,fe)=>{const qe=R.getAttrib(Q,fe);return qe!==null&&qe.length>0?ae.some(qe):ae.none()},It=(R,Q)=>{const fe=R.dom,bt=$o(R)?ae.some(Tn(R.selection,Q)):ae.none(),Nn=Q?ae.some(fe.getAttrib(Q,"href")):ae.none(),bo=Q?ae.from(fe.getAttrib(Q,"target")):ae.none(),Go=wt(fe,Q,"rel"),po=wt(fe,Q,"class"),hs=wt(fe,Q,"title");return{url:Nn,text:bt,title:hs,target:bo,rel:Go,linkClass:po}},un={collect:(R,Q)=>Ro.getLinks(R).then(fe=>{const qe=It(R,Q);return{anchor:qe,catalogs:{targets:vt.getTargets(R),rels:ee.getRels(R,qe.target),classes:ln.getClasses(R),anchor:An.getAnchors(R),link:fe},optNode:ae.from(Q),flags:{titleEnabled:en(R)}}})},Xn=(R,Q)=>fe=>{const qe=fe.getData();if(!qe.url.value){Vn(R),fe.close();return}const bt=Go=>ae.from(qe[Go]).filter(po=>!Wt(Q.anchor[Go],po)),Nn={href:qe.url.value,text:bt("text"),target:bt("target"),rel:bt("rel"),class:bt("linkClass"),title:bt("title")},bo={href:qe.url.value,attach:qe.url.meta!==void 0&&qe.url.meta.attach?qe.url.meta.attach:xe};rn.preprocess(R,Nn).then(Go=>{rs(R,bo,Go)}),fe.close()},yo=R=>{const Q=Ut(R);return un.collect(R,Q)},Dn=(R,Q)=>{const fe=R.anchor,qe=fe.url.getOr("");return{url:{value:qe,meta:{original:{value:qe}}},text:fe.text.getOr(""),title:fe.title.getOr(""),anchor:qe,link:qe,rel:fe.rel.getOr(""),target:fe.target.or(Q).getOr(""),linkClass:fe.linkClass.getOr("")}},ar=(R,Q,fe)=>{const qe=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],bt=R.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Nn=R.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],bo=ae.from(yt(fe)),Go=Dn(R,bo),po=R.catalogs,hs=Mo.init(Go,po),vs={type:"panel",items:Le([qe,bt,Nn,Je([po.anchor.map(Ce.createUi("anchor","Anchors")),po.rels.map(Ce.createUi("rel","Rel")),po.targets.map(Ce.createUi("target","Open link in...")),po.link.map(Ce.createUi("link","Link list")),po.classes.map(Ce.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:vs,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Go,onChange:(Tr,{name:Do})=>{hs.onChange(Tr.getData,{name:Do}).each(Pa=>{Tr.setData(Pa)})},onSubmit:Q}},_s=R=>{yo(R).then(fe=>{const qe=Xn(R,fe);return ar(fe,qe,R)}).then(fe=>{R.windowManager.open(fe)})},Bn=R=>{R.addCommand("mceLink",(Q,fe)=>{(fe==null?void 0:fe.dialog)===!0||!wn(R)?_s(R):R.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var to=tinymce.util.Tools.resolve("tinymce.util.VK");const Jo=(R,Q)=>{document.body.appendChild(R),R.dispatchEvent(Q),document.body.removeChild(R)},es=R=>{const Q=document.createElement("a");Q.target="_blank",Q.href=R,Q.rel="noreferrer noopener";const fe=document.createEvent("MouseEvents");fe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Jo(Q,fe)},Ds=(R,Q)=>R.dom.getParent(Q,"a[href]"),Os=R=>Ds(R,R.selection.getStart()),Zr=R=>R.altKey===!0&&R.shiftKey===!1&&R.ctrlKey===!1&&R.metaKey===!1,Hs=(R,Q)=>{if(Q){const fe=Fe(Q);if(/^#/.test(fe)){const qe=R.dom.select(fe);qe.length&&R.selection.scrollIntoView(qe[0],!0)}else es(Q.href)}},Sr=R=>()=>{R.execCommand("mceLink",!1,{dialog:!0})},cr=R=>()=>{Hs(R,Os(R))},Da=R=>{R.on("click",Q=>{const fe=Ds(R,Q.target);fe&&to.metaKeyPressed(Q)&&(Q.preventDefault(),Hs(R,fe))}),R.on("keydown",Q=>{if(!Q.isDefaultPrevented()&&Q.keyCode===13&&Zr(Q)){const fe=Os(R);fe&&(Q.preventDefault(),Hs(R,fe))}})},xr=(R,Q)=>(R.on("NodeChange",Q),()=>R.off("NodeChange",Q)),Lr=R=>Q=>{const fe=()=>Q.setActive(!R.mode.isReadOnly()&&Ut(R,R.selection.getNode())!==null);return fe(),xr(R,fe)},Qr=R=>Q=>{const fe=()=>Q.setEnabled(Ut(R,R.selection.getNode())!==null);return fe(),xr(R,fe)},Mr=R=>Q=>{const fe=bt=>Pn(bt)||ho(R.selection.getRng()),qe=R.dom.getParents(R.selection.getStart());return Q.setEnabled(fe(qe)),xr(R,bt=>Q.setEnabled(fe(bt.parents)))},Qs=R=>{R.addShortcut("Meta+K","",()=>{R.execCommand("mceLink")})},Oa=R=>{R.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Sr(R),onSetup:Lr(R)}),R.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:cr(R),onSetup:Qr(R)}),R.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Vn(R),onSetup:Mr(R)})},ir=R=>{R.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:cr(R),onSetup:Qr(R)}),R.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Sr(R)}),R.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Vn(R),onSetup:Mr(R)})},Er=R=>{const Q="link unlink openlink",fe="link";R.ui.registry.addContextMenu("link",{update:qe=>Pn(R.dom.getParents(qe,"a"))?Q:fe})},Jr=R=>{const Q=bt=>{bt.selection.collapse(!1)},fe=bt=>{const Nn=R.selection.getNode();return bt.setEnabled(Ut(R,Nn)!==null),xe},qe=bt=>{const Nn=Ut(R),bo=$o(R);if(!Nn&&bo){const Go=Tn(R.selection,Nn);return ae.some(Go.length>0?Go:bt)}else return ae.none()};R.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Lr(R)},label:"Link",predicate:bt=>!!Ut(R,bt)&&Z(R),initValue:()=>{const bt=Ut(R);return bt?Fe(bt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:bt=>{const Nn=R.selection.getNode();return bt.setActive(!!Ut(R,Nn)),Lr(R)(bt)},onAction:bt=>{const Nn=bt.getValue(),bo=qe(Nn);rs(R,{href:Nn,attach:xe},{href:Nn,text:bo,title:ae.none(),rel:ae.none(),target:ae.none(),class:ae.none()}),Q(R),bt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:fe,onAction:bt=>{Vn(R),bt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:fe,onAction:bt=>{cr(R)(),bt.hide()}}]})};var us=()=>{g.add("link",R=>{Ze(R),Oa(R),ir(R),Er(R),Jr(R),Da(R),Bn(R),Qs(R)})};us()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(m,h,E)=>{var P;return E(m,h.prototype)?!0:((P=m.constructor)===null||P===void 0?void 0:P.name)===h.name},D=m=>{const h=typeof m;return m===null?"null":h==="object"&&Array.isArray(m)?"array":h==="object"&&_(m,String,(E,P)=>P.isPrototypeOf(E))?"string":h},X=m=>h=>D(h)===m,_e=m=>h=>typeof h===m,Ae=m=>h=>m===h,We=X("string"),Ke=X("array"),Ee=_e("boolean"),Ie=Ae(void 0),pt=m=>m==null,_t=m=>!pt(m),$e=_e("function"),Ne=_e("number"),tt=()=>{},xe=(m,h)=>E=>m(h(E)),rt=m=>()=>m,ae=m=>m,ke=(m,h)=>m===h;function ge(m,...h){return(...E)=>{const P=h.concat(E);return m.apply(null,P)}}const zt=rt(!1),ot=rt(!0);class le{constructor(h,E){this.tag=h,this.value=E}static some(h){return new le(!0,h)}static none(){return le.singletonNone}fold(h,E){return this.tag?E(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?le.some(h(this.value)):le.none()}bind(h){return this.tag?h(this.value):le.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:le.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h!=null?h:"Called getOrDie on None")}static from(h){return _t(h)?le.some(h):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const it=Object.keys,ft=Object.hasOwnProperty,Le=(m,h)=>{const E=it(m);for(let P=0,oe=E.length;P<oe;P++){const Me=E[P],mt=m[Me];h(mt,Me)}},Ve=m=>(h,E)=>{m[E]=h},L=(m,h,E,P)=>{const oe={};return Le(m,(Me,mt)=>{(h(Me,mt)?E:P)(Me,mt)}),oe},Wt=(m,h)=>{const E={};return L(m,h,Ve(E),tt),E},Je=(m,h)=>{const E=[];return Le(m,(P,oe)=>{E.push(h(P,oe))}),E},jt=m=>Je(m,ae),ye=m=>it(m).length,Ze=(m,h)=>qt(m,h)?le.from(m[h]):le.none(),qt=(m,h)=>ft.call(m,h),Z=(m,h)=>qt(m,h)&&m[h]!==void 0&&m[h]!==null,Pe=Array.prototype.indexOf,yt=Array.prototype.push,et=(m,h)=>Pe.call(m,h),kn=(m,h)=>et(m,h)>-1,Rn=(m,h)=>{for(let E=0,P=m.length;E<P;E++){const oe=m[E];if(h(oe,E))return!0}return!1},an=(m,h)=>{const E=[];for(let P=0;P<m;P++)E.push(h(P));return E},en=(m,h)=>{const E=m.length,P=new Array(E);for(let oe=0;oe<E;oe++){const Me=m[oe];P[oe]=h(Me,oe)}return P},cn=(m,h)=>{for(let E=0,P=m.length;E<P;E++){const oe=m[E];h(oe,E)}},wn=(m,h)=>{for(let E=m.length-1;E>=0;E--){const P=m[E];h(P,E)}},w=(m,h)=>{const E=[],P=[];for(let oe=0,Me=m.length;oe<Me;oe++){const mt=m[oe];(h(mt,oe)?E:P).push(mt)}return{pass:E,fail:P}},ie=(m,h)=>{const E=[];for(let P=0,oe=m.length;P<oe;P++){const Me=m[P];h(Me,P)&&E.push(Me)}return E},re=(m,h,E)=>(wn(m,(P,oe)=>{E=h(E,P,oe)}),E),we=(m,h,E)=>(cn(m,(P,oe)=>{E=h(E,P,oe)}),E),J=(m,h,E)=>{for(let P=0,oe=m.length;P<oe;P++){const Me=m[P];if(h(Me,P))return le.some(Me);if(E(Me,P))break}return le.none()},me=(m,h)=>J(m,h,zt),ce=m=>{const h=[];for(let E=0,P=m.length;E<P;++E){if(!Ke(m[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+m);yt.apply(h,m[E])}return h},Ce=(m,h)=>ce(en(m,h)),W=(m,h)=>{for(let E=0,P=m.length;E<P;++E){const oe=m[E];if(h(oe,E)!==!0)return!1}return!0},M=(m,h)=>{const E={};for(let P=0,oe=m.length;P<oe;P++){const Me=m[P];E[String(Me)]=h(Me,P)}return E},Ue=(m,h)=>h>=0&&h<m.length?le.some(m[h]):le.none(),kt=m=>Ue(m,0),Qe=m=>Ue(m,m.length-1),pn=(m,h)=>{for(let E=0;E<m.length;E++){const P=h(m[E],E);if(P.isSome())return P}return le.none()},En=(m,h)=>{const P=(h||document).createElement("div");if(P.innerHTML=m,!P.hasChildNodes()||P.childNodes.length>1){const oe="HTML does not have a single root node";throw console.error(oe,m),new Error(oe)}return Yn(P.childNodes[0])},Eo=(m,h)=>{const P=(h||document).createElement(m);return Yn(P)},oo=(m,h)=>{const P=(h||document).createTextNode(m);return Yn(P)},Yn=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},Xt={fromHtml:En,fromTag:Eo,fromText:oo,fromDom:Yn,fromPoint:(m,h,E)=>le.from(m.dom.elementFromPoint(h,E)).map(Yn)};typeof window<"u"||Function("return this;")();const ro=8,io=9,Fe=11,st=1,Qt=3,Ut=m=>m.dom.nodeName.toLowerCase(),Tn=m=>m.dom.nodeType,Pn=m=>h=>Tn(h)===m,ho=m=>Tn(m)===ro||Ut(m)==="#comment",$o=Pn(st),ue=Pn(Qt),ze=Pn(io),At=Pn(Fe),Ot=m=>h=>$o(h)&&Ut(h)===m,hn=(m,h)=>{const E=m.dom;if(E.nodeType!==st)return!1;{const P=E;if(P.matches!==void 0)return P.matches(h);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(h);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(h);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},No=m=>m.nodeType!==st&&m.nodeType!==io&&m.nodeType!==Fe||m.childElementCount===0,Ts=(m,h)=>{const E=h===void 0?document:h.dom;return No(E)?[]:en(E.querySelectorAll(m),Xt.fromDom)},Ns=(m,h)=>{const E=h===void 0?document:h.dom;return No(E)?le.none():le.from(E.querySelector(m)).map(Xt.fromDom)},To=(m,h)=>m.dom===h.dom,cs=hn,wo=m=>Xt.fromDom(m.dom.ownerDocument),rs=m=>ze(m)?m:wo(m),Vn=m=>le.from(m.dom.parentNode).map(Xt.fromDom),gn=(m,h)=>{const E=$e(h)?h:zt;let P=m.dom;const oe=[];for(;P.parentNode!==null&&P.parentNode!==void 0;){const Me=P.parentNode,mt=Xt.fromDom(Me);if(oe.push(mt),E(mt)===!0)break;P=Me}return oe},Vo=m=>le.from(m.dom.previousSibling).map(Xt.fromDom),lo=m=>le.from(m.dom.nextSibling).map(Xt.fromDom),Lo=m=>en(m.dom.childNodes,Xt.fromDom),Xs=(m,h)=>{const E=m.dom.childNodes;return le.from(E[h]).map(Xt.fromDom)},Rs=m=>Xs(m,0),ls=m=>At(m)&&_t(m.dom.host),Zs=$e(Element.prototype.attachShadow)&&$e(Node.prototype.getRootNode)?m=>Xt.fromDom(m.dom.getRootNode()):rs,O=m=>{const h=Zs(m);return ls(h)?le.some(h):le.none()},G=m=>Xt.fromDom(m.dom.host),de=m=>{const h=ue(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const E=h.ownerDocument;return O(Xt.fromDom(h)).fold(()=>E.body.contains(h),xe(de,G))},dt=(m,h)=>ie(Lo(m),h),rn=(m,h)=>{let E=[];return cn(Lo(m),P=>{h(P)&&(E=E.concat([P])),E=E.concat(rn(P,h))}),E},Et=(m,h)=>dt(m,E=>hn(E,h)),An=(m,h)=>Ts(h,m);var Bo=(m,h,E,P,oe)=>m(E,P)?le.some(E):$e(oe)&&oe(E)?le.none():h(E,P,oe);const ln=(m,h,E)=>{let P=m.dom;const oe=$e(E)?E:zt;for(;P.parentNode;){P=P.parentNode;const Me=Xt.fromDom(P);if(h(Me))return le.some(Me);if(oe(Me))break}return le.none()},jn=(m,h)=>{const E=oe=>h(Xt.fromDom(oe));return me(m.dom.childNodes,E).map(Xt.fromDom)},jo=(m,h,E)=>ln(m,P=>hn(P,h),E),Ro=(m,h)=>jn(m,E=>hn(E,h)),q=(m,h)=>Ns(h,m),ee=(m,h,E)=>Bo((oe,Me)=>hn(oe,Me),jo,m,h,E),Ge=(m,h,E)=>{if(We(E)||Ee(E)||Ne(E))m.setAttribute(h,E+"");else throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",E,":: Element ",m),new Error("Attribute value was not simple")},St=(m,h,E)=>{Ge(m.dom,h,E)},vt=(m,h)=>{const E=m.dom;Le(h,(P,oe)=>{Ge(E,oe,P)})},wt=(m,h)=>{const E=m.dom.getAttribute(h);return E===null?void 0:E},It=(m,h)=>le.from(wt(m,h)),Lt=(m,h)=>{m.dom.removeAttribute(h)},un=m=>we(m.dom.attributes,(h,E)=>(h[E.name]=E.value,h),{}),Xn=(m,h,E=ke)=>m.exists(P=>E(P,h)),yo=m=>{const h=[],E=P=>{h.push(P)};for(let P=0;P<m.length;P++)m[P].each(E);return h},Dn=(m,h,E)=>m.isSome()&&h.isSome()?le.some(E(m.getOrDie(),h.getOrDie())):le.none(),ar=m=>m.bind(ae),_s=(m,h)=>m?le.some(h):le.none(),Bn=(m,h)=>m.substring(h),to=(m,h,E)=>h===""||m.length>=h.length&&m.substr(E,E+h.length)===h,Jo=(m,h)=>es(m,h)?Bn(m,h.length):m,es=(m,h)=>to(m,h,0),Os=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),Zr=m=>m.length>0,Hs=m=>!Zr(m),Sr=m=>{const h=parseFloat(m);return isNaN(h)?le.none():le.some(h)},cr=m=>m.style!==void 0&&$e(m.style.getPropertyValue),Da=(m,h,E)=>{if(!We(E))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",E,":: Element ",m),new Error("CSS value must be a string: "+E);cr(m)&&m.style.setProperty(h,E)},xr=(m,h)=>{cr(m)&&m.style.removeProperty(h)},Lr=(m,h,E)=>{const P=m.dom;Da(P,h,E)},Qr=(m,h)=>{const E=m.dom,oe=window.getComputedStyle(E).getPropertyValue(h);return oe===""&&!de(m)?Mr(E,h):oe},Mr=(m,h)=>cr(m)?m.style.getPropertyValue(h):"",Qs=(m,h)=>{const E=m.dom,P=Mr(E,h);return le.from(P).filter(oe=>oe.length>0)},Oa=(m,h)=>{const E=m.dom;xr(E,h),Xn(It(m,"style").map(Os),"")&&Lt(m,"style")},ir=(m,h,E=0)=>It(m,h).map(P=>parseInt(P,10)).getOr(E),Er=(m,h)=>Jr(m,h,ot),Jr=(m,h,E)=>Ce(Lo(m),P=>hn(P,h)?E(P)?[P]:[]:Jr(P,h,E)),us=["tfoot","thead","tbody","colgroup"],R=m=>kn(us,m),Q=(m,h)=>({rows:m,columns:h}),fe=(m,h,E)=>({element:m,rowspan:h,colspan:E}),qe=(m,h,E,P,oe,Me)=>({element:m,rowspan:h,colspan:E,row:P,column:oe,isLocked:Me}),bt=(m,h,E)=>({element:m,cells:h,section:E}),Nn=(m,h,E,P)=>({startRow:m,startCol:h,finishRow:E,finishCol:P}),bo=(m,h,E)=>({element:m,colspan:h,column:E}),Go=(m,h)=>({element:m,columns:h}),po=(m,h,E=zt)=>{if(E(h))return le.none();if(kn(m,Ut(h)))return le.some(h);const P=oe=>hn(oe,"table")||E(oe);return jo(h,m.join(","),P)},hs=(m,h)=>po(["td","th"],m,h),vs=m=>Er(m,"th,td"),Tr=m=>hn(m,"colgroup")?Et(m,"col"):Ce(ba(m),h=>Et(h,"col")),Do=(m,h)=>ee(m,"table",h),Pa=m=>Er(m,"tr"),ba=m=>Do(m).fold(rt([]),h=>Et(h,"colgroup")),lr=(m,h)=>en(m,E=>{if(Ut(E)==="colgroup"){const P=en(Tr(E),oe=>{const Me=ir(oe,"span",1);return fe(oe,1,Me)});return bt(E,P,"colgroup")}else{const P=en(vs(E),oe=>{const Me=ir(oe,"rowspan",1),mt=ir(oe,"colspan",1);return fe(oe,Me,mt)});return bt(E,P,h(E))}}),ys=m=>Vn(m).map(h=>{const E=Ut(h);return R(E)?E:"tbody"}).getOr("tbody"),br=m=>{const h=Pa(m),P=[...ba(m),...h];return lr(P,ys)},zr="data-snooker-locked-cols",Gn=m=>It(m,zr).bind(h=>le.from(h.match(/\d+/g))).map(h=>M(h,ot)),Ps=(m,h)=>m+","+h,Ba=(m,h,E)=>le.from(m.access[Ps(h,E)]),ea=(m,h,E)=>{const P=x(m,oe=>E(h,oe.element));return P.length>0?le.some(P[0]):le.none()},x=(m,h)=>{const E=Ce(m.all,P=>P.cells);return ie(E,h)},B=m=>{const h={};let E=0;return cn(m.cells,P=>{const oe=P.colspan;an(oe,Me=>{const mt=E+Me;h[mt]=bo(P.element,oe,mt)}),E+=oe}),h},K=m=>{const h={},E=[],oe=kt(m).map(or=>or.element).bind(Do).bind(Gn).getOr({});let Me=0,mt=0,xt=0;const{pass:vn,fail:Ln}=w(m,or=>or.section==="colgroup");cn(Ln,or=>{const Dr=[];cn(or.cells,Ja=>{let Ua=0;for(;h[Ps(xt,Ua)]!==void 0;)Ua++;const cu=Z(oe,Ua.toString()),bl=qe(Ja.element,Ja.rowspan,Ja.colspan,xt,Ua,cu);for(let Lc=0;Lc<Ja.colspan;Lc++)for(let Mc=0;Mc<Ja.rowspan;Mc++){const iu=xt+Mc,kl=Ua+Lc,wl=Ps(iu,kl);h[wl]=bl,mt=Math.max(mt,kl+1)}Dr.push(bl)}),Me++,E.push(bt(or.element,Dr,or.section)),xt++});const{columns:as,colgroups:uo}=Qe(vn).map(or=>{const Dr=B(or);return{colgroups:[Go(or.element,jt(Dr))],columns:Dr}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Q(Me,mt),access:h,all:E,columns:as,colgroups:uo}},Zo={fromTable:m=>{const h=br(m);return K(h)},generate:K,getAt:Ba,findItem:ea,filterItems:x,justCells:m=>Ce(m.all,h=>h.cells),justColumns:m=>jt(m.columns),hasColumns:m=>it(m.columns).length>0,getColumnAt:(m,h)=>le.from(m.columns[h])};var Ar=tinymce.util.Tools.resolve("tinymce.util.Tools");const zo=(m,h,E)=>{const P=m.select("td,th",h);let oe;return((mt,xt)=>{for(let vn=0;vn<xt.length;vn++){const Ln=m.getStyle(xt[vn],E);if(typeof mt>"u"&&(mt=Ln),mt!==Ln)return""}return mt})(oe,P)},Nr=(m,h,E)=>{Ar.each("left center right".split(" "),P=>{P!==E&&m.formatter.remove("align"+P,{},h)}),E&&m.formatter.apply("align"+E,{},h)},bs=(m,h,E)=>{Ar.each("top middle bottom".split(" "),P=>{P!==E&&m.formatter.remove("valign"+P,{},h)}),E&&m.formatter.apply("valign"+E,{},h)},$=(m,h,E)=>{m.dispatch("TableModified",{...E,table:h})},V=(m,h)=>Sr(m).getOr(h),Te=(m,h,E)=>V(Qr(m,h),E),He=(m,h,E,P)=>{const oe=Te(m,`padding-${E}`,0),Me=Te(m,`padding-${P}`,0),mt=Te(m,`border-${E}-width`,0),xt=Te(m,`border-${P}-width`,0);return h-oe-Me-mt-xt},Zt=(m,h)=>{const E=m.dom,P=E.getBoundingClientRect().width||E.offsetWidth;return h==="border-box"?P:He(m,P,"left","right")},vo=m=>Zt(m,"content-box");var Uo=tinymce.util.Tools.resolve("tinymce.Env");const Js="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",qn=an(5,m=>{const h=`${m+1}px`;return{title:h,value:h}}),ko=en(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],m=>({title:m,value:m.toLowerCase()})),er="100%",tr=m=>{var h;const E=m.dom,P=(h=E.getParent(m.selection.getStart(),E.isBlock))!==null&&h!==void 0?h:m.getBody();return vo(Xt.fromDom(P))+"px"},Xa=(m,h)=>Tc(m)||!oa(m)?h:Ec(m)?{...h,width:tr(m)}:{...h,width:er},ur=(m,h)=>Tc(m)||oa(m)?h:Ec(m)?{...h,width:tr(m)}:{...h,width:er},ao=m=>h=>h.options.get(m),ts=m=>{const h=m.options.register;h("table_border_widths",{processor:"object[]",default:qn}),h("table_border_styles",{processor:"object[]",default:ko}),h("table_cell_advtab",{processor:"boolean",default:!0}),h("table_row_advtab",{processor:"boolean",default:!0}),h("table_advtab",{processor:"boolean",default:!0}),h("table_appearance_options",{processor:"boolean",default:!0}),h("table_grid",{processor:"boolean",default:!Uo.deviceType.isTouch()}),h("table_cell_class_list",{processor:"object[]",default:[]}),h("table_row_class_list",{processor:"object[]",default:[]}),h("table_class_list",{processor:"object[]",default:[]}),h("table_toolbar",{processor:"string",default:Js}),h("table_background_color_map",{processor:"object[]",default:[]}),h("table_border_color_map",{processor:"object[]",default:[]})},Bs=ao("table_sizing_mode"),ta=ao("table_border_widths"),$a=ao("table_border_styles"),is=ao("table_cell_advtab"),ka=ao("table_row_advtab"),na=ao("table_advtab"),cc=ao("table_appearance_options"),Qi=ao("table_grid"),oa=ao("table_style_by_css"),sa=ao("table_cell_class_list"),Za=ao("table_row_class_list"),ic=ao("table_class_list"),Ws=ao("table_toolbar"),Ji=ao("table_background_color_map"),wa=ao("table_border_color_map"),Ec=m=>Bs(m)==="fixed",Tc=m=>Bs(m)==="responsive",gi=m=>{const h=m.options,E=h.get("table_default_styles");return h.isSet("table_default_styles")?E:Xa(m,E)},zc=m=>{const h=m.options,E=h.get("table_default_attributes");return h.isSet("table_default_attributes")?E:ur(m,E)},ra=m=>m.nodeName.toLowerCase(),cf=m=>Xt.fromDom(m.getBody()),Ac=m=>h=>To(h,cf(m)),el=m=>m?m.replace(/px$/,""):"",fr=m=>/^\d+(\.\d+)?$/.test(m)?m+"px":m,tl=m=>Xt.fromDom(m.selection.getStart()),ne=m=>Xt.fromDom(m.selection.getEnd()),lc=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,aa=(m,h)=>{let E=!0;const P=ge(lc,h);for(let oe=h.startRow;oe<=h.finishRow;oe++)for(let Me=h.startCol;Me<=h.finishCol;Me++)E=E&&Zo.getAt(m,oe,Me).exists(P);return E?le.some(h):le.none()},nl=(m,h)=>Nn(Math.min(m.row,h.row),Math.min(m.column,h.column),Math.max(m.row+m.rowspan-1,h.row+h.rowspan-1),Math.max(m.column+m.colspan-1,h.column+h.colspan-1)),lf=(m,h,E)=>{const P=Zo.findItem(m,h,To),oe=Zo.findItem(m,E,To);return P.bind(Me=>oe.map(mt=>nl(Me,mt)))},Gl=(m,h,E)=>lf(m,h,E).bind(P=>aa(m,P)),_o=(m,h,E)=>{const P=Cs(m);return Gl(P,h,E)},Cs=Zo.fromTable,hi=(m,h)=>{Vn(m).each(P=>{P.dom.insertBefore(h.dom,m.dom)})},_a=(m,h)=>{lo(m).fold(()=>{Vn(m).each(oe=>{Fa(oe,h)})},P=>{hi(P,h)})},Kl=(m,h)=>{Rs(m).fold(()=>{Fa(m,h)},P=>{m.dom.insertBefore(h.dom,P.dom)})},Fa=(m,h)=>{m.dom.appendChild(h.dom)},nr=(m,h)=>{hi(m,h),Fa(h,m)},ol=(m,h)=>{cn(h,(E,P)=>{const oe=P===0?m:h[P-1];_a(oe,E)})},Yl=(m,h)=>{cn(h,E=>{Fa(m,E)})},sl=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Ia=m=>{const h=Lo(m);h.length>0&&ol(m,h),sl(m)},bi=((m,h)=>{const E=Me=>{if(!m(Me))throw new Error("Can only get "+h+" value of a "+h+" node");return P(Me).getOr("")},P=Me=>m(Me)?le.from(Me.dom.nodeValue):le.none();return{get:E,getOption:P,set:(Me,mt)=>{if(!m(Me))throw new Error("Can only set raw "+h+" value of a "+h+" node");Me.dom.nodeValue=mt}}})(ue,"text"),rl=m=>bi.get(m),ms=(m,h)=>bi.set(m,h);var uc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],al=()=>{const m=Ln=>Xt.fromDom(Ln.dom.cloneNode(!1)),h=Ln=>rs(Ln).dom,E=Ln=>$o(Ln)?Ut(Ln)==="body"?!0:kn(uc,Ut(Ln)):!1,P=Ln=>$o(Ln)?kn(["br","img","hr","input"],Ut(Ln)):!1,oe=Ln=>$o(Ln)&&wt(Ln,"contenteditable")==="false",Me=(Ln,as)=>Ln.dom.compareDocumentPosition(as.dom),mt=(Ln,as)=>{const uo=un(Ln);vt(as,uo)},xt=Ln=>{const as=Ut(Ln);return kn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],as)},vn=Ln=>$o(Ln)?It(Ln,"lang"):le.none();return{up:rt({selector:jo,closest:ee,predicate:ln,all:gn}),down:rt({selector:An,predicate:rn}),styles:rt({get:Qr,getRaw:Qs,set:Lr,remove:Oa}),attrs:rt({get:wt,set:St,remove:Lt,copyTo:mt}),insert:rt({before:hi,after:_a,afterAll:ol,append:Fa,appendAll:Yl,prepend:Kl,wrap:nr}),remove:rt({unwrap:Ia,remove:sl}),create:rt({nu:Xt.fromTag,clone:m,text:Xt.fromText}),query:rt({comparePosition:Me,prevSibling:Vo,nextSibling:lo}),property:rt({children:Lo,name:Ut,parent:Vn,document:h,isText:ue,isComment:ho,isElement:$o,isSpecial:xt,getLanguage:vn,getText:rl,setText:ms,isBoundary:E,isEmptyTag:P,isNonEditable:oe}),eq:To,is:cs}};const ki=(m,h,E,P)=>{const oe=E[0],Me=E.slice(1);return P(m,h,oe,Me)},cl=(m,h,E)=>E.length>0?ki(m,h,E,Xl):le.none(),Xl=(m,h,E,P)=>{const oe=h(m,E);return re(P,(Me,mt)=>{const xt=h(m,mt);return il(m,Me,xt)},oe)},il=(m,h,E)=>h.bind(P=>E.filter(ge(m.eq,P))),ll=cl,b=al(),S=(m,h)=>ll(b,(E,P)=>m(P),h),A=m=>jo(m,"table"),te=(m,h)=>{const E=An(m,h);return E.length>0?le.some(E):le.none()},be=(m,h,E)=>q(m,h).bind(P=>q(m,E).bind(oe=>S(A,[P,oe]).map(Me=>({first:P,last:oe,table:Me})))),$t=(m,h)=>te(m,h),yn=(m,h,E)=>be(m,h,E).bind(P=>{const oe=vn=>To(m,vn),Me="thead,tfoot,tbody,table",mt=jo(P.first,Me,oe),xt=jo(P.last,Me,oe);return mt.bind(vn=>xt.bind(Ln=>To(vn,Ln)?_o(P.table,P.first,P.last):le.none()))}),On=m=>en(m,Xt.fromDom),Hn="data-mce-selected",Mn="td["+Hn+"],th["+Hn+"]",ns="data-mce-first-selected",jr="td["+ns+"],th["+ns+"]",qs="data-mce-last-selected",kd="td["+qs+"],th["+qs+"]",wi={selected:Hn,selectedSelector:Mn,firstSelected:ns,firstSelectedSelector:jr,lastSelected:qs,lastSelectedSelector:kd},wd=m=>Do(m).bind(h=>$t(h,wi.firstSelectedSelector)).fold(rt(m),h=>h[0]),Zl=m=>(h,E)=>{const P=Ut(h),oe=P==="col"||P==="colgroup"?wd(h):h;return ee(oe,m,E)},La=Zl("th,td,caption"),kr=Zl("th,td"),ca=m=>On(m.model.table.getSelectedCells()),_d=(m,h)=>{const E=kr(m),P=E.bind(oe=>Do(oe)).map(oe=>Pa(oe));return Dn(E,P,(oe,Me)=>ie(Me,mt=>Rn(On(mt.dom.cells),xt=>wt(xt,h)==="1"||To(xt,oe)))).getOr([])},fs=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],vd=m=>({value:m}),ul=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,fc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,fl=m=>ul.test(m)||fc.test(m),Oo=m=>Jo(m,"#").toUpperCase(),zs=m=>fl(m)?le.some({value:Oo(m)}):le.none(),Rr=m=>{const h=m.toString(16);return(h.length===1?"0"+h:h).toUpperCase()},Ss=m=>{const h=Rr(m.red)+Rr(m.green)+Rr(m.blue);return vd(h)},uf=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,_i=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ff=(m,h,E,P)=>({red:m,green:h,blue:E,alpha:P}),dc=(m,h,E,P)=>{const oe=parseInt(m,10),Me=parseInt(h,10),mt=parseInt(E,10),xt=parseFloat(P);return ff(oe,Me,mt,xt)},Ql=m=>{if(m==="transparent")return le.some(ff(0,0,0,0));const h=uf.exec(m);if(h!==null)return le.some(dc(h[1],h[2],h[3],"1"));const E=_i.exec(m);return E!==null?le.some(dc(E[1],E[2],E[3],E[4])):le.none()},Tp=m=>zs(m).orThunk(()=>Ql(m).map(Ss)).getOrThunk(()=>{const h=document.createElement("canvas");h.height=1,h.width=1;const E=h.getContext("2d");E.clearRect(0,0,h.width,h.height),E.fillStyle="#FFFFFF",E.fillStyle=m,E.fillRect(0,0,1,1);const P=E.getImageData(0,0,1,1).data,oe=P[0],Me=P[1],mt=P[2],xt=P[3];return Ss(ff(oe,Me,mt,xt))}),zp=m=>Ql(m).map(Ss).map(h=>"#"+h.value).getOr(m),Jl=m=>{let h=m;return{get:()=>h,set:oe=>{h=oe}}},Ap=m=>{const h=Jl(le.none()),E=()=>h.get().each(m);return{clear:()=>{E(),h.set(le.none())},isSet:()=>h.get().isSome(),get:()=>h.get(),set:xt=>{E(),h.set(le.some(xt))}}},df=()=>Ap(m=>m.unbind()),dl=(m,h,E)=>P=>{const oe=df(),Me=Hs(E),mt=()=>{const xt=ca(m),vn=Ln=>m.formatter.match(h,{value:E},Ln.dom,Me);Me?(P.setActive(!Rn(xt,vn)),oe.set(m.formatter.formatChanged(h,Ln=>P.setActive(!Ln),!0))):(P.setActive(W(xt,vn)),oe.set(m.formatter.formatChanged(h,P.setActive,!1,{value:E})))};return m.initialized?mt():m.on("init",mt),oe.clear},Cd=m=>Z(m,"menu"),Nc=m=>en(m,h=>{const E=h.text||h.title;return Cd(h)?{text:E,items:Nc(h.menu)}:{text:E,value:h.value}}),vi=(m,h,E,P)=>en(h,oe=>{const Me=oe.text||oe.title;return Cd(oe)?{type:"nestedmenuitem",text:Me,getSubmenuItems:()=>vi(m,oe.menu,E,P)}:{text:Me,type:"togglemenuitem",onAction:()=>P(oe.value),onSetup:dl(m,E,oe.value)}}),Rc=(m,h)=>E=>{m.execCommand("mceTableApplyCellStyle",!1,{[h]:E})},In=m=>Ce(m,h=>Cd(h)?[{...h,menu:In(h.menu)}]:Zr(h.value)?[h]:[]),mc=(m,h,E,P)=>oe=>oe(vi(m,h,E,P)),Ci=(m,h,E)=>{const P=en(h,oe=>({text:oe.title,value:"#"+Tp(oe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:P.length>0?P:void 0,allowCustomColors:!1},onAction:oe=>{const Me=oe.value==="remove"?"":oe.value;m.execCommand("mceTableApplyCellStyle",!1,{[E]:Me})}}]},mf=m=>()=>{const E=m.queryCommandValue("mceTableRowType")==="header"?"body":"header";m.execCommand("mceTableRowType",!1,{type:E})},pf=m=>()=>{const E=m.queryCommandValue("mceTableColType")==="th"?"td":"th";m.execCommand("mceTableColType",!1,{type:E})},gf=m=>{const h=Nc(sa(m));return h.length>0?le.some({name:"class",type:"listbox",label:"Class",items:h}):le.none()},Dc=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:fs}],Si=m=>Dc.concat(gf(m).toArray()),dn=(m,h)=>{const P=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Nc($a(m)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],Me=h==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(P):P;return{title:"Advanced",name:"advanced",items:Me}},xi={normal:(m,h)=>{const E=m.dom;return{setAttrib:(mt,xt)=>{E.setAttrib(h,mt,xt)},setStyle:(mt,xt)=>{E.setStyle(h,mt,xt)},setFormat:(mt,xt)=>{xt===""?m.formatter.remove(mt,{value:null},h,!0):m.formatter.apply(mt,{value:xt},h)}}}},hf=Ot("th"),Qa=(m,h)=>m&&h?"sectionCells":m?"section":"cells",Oc=m=>{const h=m.section==="thead",E=Xn(eu(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||E?{type:"header",subType:Qa(h,E)}:{type:"body"}},eu=m=>{const h=ie(m,E=>hf(E.element));return h.length===0?le.some("td"):h.length===m.length?le.some("th"):le.none()},Ma=m=>{const h=en(m,oe=>Oc(oe).type),E=kn(h,"header"),P=kn(h,"footer");if(!E&&!P)return le.some("body");{const oe=kn(h,"body");return E&&!oe&&!P?le.some("header"):!E&&!oe&&P?le.some("footer"):le.none()}},Sd=m=>{let h=!1,E;return(...P)=>(h||(h=!0,E=m.apply(null,P)),E)},ml=(m,h)=>pn(m.all,E=>me(E.cells,P=>To(h,P.element))),Ft=(m,h,E)=>{const P=en(h.selection,Me=>hs(Me).bind(mt=>ml(m,mt)).filter(E)),oe=yo(P);return _s(oe.length>0,oe)},xd=(m,h)=>h.mergable,Ed=(m,h)=>h.unmergable,pl=(m,h)=>Ft(m,h,ot),tu=(m,h)=>ml(m,h).exists(E=>!E.isLocked),Ei=(m,h)=>W(h,E=>tu(m,E)),ps=(m,h)=>xd(m,h).filter(E=>Ei(m,E.cells)),Td=(m,h)=>Ed(m,h).filter(E=>Ei(m,E));({...{generate:m=>{if(!Ke(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],E={};return cn(m,(P,oe)=>{const Me=it(P);if(Me.length!==1)throw new Error("one and only one name per case");const mt=Me[0],xt=P[mt];if(E[mt]!==void 0)throw new Error("duplicate key detected:"+mt);if(mt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ke(xt))throw new Error("case arguments must be an array");h.push(mt),E[mt]=(...vn)=>{const Ln=vn.length;if(Ln!==xt.length)throw new Error("Wrong number of arguments to case "+mt+". Expected "+xt.length+" ("+xt+"), got "+Ln);return{fold:(...uo)=>{if(uo.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+uo.length);return uo[oe].apply(null,vn)},match:uo=>{const Ko=it(uo);if(h.length!==Ko.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+Ko.join(","));if(!W(h,Dr=>kn(Ko,Dr)))throw new Error("Not all branches were specified when using match. Specified: "+Ko.join(", ")+`
Required: `+h.join(", "));return uo[mt].apply(null,vn)},log:uo=>{console.log(uo,{constructors:h,constructor:mt,params:vn})}}}}),E}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const qh=(m,h)=>{const E=Zo.fromTable(m);return pl(E,h).bind(oe=>{const Me=oe[oe.length-1],mt=oe[0].row,xt=Me.row+Me.rowspan,vn=E.all.slice(mt,xt);return Ma(vn)}).getOr("")},Pc=m=>es(m,"rgb")?zp(m):m,Ti=m=>{const h=Xt.fromDom(m);return{borderwidth:Qs(h,"border-width").getOr(""),borderstyle:Qs(h,"border-style").getOr(""),bordercolor:Qs(h,"border-color").map(Pc).getOr(""),backgroundcolor:Qs(h,"background-color").map(Pc).getOr("")}},yf=m=>{const h=m[0],E=m.slice(1);return cn(E,P=>{cn(it(h),oe=>{Le(P,(Me,mt)=>{const xt=h[oe];xt!==""&&oe===mt&&xt!==Me&&(h[oe]="")})})}),h},zd=(m,h,E,P)=>me(m,oe=>!Ie(E.formatter.matchNode(P,h+oe))).getOr(""),nu=ge(zd,["left","center","right"],"align"),zi=ge(zd,["top","middle","bottom"],"valign"),Bc=(m,h)=>{const E=gi(m),P=zc(m),oe=()=>({borderstyle:Ze(E,"border-style").getOr(""),bordercolor:Pc(Ze(E,"border-color").getOr("")),backgroundcolor:Pc(Ze(E,"background-color").getOr(""))}),Me={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},mt=()=>{const as=E["border-width"];return oa(m)&&as?{border:as}:Ze(P,"border").fold(()=>({}),uo=>({border:uo}))},xt=h?oe():{},vn=()=>{const as=Ze(E,"border-spacing").or(Ze(P,"cellspacing")).fold(()=>({}),Ko=>({cellspacing:Ko})),uo=Ze(E,"border-padding").or(Ze(P,"cellpadding")).fold(()=>({}),Ko=>({cellpadding:Ko}));return{...as,...uo}};return{...Me,...E,...P,...xt,...mt(),...vn()}},Np=m=>Do(Xt.fromDom(m)).map(h=>{const E={selection:On(m.cells)};return qh(h,E)}).getOr(""),Rp=(m,h,E)=>{const P=(xt,vn)=>{const Ln=Qs(Xt.fromDom(vn),"border-width");return oa(m)&&Ln.isSome()?Ln.getOr(""):xt.getAttrib(vn,"border")||zo(m.dom,vn,"border-width")||zo(m.dom,vn,"border")},oe=m.dom,Me=oa(m)?oe.getStyle(h,"border-spacing")||oe.getAttrib(h,"cellspacing"):oe.getAttrib(h,"cellspacing")||oe.getStyle(h,"border-spacing"),mt=oa(m)?zo(oe,h,"padding")||oe.getAttrib(h,"cellpadding"):oe.getAttrib(h,"cellpadding")||zo(oe,h,"padding");return{width:oe.getStyle(h,"width")||oe.getAttrib(h,"width"),height:oe.getStyle(h,"height")||oe.getAttrib(h,"height"),cellspacing:Me,cellpadding:mt,border:P(oe,h),caption:!!oe.select("caption",h)[0],class:oe.getAttrib(h,"class",""),align:nu(m,h),...E?Ti(h):{}}},Ad=(m,h,E)=>{const P=m.dom;return{height:P.getStyle(h,"height")||P.getAttrib(h,"height"),class:P.getAttrib(h,"class",""),type:Np(h),align:nu(m,h),...E?Ti(h):{}}},Ai=(m,h,E,P)=>{const oe=m.dom,Me=P.getOr(h),mt=(xt,vn)=>oe.getStyle(xt,vn)||oe.getAttrib(xt,vn);return{width:mt(Me,"width"),height:mt(h,"height"),scope:oe.getAttrib(h,"scope"),celltype:ra(h),class:oe.getAttrib(h,"class",""),halign:nu(m,h),valign:zi(m,h),...E?Ti(h):{}}},$c=(m,h)=>{const E=Zo.fromTable(m),P=Zo.justCells(E),oe=ie(P,Me=>Rn(h,mt=>To(Me.element,mt)));return en(oe,Me=>({element:Me.element.dom,column:Zo.getColumnAt(E,Me.column).map(mt=>mt.element.dom)}))},ja=(m,h,E,P)=>{P("scope")&&m.setAttrib("scope",E.scope),P("class")&&m.setAttrib("class",E.class),P("height")&&m.setStyle("height",fr(E.height)),P("width")&&h.setStyle("width",fr(E.width))},Nd=(m,h,E)=>{E("backgroundcolor")&&m.setFormat("tablecellbackgroundcolor",h.backgroundcolor),E("bordercolor")&&m.setFormat("tablecellbordercolor",h.bordercolor),E("borderstyle")&&m.setFormat("tablecellborderstyle",h.borderstyle),E("borderwidth")&&m.setFormat("tablecellborderwidth",fr(h.borderwidth))},Vh=(m,h,E,P)=>{const oe=h.length===1;cn(h,Me=>{const mt=Me.element,xt=oe?ot:P,vn=xi.normal(m,mt),Ln=Me.column.map(as=>xi.normal(m,as)).getOr(vn);ja(vn,Ln,E,xt),is(m)&&Nd(vn,E,xt),P("halign")&&Nr(m,mt,E.halign),P("valign")&&bs(m,mt,E.valign)})},Rd=(m,h)=>{m.execCommand("mceTableCellType",!1,{type:h.celltype,no_events:!0})},ks=(m,h,E,P)=>{const oe=Wt(P,(Me,mt)=>E[mt]!==Me);ye(oe)>0&&h.length>=1&&Do(h[0]).each(Me=>{const mt=$c(Me,h),xt=ye(Wt(oe,(Ln,as)=>as!=="scope"&&as!=="celltype"))>0,vn=qt(oe,"celltype");(xt||qt(oe,"scope"))&&Vh(m,mt,P,ge(qt,oe)),vn&&Rd(m,P),$(m,Me.dom,{structure:vn,style:xt})})},Dp=(m,h,E,P)=>{const oe=P.getData();P.close(),m.undoManager.transact(()=>{ks(m,h,E,oe),m.focus()})},Dd=(m,h)=>{const E=Do(h[0]).map(P=>en($c(P,h),oe=>Ai(m,oe.element,is(m),oe.column)));return yf(E.getOrDie())},Ni=m=>{const h=ca(m);if(h.length===0)return;const E=Dd(m,h),P={type:"tabpanel",tabs:[{title:"General",name:"general",items:Si(m)},dn(m,"cell")]},oe={type:"panel",items:[{type:"grid",columns:2,items:Si(m)}]};m.windowManager.open({title:"Cell Properties",size:"normal",body:is(m)?P:oe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:E,onSubmit:ge(Dp,m,h,E)})},Op=m=>{const h=Nc(Za(m));return h.length>0?le.some({name:"class",type:"listbox",label:"Class",items:h}):le.none()},Pp=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],bf=m=>Pp.concat(Op(m).toArray()),Od=(m,h,E)=>{E("class")&&m.setAttrib("class",h.class),E("height")&&m.setStyle("height",fr(h.height))},Bp=(m,h,E)=>{E("backgroundcolor")&&m.setStyle("background-color",h.backgroundcolor),E("bordercolor")&&m.setStyle("border-color",h.bordercolor),E("borderstyle")&&m.setStyle("border-style",h.borderstyle)},Pd=(m,h,E,P)=>{const Me=h.length===1?ot:P;cn(h,mt=>{const xt=xi.normal(m,mt);Od(xt,E,Me),ka(m)&&Bp(xt,E,Me),P("align")&&Nr(m,mt,E.align)})},gc=(m,h)=>{m.execCommand("mceTableRowType",!1,{type:h.type,no_events:!0})},ua=(m,h,E,P)=>{const oe=Wt(P,(Me,mt)=>E[mt]!==Me);if(ye(oe)>0){const Me=qt(oe,"type"),mt=Me?ye(oe)>1:!0;mt&&Pd(m,h,P,ge(qt,oe)),Me&&gc(m,P),Do(Xt.fromDom(h[0])).each(xt=>$(m,xt.dom,{structure:Me,style:mt}))}},$p=(m,h,E,P)=>{const oe=P.getData();P.close(),m.undoManager.transact(()=>{ua(m,h,E,oe),m.focus()})},kf=m=>{const h=_d(tl(m),wi.selected);if(h.length===0)return;const E=en(h,mt=>Ad(m,mt.dom,ka(m))),P=yf(E),oe={type:"tabpanel",tabs:[{title:"General",name:"general",items:bf(m)},dn(m,"row")]},Me={type:"panel",items:[{type:"grid",columns:2,items:bf(m)}]};m.windowManager.open({title:"Row Properties",size:"normal",body:ka(m)?oe:Me,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:P,onSubmit:ge($p,m,en(h,mt=>mt.dom),P)})},Ri=(m,h,E)=>{const P=E?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],oe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Me=cc(m)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],mt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],xt=h.length>0?[{type:"listbox",name:"class",label:"Class",items:h}]:[];return P.concat(oe).concat(Me).concat(mt).concat(xt)},wf=(m,h,E,P)=>{if(h.tagName==="TD"||h.tagName==="TH")We(E)?m.setStyle(h,E,P):m.setStyles(h,E);else if(h.children)for(let oe=0;oe<h.children.length;oe++)wf(m,h.children[oe],E,P)},_f=(m,h,E)=>{const P=m.dom,oe={},Me={};if(oe.class=E.class,Me.height=fr(E.height),oa(m)?Me.width=fr(E.width):P.getAttrib(h,"width")&&(oe.width=el(E.width)),oa(m)?(Me["border-width"]=fr(E.border),Me["border-spacing"]=fr(E.cellspacing)):(oe.border=E.border,oe.cellpadding=E.cellpadding,oe.cellspacing=E.cellspacing),oa(m)&&h.children)for(let mt=0;mt<h.children.length;mt++)wf(P,h.children[mt],{"border-width":fr(E.border),padding:fr(E.cellpadding)}),na(m)&&wf(P,h.children[mt],{"border-color":E.bordercolor});na(m)&&(Me["background-color"]=E.backgroundcolor,Me["border-color"]=E.bordercolor,Me["border-style"]=E.borderstyle),oe.style=P.serializeStyle({...gi(m),...Me}),P.setAttribs(h,{...zc(m),...oe})},hl=(m,h,E,P)=>{const oe=m.dom,Me=P.getData(),mt=Wt(Me,(xt,vn)=>E[vn]!==xt);P.close(),Me.class===""&&delete Me.class,m.undoManager.transact(()=>{if(!h){const xt=parseInt(Me.cols,10)||1,vn=parseInt(Me.rows,10)||1;m.execCommand("mceInsertTable",!1,{rows:vn,columns:xt}),h=kr(tl(m),Ac(m)).bind(Ln=>Do(Ln,Ac(m))).map(Ln=>Ln.dom).getOrUndefined()}if(ye(mt)>0){_f(m,h,Me);const xt=oe.select("caption",h)[0];(xt&&!Me.caption||!xt&&Me.caption)&&m.execCommand("mceTableToggleCaption"),Nr(m,h,Me.align)}if(m.focus(),m.addVisual(),ye(mt)>0){const xt=qt(mt,"caption"),vn=xt?ye(mt)>1:!0;$(m,h,{structure:xt,style:vn})}})},Bd=(m,h)=>{const E=m.dom;let P,oe=Bc(m,na(m));h===!1?(P=E.getParent(m.selection.getStart(),"table",m.getBody()),P?oe=Rp(m,P,na(m)):na(m)&&(oe.borderstyle="",oe.bordercolor="",oe.backgroundcolor="")):(oe.cols="1",oe.rows="1",na(m)&&(oe.borderstyle="",oe.bordercolor="",oe.backgroundcolor=""));const Me=Nc(ic(m));Me.length>0&&oe.class&&(oe.class=oe.class.replace(/\s*mce\-item\-table\s*/g,""));const mt={type:"grid",columns:2,items:Ri(m,Me,h)},xt=()=>({type:"panel",items:[mt]}),vn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[mt]},dn(m,"table")]}),Ln=na(m)?vn():xt();m.windowManager.open({title:"Table Properties",size:"normal",body:Ln,onSubmit:ge(hl,m,P,oe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:oe})},ou=m=>{Le({mceTableProps:ge(Bd,m,!1),mceTableRowProps:ge(kf,m),mceTableCellProps:ge(Ni,m)},(h,E)=>m.addCommand(E,()=>h())),m.addCommand("mceInsertTableDialog",h=>{Bd(m,!0)})},su=(m,h)=>Ro(m,h).isSome(),vf=ae,Cf=m=>{const h=(P,oe)=>It(P,oe).exists(Me=>parseInt(Me,10)>1),E=P=>h(P,"rowspan")||h(P,"colspan");return m.length>0&&W(m,E)?le.some(m):le.none()},Sf=(m,h,E)=>h.length<=1?le.none():yn(m,E.firstSelectedSelector,E.lastSelectedSelector).map(P=>({bounds:P,cells:h})),yl=m=>({element:m,mergable:le.none(),unmergable:le.none(),selection:[m]}),Vs=(m,h,E)=>({element:E,mergable:Sf(h,m,wi),unmergable:Cf(m),selection:vf(m)}),ru=m=>{const h=Jl(le.none()),E=Jl([]);let P=le.none();const oe=Ot("caption"),Me=$n=>P.forall(Yo=>!Yo[$n]),mt=()=>La(tl(m),Ac(m)),xt=()=>La(ne(m),Ac(m)),vn=()=>mt().bind($n=>ar(Dn(Do($n),xt().bind(Do),(Yo,$s)=>To(Yo,$s)?oe($n)?le.some(yl($n)):le.some(Vs(ca(m),Yo,$n)):le.none()))),Ln=$n=>Do($n.element).map($s=>{const Ur=Zo.fromTable($s),jp=pl(Ur,$n).getOr([]),lu=we(jp,(Ha,Wa)=>(Wa.isLocked&&(Ha.onAny=!0,Wa.column===0?Ha.onFirst=!0:Wa.column+Wa.colspan>=Ur.grid.columns&&(Ha.onLast=!0)),Ha),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ps(Ur,$n).isSome(),unmergeable:Td(Ur,$n).isSome(),locked:lu}}),as=()=>{h.set(Sd(vn)()),P=h.get().bind(Ln),cn(E.get(),$n=>$n())},uo=$n=>($n(),E.set(E.get().concat([$n])),()=>{E.set(ie(E.get(),Yo=>Yo!==$n))}),Ko=($n,Yo)=>uo(()=>h.get().fold(()=>{$n.setEnabled(!1)},$s=>{$n.setEnabled(!Yo($s))})),or=($n,Yo,$s)=>uo(()=>h.get().fold(()=>{$n.setEnabled(!1),$n.setActive(!1)},Ur=>{$n.setEnabled(!Yo(Ur)),$n.setActive($s(Ur))})),Dr=$n=>P.exists(Yo=>Yo.locked[$n]),Ja=$n=>Ko($n,Yo=>!1),Ua=$n=>Ko($n,Yo=>oe(Yo.element)),cu=$n=>Yo=>Ko(Yo,$s=>oe($s.element)||Dr($n)),bl=$n=>Yo=>Ko(Yo,$s=>oe($s.element)||$n().isNone()),Lc=($n,Yo)=>$s=>Ko($s,Ur=>oe(Ur.element)||$n().isNone()||Dr(Yo)),Mc=$n=>Ko($n,Yo=>Me("mergeable")),iu=$n=>Ko($n,Yo=>Me("unmergeable")),kl=$n=>or($n,zt,Yo=>Do(Yo.element,Ac(m)).exists(Ur=>su(Ur,"caption"))),wl=($n,Yo)=>$s=>or($s,Ur=>oe(Ur.element),()=>m.queryCommandValue($n)===Yo),Lp=wl("mceTableRowType","header"),Mp=wl("mceTableColType","th");return m.on("NodeChange ExecCommand TableSelectorChange",as),{onSetupTable:Ja,onSetupCellOrRow:Ua,onSetupColumn:cu,onSetupPasteable:bl,onSetupPasteableColumn:Lc,onSetupMergeable:Mc,onSetupUnmergeable:iu,resetTargets:as,onSetupTableWithCaption:kl,onSetupTableRowHeaders:Lp,onSetupTableColumnHeaders:Mp,targets:h.get}};var $d=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const xf="x-tinymce/dom-table-",wr=xf+"rows",Ef=xf+"columns",au=m=>{var h;const E=(h=$d.read())!==null&&h!==void 0?h:[];return pn(E,P=>le.from(P.getType(m)))},Fc=()=>au(wr),Di=()=>au(Ef),Fp=(m,h)=>{m.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:xt=>xt("inserttable | cell row column | advtablesort | tableprops deletetable")});const E=xt=>()=>m.execCommand(xt),P=(xt,vn)=>{m.queryCommandSupported(vn.command)&&m.ui.registry.addButton(xt,{...vn,onAction:$e(vn.onAction)?vn.onAction:E(vn.command)})},oe=(xt,vn)=>{m.queryCommandSupported(vn.command)&&m.ui.registry.addToggleButton(xt,{...vn,onAction:$e(vn.onAction)?vn.onAction:E(vn.command)})};P("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:h.onSetupTable}),P("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:h.onSetupTable}),P("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),P("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:h.onSetupMergeable}),P("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),P("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),P("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),P("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),P("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),P("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),P("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),P("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),P("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:h.onSetupCellOrRow}),P("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:h.onSetupCellOrRow}),P("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:h.onSetupPasteable(Fc)}),P("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:h.onSetupPasteable(Fc)}),P("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:h.onSetupColumn("onAny")}),P("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:h.onSetupColumn("onAny")}),P("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:h.onSetupPasteableColumn(Di,"onFirst")}),P("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:h.onSetupPasteableColumn(Di,"onLast")}),P("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const Me=In(ic(m));Me.length!==0&&m.queryCommandSupported("mceTableToggleClass")&&m.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:mc(m,Me,"tableclass",xt=>m.execCommand("mceTableToggleClass",!1,xt)),onSetup:h.onSetupTable});const mt=In(sa(m));mt.length!==0&&m.queryCommandSupported("mceTableCellToggleClass")&&m.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:mc(m,mt,"tablecellclass",xt=>m.execCommand("mceTableCellToggleClass",!1,xt)),onSetup:h.onSetupCellOrRow}),m.queryCommandSupported("mceTableApplyCellStyle")&&(m.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:mc(m,fs,"tablecellverticalalign",Rc(m,"vertical-align")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:mc(m,ta(m),"tablecellborderwidth",Rc(m,"border-width")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:mc(m,$a(m),"tablecellborderstyle",Rc(m,"border-style")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:xt=>xt(Ci(m,Ji(m),"background-color")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:xt=>xt(Ci(m,wa(m),"border-color")),onSetup:h.onSetupCellOrRow})),oe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:h.onSetupTableWithCaption}),oe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:mf(m),onSetup:h.onSetupTableRowHeaders}),oe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:pf(m),onSetup:h.onSetupTableColumnHeaders})},Gh=m=>{const h=P=>m.dom.is(P,"table")&&m.getBody().contains(P),E=Ws(m);E.length>0&&m.ui.registry.addContextToolbar("table",{predicate:h,items:E,scope:"node",position:"node"})},hc=(m,h)=>{const E=uo=>()=>m.execCommand(uo),P=(uo,Ko)=>m.queryCommandSupported(Ko.command)?(m.ui.registry.addMenuItem(uo,{...Ko,onAction:$e(Ko.onAction)?Ko.onAction:E(Ko.command)}),!0):!1,oe=(uo,Ko)=>{m.queryCommandSupported(Ko.command)&&m.ui.registry.addToggleMenuItem(uo,{...Ko,onAction:$e(Ko.onAction)?Ko.onAction:E(Ko.command)})},Me=uo=>{m.execCommand("mceInsertTable",!1,{rows:uo.numRows,columns:uo.numColumns})},mt=[P("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:h.onSetupCellOrRow}),P("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:h.onSetupCellOrRow}),P("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:h.onSetupCellOrRow}),P("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:h.onSetupCellOrRow}),P("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:h.onSetupCellOrRow}),P("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:h.onSetupCellOrRow}),P("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:h.onSetupPasteable(Fc)}),P("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:h.onSetupPasteable(Fc)})],xt=[P("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:h.onSetupColumn("onFirst")}),P("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:h.onSetupColumn("onLast")}),P("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:h.onSetupColumn("onAny")}),P("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:h.onSetupColumn("onAny")}),P("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:h.onSetupColumn("onAny")}),P("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:h.onSetupPasteableColumn(Di,"onFirst")}),P("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:h.onSetupPasteableColumn(Di,"onLast")})],vn=[P("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:h.onSetupCellOrRow}),P("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:h.onSetupMergeable}),P("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:h.onSetupUnmergeable})];Qi(m)?m.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Me}]}):m.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:E("mceInsertTableDialog")}),m.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:E("mceInsertTableDialog")}),P("tableprops",{text:"Table properties",onSetup:h.onSetupTable,command:"mceTableProps"}),P("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,command:"mceTableDelete"}),kn(mt,!0)&&m.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:rt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),kn(xt,!0)&&m.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:rt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),kn(vn,!0)&&m.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:rt("tablecellprops tablemergecells tablesplitcells")}),m.ui.registry.addContextMenu("table",{update:()=>(h.resetTargets(),h.targets().fold(rt(""),uo=>Ut(uo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ln=In(ic(m));Ln.length!==0&&m.queryCommandSupported("mceTableToggleClass")&&m.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>vi(m,Ln,"tableclass",uo=>m.execCommand("mceTableToggleClass",!1,uo)),onSetup:h.onSetupTable});const as=In(sa(m));as.length!==0&&m.queryCommandSupported("mceTableCellToggleClass")&&m.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>vi(m,as,"tablecellclass",uo=>m.execCommand("mceTableCellToggleClass",!1,uo)),onSetup:h.onSetupCellOrRow}),m.queryCommandSupported("mceTableApplyCellStyle")&&(m.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>vi(m,fs,"tablecellverticalalign",Rc(m,"vertical-align")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>vi(m,ta(m),"tablecellborderwidth",Rc(m,"border-width")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>vi(m,$a(m),"tablecellborderstyle",Rc(m,"border-style")),onSetup:h.onSetupCellOrRow}),m.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Ci(m,Ji(m),"background-color"),onSetup:h.onSetupCellOrRow}),m.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Ci(m,wa(m),"border-color"),onSetup:h.onSetupCellOrRow})),oe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:h.onSetupTableWithCaption}),oe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:mf(m),onSetup:h.onSetupTableRowHeaders}),oe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:pf(m),onSetup:h.onSetupTableRowHeaders})},Ic=m=>{const h=ru(m);ts(m),ou(m),hc(m,h),Fp(m,h),Gh(m)};var Ip=()=>{g.add("table",Ic)};Ip()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(J,me)=>J.dispatch("insertCustomChar",{chr:me}),D=(J,me)=>{const ce=_(J,me).chr;J.execCommand("mceInsertContent",!1,ce)},X=(J,me,ce)=>{var Ce;return ce(J,me.prototype)?!0:((Ce=J.constructor)===null||Ce===void 0?void 0:Ce.name)===me.name},_e=J=>{const me=typeof J;return J===null?"null":me==="object"&&Array.isArray(J)?"array":me==="object"&&X(J,String,(ce,Ce)=>Ce.isPrototypeOf(ce))?"string":me},Ae=J=>me=>_e(me)===J,We=J=>me=>typeof me===J,Ke=J=>me=>J===me,Ee=Ae("array"),Ie=Ke(null),pt=J=>J==null,_t=J=>!pt(J),$e=We("function"),tt=(J=>()=>J)(!1);class xe{constructor(me,ce){this.tag=me,this.value=ce}static some(me){return new xe(!0,me)}static none(){return xe.singletonNone}fold(me,ce){return this.tag?ce(this.value):me()}isSome(){return this.tag}isNone(){return!this.tag}map(me){return this.tag?xe.some(me(this.value)):xe.none()}bind(me){return this.tag?me(this.value):xe.none()}exists(me){return this.tag&&me(this.value)}forall(me){return!this.tag||me(this.value)}filter(me){return!this.tag||me(this.value)?this:xe.none()}getOr(me){return this.tag?this.value:me}or(me){return this.tag?this:me}getOrThunk(me){return this.tag?this.value:me()}orThunk(me){return this.tag?this:me()}getOrDie(me){if(this.tag)return this.value;throw new Error(me!=null?me:"Called getOrDie on None")}static from(me){return _t(me)?xe.some(me):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(me){this.tag&&me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const rt=Array.prototype.push,ae=(J,me)=>{const ce=J.length,Ce=new Array(ce);for(let W=0;W<ce;W++){const M=J[W];Ce[W]=me(M,W)}return Ce},ke=(J,me)=>{for(let ce=0,Ce=J.length;ce<Ce;ce++){const W=J[ce];me(W,ce)}},ge=(J,me,ce)=>{for(let Ce=0,W=J.length;Ce<W;Ce++){const M=J[Ce];if(me(M,Ce))return xe.some(M);if(ce(M,Ce))break}return xe.none()},zt=(J,me)=>ge(J,me,tt),ot=J=>{const me=[];for(let ce=0,Ce=J.length;ce<Ce;++ce){if(!Ee(J[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+J);rt.apply(me,J[ce])}return me},le=(J,me)=>ot(ae(J,me));var it=tinymce.util.Tools.resolve("tinymce.util.Tools");const ft=J=>me=>me.options.get(J),Le=J=>{const me=J.options.register,ce=Ce=>$e(Ce)||Ee(Ce);me("charmap",{processor:ce}),me("charmap_append",{processor:ce})},Ve=ft("charmap"),L=ft("charmap_append"),Wt=it.isArray,Je="User Defined",jt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],ye=J=>it.grep(J,me=>Wt(me)&&me.length===2),Ze=J=>Wt(J)?ye(J):typeof J=="function"?J():[],qt=(J,me)=>{const ce=Ve(J);ce&&(me=[{name:Je,characters:Ze(ce)}]);const Ce=L(J);if(Ce){const W=it.grep(me,M=>M.name===Je);return W.length?(W[0].characters=[].concat(W[0].characters).concat(Ze(Ce)),me):me.concat({name:Je,characters:Ze(Ce)})}return me},Z=J=>{const me=qt(J,jt());return me.length>1?[{name:"All",characters:le(me,ce=>ce.characters)}].concat(me):me},Pe=J=>({getCharMap:()=>Z(J),insertChar:Ce=>{D(J,Ce)}}),yt=J=>{let me=J;return{get:()=>me,set:W=>{me=W}}},et=(J,me)=>{let ce=null;const Ce=()=>{Ie(ce)||(clearTimeout(ce),ce=null)};return{cancel:Ce,throttle:(...M)=>{Ce(),ce=setTimeout(()=>{ce=null,J.apply(null,M)},me)}}},kn=(J,me)=>J.indexOf(me)!==-1,Rn=String.fromCodePoint,an=(J,me,ce)=>kn(Rn(J).toLowerCase(),ce)?!0:kn(me.toLowerCase(),ce)||kn(me.toLowerCase().replace(/\s+/g,""),ce),en=(J,me)=>{const ce=[],Ce=me.toLowerCase();return ke(J.characters,W=>{an(W[0],W[1],Ce)&&ce.push(W)}),ae(ce,W=>({text:W[1],value:Rn(W[0]),icon:Rn(W[0])}))},cn="pattern",wn=(J,me)=>{const ce=()=>[{label:"Search",type:"input",name:cn},{type:"collection",name:"results"}],Ce=()=>ae(me,eo=>({title:eo.name,name:eo.name,items:ce()})),W=()=>({type:"panel",items:ce()}),M=()=>({type:"tabpanel",tabs:Ce()}),Ue=me.length===1?yt(Je):yt("All"),kt=(eo,Xt)=>{zt(me,ro=>ro.name===Ue.get()).each(ro=>{const io=en(ro,Xt);eo.setData({results:io})})},pn=et(eo=>{const Xt=eo.getData().pattern;kt(eo,Xt)},40),En=me.length===1?W():M(),Eo={pattern:"",results:en(me[0],"")},oo={title:"Special Character",size:"normal",body:En,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Eo,onAction:(eo,Xt)=>{Xt.name==="results"&&(D(J,Xt.value),eo.close())},onTabChange:(eo,Xt)=>{Ue.set(Xt.newTabName),pn.throttle(eo)},onChange:(eo,Xt)=>{Xt.name===cn&&pn.throttle(eo)}};J.windowManager.open(oo).focus(cn)},w=(J,me)=>{J.addCommand("mceShowCharmap",()=>{wn(J,me)})},ie=(J,me)=>{J.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:(ce,Ce)=>new Promise((W,M)=>{W(en(me,ce))}),onAction:(ce,Ce,W)=>{J.selection.setRng(Ce),J.insertContent(W),ce.hide()}})},re=J=>{J.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:()=>J.execCommand("mceShowCharmap")}),J.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:()=>J.execCommand("mceShowCharmap")})};var we=()=>{g.add("charmap",J=>{Le(J);const me=Z(J);return w(J,me),re(J),ie(J,me[0]),Pe(J)})};we()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),_=tinymce.util.Tools.resolve("tinymce.Env");const D=Ne=>tt=>tt.options.get(Ne),X=Ne=>{const tt=Ne.options.register;tt("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),tt("pagebreak_split_block",{processor:"boolean",default:!1})},_e=D("pagebreak_separator"),Ae=D("pagebreak_split_block"),We="mce-pagebreak",Ke=Ne=>{const tt=`<img src="${_.transparentSrc}" class="${We}" data-mce-resize="false" data-mce-placeholder />`;return Ne?`<p>${tt}</p>`:tt},Ee=Ne=>{const tt=_e(Ne),xe=()=>Ae(Ne),rt=new RegExp(tt.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,ae=>"\\"+ae),"gi");Ne.on("BeforeSetContent",ae=>{ae.content=ae.content.replace(rt,Ke(xe()))}),Ne.on("PreInit",()=>{Ne.serializer.addNodeFilter("img",ae=>{let ke=ae.length,ge,zt;for(;ke--;)if(ge=ae[ke],zt=ge.attr("class"),zt&&zt.indexOf(We)!==-1){const ot=ge.parent;if(Ne.schema.getBlockElements()[ot.name]&&xe()){ot.type=3,ot.value=tt,ot.raw=!0,ge.remove();continue}ge.type=3,ge.value=tt,ge.raw=!0}})})},Ie=Ne=>{Ne.addCommand("mcePageBreak",()=>{Ne.insertContent(Ke(Ae(Ne)))})},pt=Ne=>{Ne.on("ResolveName",tt=>{tt.target.nodeName==="IMG"&&Ne.dom.hasClass(tt.target,We)&&(tt.name="pagebreak")})},_t=Ne=>{const tt=()=>Ne.execCommand("mcePageBreak");Ne.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:tt}),Ne.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:tt})};var $e=()=>{g.add("pagebreak",Ne=>{X(Ne),Ie(Ne),_t(Ne),Ee(Ne),pt(Ne)})};$e()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=rt=>ae=>typeof ae===rt,D=_("boolean"),X=_("number"),_e=rt=>ae=>ae.options.get(rt),Ae=rt=>{const ae=rt.options.register;ae("nonbreaking_force_tab",{processor:ke=>D(ke)?{value:ke?3:0,valid:!0}:X(ke)?{value:ke,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),ae("nonbreaking_wrap",{processor:"boolean",default:!0})},We=_e("nonbreaking_force_tab"),Ke=_e("nonbreaking_wrap"),Ee=(rt,ae)=>{let ke="";for(let ge=0;ge<ae;ge++)ke+=rt;return ke},Ie=rt=>rt.plugins.visualchars?rt.plugins.visualchars.isEnabled():!1,pt=(rt,ae)=>{const ke=()=>Ie(rt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",ge=()=>`<span class="${ke()}" contenteditable="false">${Ee("&nbsp;",ae)}</span>`,ot=Ke(rt)||rt.plugins.visualchars?ge():Ee("&nbsp;",ae);rt.undoManager.transact(()=>rt.insertContent(ot))},_t=rt=>{rt.addCommand("mceNonBreaking",()=>{pt(rt,1)})};var $e=tinymce.util.Tools.resolve("tinymce.util.VK");const Ne=rt=>{const ae=We(rt);ae>0&&rt.on("keydown",ke=>{if(ke.keyCode===$e.TAB&&!ke.isDefaultPrevented()){if(ke.shiftKey)return;ke.preventDefault(),ke.stopImmediatePropagation(),pt(rt,ae)}})},tt=rt=>{const ae=()=>rt.execCommand("mceNonBreaking");rt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:ae}),rt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:ae})};var xe=()=>{g.add("nonbreaking",rt=>{Ae(rt),_t(rt),tt(rt),Ne(rt)})};xe()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),_=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),D=tinymce.util.Tools.resolve("tinymce.util.Tools");const X=Je=>jt=>jt.options.get(Je),_e=Je=>{const jt=Je.options.register;jt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},Ae=X("allow_html_in_named_anchor"),We="a:not([href])",Ke=Je=>!Je,Ee=Je=>Je.getAttribute("id")||Je.getAttribute("name")||"",Ie=Je=>Je&&Je.nodeName.toLowerCase()==="a",pt=Je=>Ie(Je)&&!Je.getAttribute("href")&&Ee(Je)!=="",_t=Je=>pt(Je)&&!Je.firstChild,$e=Je=>{const jt=Je.dom;_(jt).walk(Je.selection.getRng(),ye=>{D.each(ye,Ze=>{_t(Ze)&&jt.remove(Ze,!1)})})},Ne=Je=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Je),tt=Je=>Je.dom.getParent(Je.selection.getStart(),We),xe=Je=>{const jt=tt(Je);return jt?Ee(jt):""},rt=(Je,jt)=>{Je.undoManager.transact(()=>{Ae(Je)||Je.selection.collapse(!0),Je.selection.isCollapsed()?Je.insertContent(Je.dom.createHTML("a",{id:jt})):($e(Je),Je.formatter.remove("namedAnchor",null,null,!0),Je.formatter.apply("namedAnchor",{value:jt}),Je.addVisual())})},ae=(Je,jt,ye)=>{ye.removeAttribute("name"),ye.id=jt,Je.addVisual(),Je.undoManager.add()},ke=(Je,jt)=>{const ye=tt(Je);ye?ae(Je,jt,ye):rt(Je,jt),Je.focus()},ge=(Je,jt)=>Ne(jt)?(ke(Je,jt),!0):(Je.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),zt=Je=>{const jt=xe(Je);Je.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:jt},onSubmit:ye=>{ge(Je,ye.getData().id)&&ye.close()}})},ot=Je=>{Je.addCommand("mceAnchor",()=>{zt(Je)})},le=Je=>Je&&Ke(Je.attr("href"))&&!Ke(Je.attr("id")||Je.attr("name")),it=Je=>le(Je)&&!Je.firstChild,ft=Je=>jt=>{for(let ye=0;ye<jt.length;ye++){const Ze=jt[ye];it(Ze)&&Ze.attr("contenteditable",Je)}},Le=Je=>{Je.on("PreInit",()=>{Je.parser.addNodeFilter("a",ft("false")),Je.serializer.addNodeFilter("a",ft(null))})},Ve=Je=>{Je.formatter.register("namedAnchor",{inline:"a",selector:We,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(jt,ye,Ze)=>pt(jt)})},L=Je=>{Je.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:()=>Je.execCommand("mceAnchor"),onSetup:jt=>Je.selection.selectorChangedWithUnbind("a:not([href])",jt.setActive).unbind}),Je.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:()=>Je.execCommand("mceAnchor")})};var Wt=()=>{g.add("anchor",Je=>{_e(Je),Le(Je),ot(Je),L(Je),Je.on("PreInit",()=>{Ve(Je)})})};Wt()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=ot=>le=>le.options.get(ot),D=ot=>{const le=ot.options.register;le("insertdatetime_dateformat",{processor:"string",default:ot.translate("%Y-%m-%d")}),le("insertdatetime_timeformat",{processor:"string",default:ot.translate("%H:%M:%S")}),le("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),le("insertdatetime_element",{processor:"boolean",default:!1})},X=_("insertdatetime_dateformat"),_e=_("insertdatetime_timeformat"),Ae=_("insertdatetime_formats"),We=_("insertdatetime_element"),Ke=ot=>{const le=Ae(ot);return le.length>0?le[0]:_e(ot)},Ee="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Ie="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),pt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),_t="January February March April May June July August September October November December".split(" "),$e=(ot,le)=>{if(ot=""+ot,ot.length<le)for(let it=0;it<le-ot.length;it++)ot="0"+ot;return ot},Ne=(ot,le,it=new Date)=>(le=le.replace("%D","%m/%d/%Y"),le=le.replace("%r","%I:%M:%S %p"),le=le.replace("%Y",""+it.getFullYear()),le=le.replace("%y",""+it.getYear()),le=le.replace("%m",$e(it.getMonth()+1,2)),le=le.replace("%d",$e(it.getDate(),2)),le=le.replace("%H",""+$e(it.getHours(),2)),le=le.replace("%M",""+$e(it.getMinutes(),2)),le=le.replace("%S",""+$e(it.getSeconds(),2)),le=le.replace("%I",""+((it.getHours()+11)%12+1)),le=le.replace("%p",it.getHours()<12?"AM":"PM"),le=le.replace("%B",""+ot.translate(_t[it.getMonth()])),le=le.replace("%b",""+ot.translate(pt[it.getMonth()])),le=le.replace("%A",""+ot.translate(Ie[it.getDay()])),le=le.replace("%a",""+ot.translate(Ee[it.getDay()])),le=le.replace("%%","%"),le),tt=(ot,le,it,ft)=>{const Le=ot.dom.create("time",{datetime:it},ft);le.parentNode.insertBefore(Le,le),ot.dom.remove(le),ot.selection.select(Le,!0),ot.selection.collapse(!1)},xe=(ot,le)=>{if(We(ot)){const it=Ne(ot,le);let ft;/%[HMSIp]/.test(le)?ft=Ne(ot,"%Y-%m-%dT%H:%M"):ft=Ne(ot,"%Y-%m-%d");const Le=ot.dom.getParent(ot.selection.getStart(),"time");Le?tt(ot,Le,ft,it):ot.insertContent('<time datetime="'+ft+'">'+it+"</time>")}else ot.insertContent(Ne(ot,le))},rt=ot=>{ot.addCommand("mceInsertDate",(le,it)=>{xe(ot,it!=null?it:X(ot))}),ot.addCommand("mceInsertTime",(le,it)=>{xe(ot,it!=null?it:_e(ot))})},ae=ot=>{let le=ot;return{get:()=>le,set:Le=>{le=Le}}};var ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const ge=ot=>{const le=Ae(ot),it=ae(Ke(ot)),ft=Ve=>ot.execCommand("mceInsertDate",!1,Ve);ot.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Ve=>Ve===it.get(),fetch:Ve=>{Ve(ke.map(le,L=>({type:"choiceitem",text:Ne(ot,L),value:L})))},onAction:Ve=>{ft(it.get())},onItemAction:(Ve,L)=>{it.set(L),ft(L)}});const Le=Ve=>()=>{it.set(Ve),ft(Ve)};ot.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>ke.map(le,Ve=>({type:"menuitem",text:Ne(ot,Ve),onAction:Le(Ve)}))})};var zt=()=>{g.add("insertdatetime",ot=>{D(ot),rt(ot),ge(ot)})};zt()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(ft,Le,Ve)=>{const L=Le==="UL"?"InsertUnorderedList":"InsertOrderedList";ft.execCommand(L,!1,Ve===!1?null:{"list-style-type":Ve})},D=ft=>{ft.addCommand("ApplyUnorderedListStyle",(Le,Ve)=>{_(ft,"UL",Ve["list-style-type"])}),ft.addCommand("ApplyOrderedListStyle",(Le,Ve)=>{_(ft,"OL",Ve["list-style-type"])})},X=ft=>Le=>Le.options.get(ft),_e=ft=>{const Le=ft.options.register;Le("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Le("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Ae=X("advlist_number_styles"),We=X("advlist_bullet_styles");var Ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ee=ft=>ft==null,Ie=ft=>!Ee(ft);class pt{constructor(Le,Ve){this.tag=Le,this.value=Ve}static some(Le){return new pt(!0,Le)}static none(){return pt.singletonNone}fold(Le,Ve){return this.tag?Ve(this.value):Le()}isSome(){return this.tag}isNone(){return!this.tag}map(Le){return this.tag?pt.some(Le(this.value)):pt.none()}bind(Le){return this.tag?Le(this.value):pt.none()}exists(Le){return this.tag&&Le(this.value)}forall(Le){return!this.tag||Le(this.value)}filter(Le){return!this.tag||Le(this.value)?this:pt.none()}getOr(Le){return this.tag?this.value:Le}or(Le){return this.tag?this:Le}getOrThunk(Le){return this.tag?this.value:Le()}orThunk(Le){return this.tag?this:Le()}getOrDie(Le){if(this.tag)return this.value;throw new Error(Le!=null?Le:"Called getOrDie on None")}static from(Le){return Ie(Le)?pt.some(Le):pt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Le){this.tag&&Le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pt.singletonNone=new pt(!1);const _t=(ft,Le)=>ft.dom.isChildOf(Le,ft.getBody()),$e=ft=>ft&&/^(TH|TD)$/.test(ft.nodeName),Ne=ft=>Le=>Le&&/^(OL|UL|DL)$/.test(Le.nodeName)&&_t(ft,Le),tt=ft=>{const Le=ft.dom.getParent(ft.selection.getNode(),"ol,ul"),Ve=ft.dom.getStyle(Le,"listStyleType");return pt.from(Ve)},xe=(ft,Le)=>{for(let Ve=0;Ve<ft.length;Ve++){const L=ft[Ve];if(Le(L))return Ve}return-1},rt=ft=>ft.replace(/\-/g," ").replace(/\b\w/g,Le=>Le.toUpperCase()),ae=(ft,Le,Ve)=>{const L=xe(Le.parents,$e),Wt=L!==-1?Le.parents.slice(0,L):Le.parents,Je=Ke.grep(Wt,Ne(ft));return Je.length>0&&Je[0].nodeName===Ve},ke=(ft,Le)=>Ve=>{const L=Wt=>{Ve.setActive(ae(ft,Wt,Le))};return ft.on("NodeChange",L),()=>ft.off("NodeChange",L)},ge=(ft,Le,Ve,L,Wt,Je)=>{ft.ui.registry.addSplitButton(Le,{tooltip:Ve,icon:Wt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:jt=>{const ye=Ke.map(Je,Ze=>{const qt=Wt==="OL"?"num":"bull",Z=Ze==="disc"||Ze==="decimal"?"default":Ze,Pe=Ze==="default"?"":Ze,yt=rt(Ze);return{type:"choiceitem",value:Pe,icon:"list-"+qt+"-"+Z,text:yt}});jt(ye)},onAction:()=>ft.execCommand(L),onItemAction:(jt,ye)=>{_(ft,Wt,ye)},select:jt=>tt(ft).map(Ze=>jt===Ze).getOr(!1),onSetup:ke(ft,Wt)})},zt=(ft,Le,Ve,L,Wt,Je)=>{ft.ui.registry.addToggleButton(Le,{active:!1,tooltip:Ve,icon:Wt==="OL"?"ordered-list":"unordered-list",onSetup:ke(ft,Wt),onAction:()=>ft.execCommand(L)})},ot=(ft,Le,Ve,L,Wt,Je)=>{Je.length>1?ge(ft,Le,Ve,L,Wt,Je):zt(ft,Le,Ve,L,Wt)},le=ft=>{ot(ft,"numlist","Numbered list","InsertOrderedList","OL",Ae(ft)),ot(ft,"bullist","Bullet list","InsertUnorderedList","UL",We(ft))};var it=()=>{g.add("advlist",ft=>{ft.hasPlugin("lists")?(_e(ft),le(ft),D(ft)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};it()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(b,S,A)=>{var te;return A(b,S.prototype)?!0:((te=b.constructor)===null||te===void 0?void 0:te.name)===S.name},D=b=>{const S=typeof b;return b===null?"null":S==="object"&&Array.isArray(b)?"array":S==="object"&&_(b,String,(A,te)=>te.isPrototypeOf(A))?"string":S},X=b=>S=>D(S)===b,_e=b=>S=>typeof S===b,Ae=X("string"),We=X("object"),Ke=X("array"),Ee=_e("boolean"),Ie=b=>b==null,pt=b=>!Ie(b),_t=_e("function"),$e=_e("number"),Ne=()=>{},tt=b=>()=>b,xe=(b,S)=>b===S,rt=b=>S=>!b(S),ae=tt(!1);class ke{constructor(S,A){this.tag=S,this.value=A}static some(S){return new ke(!0,S)}static none(){return ke.singletonNone}fold(S,A){return this.tag?A(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?ke.some(S(this.value)):ke.none()}bind(S){return this.tag?S(this.value):ke.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:ke.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S!=null?S:"Called getOrDie on None")}static from(S){return pt(S)?ke.some(S):ke.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ke.singletonNone=new ke(!1);const ge=Array.prototype.slice,zt=Array.prototype.indexOf,ot=Array.prototype.push,le=(b,S)=>zt.call(b,S),it=(b,S)=>le(b,S)>-1,ft=(b,S)=>{for(let A=0,te=b.length;A<te;A++){const be=b[A];if(S(be,A))return!0}return!1},Le=(b,S)=>{const A=b.length,te=new Array(A);for(let be=0;be<A;be++){const $t=b[be];te[be]=S($t,be)}return te},Ve=(b,S)=>{for(let A=0,te=b.length;A<te;A++){const be=b[A];S(be,A)}},L=(b,S)=>{const A=[];for(let te=0,be=b.length;te<be;te++){const $t=b[te];S($t,te)&&A.push($t)}return A},Wt=(b,S)=>{if(b.length===0)return[];{let A=S(b[0]);const te=[];let be=[];for(let $t=0,yn=b.length;$t<yn;$t++){const On=b[$t],Hn=S(On);Hn!==A&&(te.push(be),be=[]),A=Hn,be.push(On)}return be.length!==0&&te.push(be),te}},Je=(b,S,A)=>(Ve(b,(te,be)=>{A=S(A,te,be)}),A),jt=(b,S,A)=>{for(let te=0,be=b.length;te<be;te++){const $t=b[te];if(S($t,te))return ke.some($t);if(A($t,te))break}return ke.none()},ye=(b,S)=>jt(b,S,ae),Ze=b=>{const S=[];for(let A=0,te=b.length;A<te;++A){if(!Ke(b[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+b);ot.apply(S,b[A])}return S},qt=(b,S)=>Ze(Le(b,S)),Z=b=>{const S=ge.call(b,0);return S.reverse(),S},Pe=(b,S)=>S>=0&&S<b.length?ke.some(b[S]):ke.none(),yt=b=>Pe(b,0),et=b=>Pe(b,b.length-1),kn=(b,S)=>{const A=[],te=_t(S)?be=>ft(A,$t=>S($t,be)):be=>it(A,be);for(let be=0,$t=b.length;be<$t;be++){const yn=b[be];te(yn)||A.push(yn)}return A},Rn=(b,S,A=xe)=>b.exists(te=>A(te,S)),an=(b,S,A=xe)=>en(b,S,A).getOr(b.isNone()&&S.isNone()),en=(b,S,A)=>b.isSome()&&S.isSome()?ke.some(A(b.getOrDie(),S.getOrDie())):ke.none(),cn=1,wn=(b,S)=>{const te=(S||document).createElement("div");if(te.innerHTML=b,!te.hasChildNodes()||te.childNodes.length>1){const be="HTML does not have a single root node";throw console.error(be,b),new Error(be)}return re(te.childNodes[0])},w=(b,S)=>{const te=(S||document).createElement(b);return re(te)},ie=(b,S)=>{const te=(S||document).createTextNode(b);return re(te)},re=b=>{if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},J={fromHtml:wn,fromTag:w,fromText:ie,fromDom:re,fromPoint:(b,S,A)=>ke.from(b.dom.elementFromPoint(S,A)).map(re)},me=(b,S)=>{const A=b.dom;if(A.nodeType!==cn)return!1;{const te=A;if(te.matches!==void 0)return te.matches(S);if(te.msMatchesSelector!==void 0)return te.msMatchesSelector(S);if(te.webkitMatchesSelector!==void 0)return te.webkitMatchesSelector(S);if(te.mozMatchesSelector!==void 0)return te.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},ce=(b,S)=>b.dom===S.dom,Ce=(b,S)=>{const A=b.dom,te=S.dom;return A===te?!1:A.contains(te)},W=me;var M=(b,S,A,te,be)=>b(A,te)?ke.some(A):_t(be)&&be(A)?ke.none():S(A,te,be);typeof window<"u"||Function("return this;")();const Ue=b=>b.dom.nodeName.toLowerCase(),kt=b=>b.dom.nodeType,pn=(b=>S=>kt(S)===b)(cn),En=b=>S=>pn(S)&&Ue(S)===b,Eo=b=>ke.from(b.dom.parentNode).map(J.fromDom),oo=b=>ke.from(b.dom.nextSibling).map(J.fromDom),Yn=b=>Le(b.dom.childNodes,J.fromDom),eo=(b,S)=>{const A=b.dom.childNodes;return ke.from(A[S]).map(J.fromDom)},Xt=b=>eo(b,0),ro=b=>eo(b,b.dom.childNodes.length-1),io=(b,S,A)=>{let te=b.dom;const be=_t(A)?A:ae;for(;te.parentNode;){te=te.parentNode;const $t=J.fromDom(te);if(S($t))return ke.some($t);if(be($t))break}return ke.none()},Fe=(b,S,A)=>M((be,$t)=>$t(be),io,b,S,A),st=(b,S)=>{Eo(b).each(te=>{te.dom.insertBefore(S.dom,b.dom)})},Qt=(b,S)=>{oo(b).fold(()=>{Eo(b).each(be=>{Ut(be,S)})},te=>{st(te,S)})},Ut=(b,S)=>{b.dom.appendChild(S.dom)},Tn=(b,S)=>{Ve(S,A=>{st(b,A)})},Pn=(b,S)=>{Ve(S,A=>{Ut(b,A)})},ho=b=>{b.dom.textContent="",Ve(Yn(b),S=>{$o(S)})},$o=b=>{const S=b.dom;S.parentNode!==null&&S.parentNode.removeChild(S)};var ue=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ze=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),At=tinymce.util.Tools.resolve("tinymce.util.VK");const Ot=Object.keys,hn=(b,S)=>{const A=Ot(b);for(let te=0,be=A.length;te<be;te++){const $t=A[te],yn=b[$t];S(yn,$t)}},No=b=>(S,A)=>{b[A]=S},Ts=(b,S,A,te)=>{const be={};return hn(b,($t,yn)=>{(S($t,yn)?A:te)($t,yn)}),be},Ns=(b,S)=>{const A={};return Ts(b,S,No(A),Ne),A},To=(b,S,A)=>{if(Ae(A)||Ee(A)||$e(A))b.setAttribute(S,A+"");else throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",A,":: Element ",b),new Error("Attribute value was not simple")},cs=(b,S)=>{const A=b.dom;hn(S,(te,be)=>{To(A,be,te)})},wo=b=>Je(b.dom.attributes,(S,A)=>(S[A.name]=A.value,S),{}),rs=(b,S)=>J.fromDom(b.dom.cloneNode(S)),Vn=b=>rs(b,!0),gn=(b,S)=>{const A=J.fromTag(S),te=wo(b);return cs(A,te),A},Vo=(b,S)=>{const A=gn(b,S);Qt(b,A);const te=Yn(b);return Pn(A,te),$o(b),A};var lo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Lo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xs=b=>S=>S&&S.nodeName.toLowerCase()===b,Rs=b=>S=>S&&b.test(S.nodeName),ls=b=>b&&b.nodeType===3,Mo=Rs(/^(OL|UL|DL)$/),Zs=Rs(/^(OL|UL)$/),O=Xs("ol"),G=Rs(/^(LI|DT|DD)$/),de=Rs(/^(DT|DD)$/),dt=Rs(/^(TH|TD)$/),rn=Xs("br"),Et=b=>b.parentNode.firstChild===b,An=(b,S)=>S&&!!b.schema.getTextBlockElements()[S.nodeName],Bo=(b,S)=>b&&b.nodeName in S,ln=(b,S)=>rn(S)?b.isBlock(S.nextSibling)&&!rn(S.previousSibling):!1,jn=(b,S,A)=>{const te=b.isEmpty(S);return A&&b.select("span[data-mce-type=bookmark]",S).length>0?!1:te},jo=(b,S)=>b.isChildOf(S,b.getRoot()),Ro=b=>S=>S.options.get(b),q=b=>{const S=b.options.register;S("lists_indent_on_tab",{processor:"boolean",default:!0})},ee=Ro("lists_indent_on_tab"),Ge=Ro("forced_root_block"),St=Ro("forced_root_block_attrs"),vt=(b,S)=>{const A=b.dom,te=b.schema.getBlockElements(),be=A.createFragment(),$t=Ge(b),yn=St(b);let On,Hn,Mn;for(Hn=A.create($t,yn),Bo(S.firstChild,te)||be.appendChild(Hn);On=S.firstChild;){const ns=On.nodeName;!Mn&&(ns!=="SPAN"||On.getAttribute("data-mce-type")!=="bookmark")&&(Mn=!0),Bo(On,te)?(be.appendChild(On),Hn=null):(Hn||(Hn=A.create($t,yn),be.appendChild(Hn)),Hn.appendChild(On))}return Mn||Hn.appendChild(A.create("br",{"data-mce-bogus":"1"})),be},wt=lo.DOM,It=(b,S,A)=>{const te=Hn=>{Lo.each(be,Mn=>{Hn.parentNode.insertBefore(Mn,A.parentNode)}),wt.remove(Hn)},be=wt.select('span[data-mce-type="bookmark"]',S),$t=vt(b,A),yn=wt.createRng();yn.setStartAfter(A),yn.setEndAfter(S);const On=yn.extractContents();for(let Hn=On.firstChild;Hn;Hn=Hn.firstChild)if(Hn.nodeName==="LI"&&b.dom.isEmpty(Hn)){wt.remove(Hn);break}b.dom.isEmpty(On)||wt.insertAfter(On,S),wt.insertAfter($t,S),jn(b.dom,A.parentNode)&&te(A.parentNode),wt.remove(A),jn(b.dom,S)&&wt.remove(S)},Lt=En("dd"),un=En("dt"),Xn=(b,S)=>{Lt(S)?Vo(S,"dt"):un(S)&&Eo(S).each(A=>It(b,A.dom,S.dom))},yo=b=>{un(b)&&Vo(b,"dd")},Dn=(b,S,A)=>{S==="Indent"?Ve(A,yo):Ve(A,te=>Xn(b,te))},ar=(b,S)=>{if(ls(b))return{container:b,offset:S};const A=ue.getNode(b,S);return ls(A)?{container:A,offset:S>=b.childNodes.length?A.data.length:0}:A.previousSibling&&ls(A.previousSibling)?{container:A.previousSibling,offset:A.previousSibling.data.length}:A.nextSibling&&ls(A.nextSibling)?{container:A.nextSibling,offset:0}:{container:b,offset:S}},_s=b=>{const S=b.cloneRange(),A=ar(b.startContainer,b.startOffset);S.setStart(A.container,A.offset);const te=ar(b.endContainer,b.endOffset);return S.setEnd(te.container,te.offset),S},Bn=["OL","UL","DL"],to=Bn.join(","),Jo=(b,S)=>{const A=S||b.selection.getStart(!0);return b.dom.getParent(A,to,xr(b,A))},es=(b,S)=>b&&S.length===1&&S[0]===b,Ds=b=>L(b.querySelectorAll(to),Mo),Os=b=>{const S=Jo(b),A=b.selection.getSelectedBlocks();return es(S,A)?Ds(S):L(A,te=>Mo(te)&&S!==te)},Zr=(b,S)=>{const A=Lo.map(S,te=>{const be=b.dom.getParent(te,"li,dd,dt",xr(b,te));return be||te});return kn(A)},Hs=b=>{const S=b.selection.getSelectedBlocks();return L(Zr(b,S),G)},Sr=b=>L(Hs(b),de),cr=(b,S)=>{const A=b.dom.getParents(S,"TD,TH");return A.length>0?A[0]:b.getBody()},Da=(b,S)=>!Mo(S)&&!G(S)&&ft(Bn,A=>b.isValidChild(S.nodeName,A)),xr=(b,S)=>{const A=b.dom.getParents(S,b.dom.isBlock);return ye(A,be=>Da(b.schema,be)).getOr(b.getBody())},Lr=(b,S)=>{const A=b.dom.getParents(S,"ol,ul",xr(b,S));return et(A)},Qr=b=>{const S=Lr(b,b.selection.getStart()),A=L(b.selection.getSelectedBlocks(),Zs);return S.toArray().concat(A)},Mr=b=>{const S=Qr(b);return Qs(b,S)},Qs=(b,S)=>{const A=Le(S,te=>Lr(b,te).getOr(te));return kn(A)},Oa=(b,S)=>{const te=(S||document).createDocumentFragment();return Ve(b,be=>{te.appendChild(be.dom)}),J.fromDom(te)},ir=(b,S,A)=>b.dispatch("ListMutation",{action:S,element:A}),Jr=(b=>S=>S.replace(b,""))(/^\s+|\s+$/g),us=b=>b.length>0,R=b=>!us(b),Q=b=>b.style!==void 0&&_t(b.style.getPropertyValue),fe=(b,S,A)=>{if(!Ae(A))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",A,":: Element ",b),new Error("CSS value must be a string: "+A);Q(b)&&b.style.setProperty(S,A)},qe=(b,S,A)=>{const te=b.dom;fe(te,S,A)},bt=(b,S)=>{Ut(b.item,S.list)},Nn=b=>{for(let S=1;S<b.length;S++)bt(b[S-1],b[S])},bo=(b,S)=>{en(et(b),yt(S),bt)},Go=(b,S)=>{const A={list:J.fromTag(S,b),item:J.fromTag("li",b)};return Ut(A.list,A.item),A},po=(b,S,A)=>{const te=[];for(let be=0;be<A;be++)te.push(Go(b,S.listType));return te},hs=(b,S)=>{for(let A=0;A<b.length-1;A++)qe(b[A].item,"list-style-type","none");et(b).each(A=>{cs(A.list,S.listAttributes),cs(A.item,S.itemAttributes),Pn(A.item,S.content)})},vs=(b,S)=>{Ue(b.list)!==S.listType&&(b.list=Vo(b.list,S.listType)),cs(b.list,S.listAttributes)},Tr=(b,S,A)=>{const te=J.fromTag("li",b);return cs(te,S),Pn(te,A),te},Do=(b,S)=>{Ut(b.list,S),b.item=S},Pa=(b,S,A)=>{const te=S.slice(0,A.depth);return et(te).each(be=>{const $t=Tr(b,A.itemAttributes,A.content);Do(be,$t),vs(be,A)}),te},ba=(b,S,A)=>{const te=po(b,A,A.depth-S.length);return Nn(te),hs(te,A),bo(S,te),S.concat(te)},lr=(b,S)=>{const A=Je(S,(te,be)=>be.depth>te.length?ba(b,te,be):Pa(b,te,be),[]);return yt(A).map(te=>te.list)},ys=b=>W(b,"OL,UL"),br=b=>Xt(b).exists(ys),zr=b=>ro(b).exists(ys),Gn=b=>b.depth>0,Ps=b=>b.isSelected,Ba=b=>{const S=Yn(b),A=zr(b)?S.slice(0,-1):S;return Le(A,Vn)},ea=(b,S,A)=>Eo(b).filter(pn).map(te=>({depth:S,dirty:!1,isSelected:A,content:Ba(b),itemAttributes:wo(b),listAttributes:wo(te),listType:Ue(te)})),x=(b,S)=>{switch(b){case"Indent":S.depth++;break;case"Outdent":S.depth--;break;case"Flatten":S.depth=0}S.dirty=!0},B=(b,S)=>{b.listType=S.listType,b.listAttributes={...S.listAttributes}},K=b=>{b.listAttributes=Ns(b.listAttributes,(S,A)=>A!=="start")},Re=(b,S)=>{const A=b[S].depth,te=$t=>$t.depth===A&&!$t.dirty,be=$t=>$t.depth<A;return jt(Z(b.slice(0,S)),te,be).orThunk(()=>jt(b.slice(S+1),te,be))},Gt=b=>(Ve(b,(S,A)=>{Re(b,A).fold(()=>{S.dirty&&K(S)},te=>B(S,te))}),b),Un=b=>{let S=b;return{get:()=>S,set:be=>{S=be}}},Zn=(b,S,A,te)=>Xt(te).filter(ys).fold(()=>{S.each(yn=>{ce(yn.start,te)&&A.set(!0)});const be=ea(te,b,A.get());S.each(yn=>{ce(yn.end,te)&&A.set(!1)});const $t=ro(te).filter(ys).map(yn=>nt(b,S,A,yn)).getOr([]);return be.toArray().concat($t)},be=>nt(b,S,A,be)),nt=(b,S,A,te)=>qt(Yn(te),be=>{const $t=ys(be)?nt:Zn,yn=b+1;return $t(yn,S,A,be)}),Zo=(b,S)=>{const A=Un(!1),te=0;return Le(b,be=>({sourceList:be,entries:nt(te,S,A,be)}))},Ar=(b,S)=>{const A=Gt(S);return Le(A,te=>{const be=Oa(te.content);return J.fromDom(vt(b,be.dom))})},zo=(b,S)=>{const A=Gt(S);return lr(b.contentDocument,A).toArray()},Nr=(b,S)=>qt(Wt(S,Gn),A=>yt(A).exists(Gn)?zo(b,A):Ar(b,A)),bs=(b,S)=>{Ve(L(b,Ps),A=>x(S,A))},$=b=>{const S=Le(Hs(b),J.fromDom);return en(ye(S,rt(br)),ye(Z(S),rt(br)),(A,te)=>({start:A,end:te}))},V=(b,S,A)=>{const te=Zo(S,$(b));Ve(te,be=>{bs(be.entries,A);const $t=Nr(b,be.entries);Ve($t,yn=>{ir(b,A==="Indent"?"IndentList":"OutdentList",yn.dom)}),Tn(be.sourceList,$t),$o(be.sourceList)})},Te=(b,S)=>{const A=Le(Mr(b),J.fromDom),te=Le(Sr(b),J.fromDom);let be=!1;if(A.length||te.length){const $t=b.selection.getBookmark();V(b,A,S),Dn(b,S,te),b.selection.moveToBookmark($t),b.selection.setRng(_s(b.selection.getRng())),b.nodeChanged(),be=!0}return be},He=b=>Te(b,"Indent"),Zt=b=>Te(b,"Outdent"),tn=b=>Te(b,"Flatten");var vo=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Uo=lo.DOM,Js=b=>{const S={},A=te=>{let be=b[te?"startContainer":"endContainer"],$t=b[te?"startOffset":"endOffset"];if(be.nodeType===1){const yn=Uo.create("span",{"data-mce-type":"bookmark"});be.hasChildNodes()?($t=Math.min($t,be.childNodes.length-1),te?be.insertBefore(yn,be.childNodes[$t]):Uo.insertAfter(yn,be.childNodes[$t])):be.appendChild(yn),be=yn,$t=0}S[te?"startContainer":"endContainer"]=be,S[te?"startOffset":"endOffset"]=$t};return A(!0),b.collapsed||A(),S},qn=b=>{const S=te=>{let be;const $t=Hn=>{let Mn=Hn.parentNode.firstChild,ns=0;for(;Mn;){if(Mn===Hn)return ns;(Mn.nodeType!==1||Mn.getAttribute("data-mce-type")!=="bookmark")&&ns++,Mn=Mn.nextSibling}return-1};let yn=be=b[te?"startContainer":"endContainer"],On=b[te?"startOffset":"endOffset"];!yn||(yn.nodeType===1&&(On=$t(yn),yn=yn.parentNode,Uo.remove(be),!yn.hasChildNodes()&&Uo.isBlock(yn)&&yn.appendChild(Uo.create("br"))),b[te?"startContainer":"endContainer"]=yn,b[te?"startOffset":"endOffset"]=On)};S(!0),S();const A=Uo.createRng();return A.setStart(b.startContainer,b.startOffset),b.endContainer&&A.setEnd(b.endContainer,b.endOffset),_s(A)},ko=b=>{switch(b){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},er=b=>/\btox\-/.test(b.className),tr=(b,S,A)=>{const te=$t=>{const yn=jt($t.parents,Mo,dt).filter(On=>On.nodeName===S&&!er(On)).isSome();A(yn)},be=b.dom.getParents(b.selection.getNode());return te({parents:be}),b.on("NodeChange",te),()=>b.off("NodeChange",te)},Xa=(b,S,A)=>{const te=A["list-style-type"]?A["list-style-type"]:null;b.setStyle(S,"list-style-type",te)},ur=(b,S)=>{Lo.each(S,(A,te)=>{b.setAttribute(te,A)})},ao=(b,S,A)=>{ur(S,A["list-attributes"]),Lo.each(b.select("li",S),te=>{ur(te,A["list-item-attributes"])})},ts=(b,S,A)=>{Xa(b,S,A),ao(b,S,A)},Bs=(b,S,A)=>{Lo.each(A,te=>b.setStyle(S,te,""))},ta=(b,S,A,te)=>{let be=S[A?"startContainer":"endContainer"];const $t=S[A?"startOffset":"endOffset"];for(be.nodeType===1&&(be=be.childNodes[Math.min($t,be.childNodes.length-1)]||be),!A&&rn(be.nextSibling)&&(be=be.nextSibling);be.parentNode!==te;){if(An(b,be)||/^(TD|TH)$/.test(be.parentNode.nodeName))return be;be=be.parentNode}return be},$a=(b,S,A)=>{const te=[],be=b.dom,$t=ta(b,S,!0,A),yn=ta(b,S,!1,A);let On;const Hn=[];for(let Mn=$t;Mn&&(Hn.push(Mn),Mn!==yn);Mn=Mn.nextSibling);return Lo.each(Hn,Mn=>{if(An(b,Mn)){te.push(Mn),On=null;return}if(be.isBlock(Mn)||rn(Mn)){rn(Mn)&&be.remove(Mn),On=null;return}const ns=Mn.nextSibling;if(vo.isBookmarkNode(Mn)&&(Mo(ns)||An(b,ns)||!ns&&Mn.parentNode===A)){On=null;return}On||(On=be.create("p"),Mn.parentNode.insertBefore(On,Mn),te.push(On)),On.appendChild(Mn)}),te},is=(b,S,A)=>{const te=b.getStyle(S,"list-style-type");let be=A?A["list-style-type"]:"";return be=be===null?"":be,te===be},ka=(b,S,A)=>{const te=b.selection.getRng();let be="LI";const $t=xr(b,b.selection.getStart(!0)),yn=b.dom;if(yn.getContentEditable(b.selection.getNode())==="false")return;S=S.toUpperCase(),S==="DL"&&(be="DT");const On=Js(te),Hn=$a(b,te,$t);Lo.each(Hn,Mn=>{let ns;const jr=Mn.previousSibling,qs=Mn.parentNode;G(qs)||(jr&&Mo(jr)&&jr.nodeName===S&&is(yn,jr,A)?(ns=jr,Mn=yn.rename(Mn,be),jr.appendChild(Mn)):(ns=yn.create(S),Mn.parentNode.insertBefore(ns,Mn),ns.appendChild(Mn),Mn=yn.rename(Mn,be)),Bs(yn,Mn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ts(yn,ns,A),sa(b.dom,ns))}),b.selection.setRng(qn(On))},na=(b,S)=>b&&S&&Mo(b)&&b.nodeName===S.nodeName,cc=(b,S,A)=>{const te=b.getStyle(S,"list-style-type",!0),be=b.getStyle(A,"list-style-type",!0);return te===be},Qi=(b,S)=>b.className===S.className,oa=(b,S,A)=>na(S,A)&&cc(b,S,A)&&Qi(S,A),sa=(b,S)=>{let A,te;if(A=S.nextSibling,oa(b,S,A)){for(;te=A.firstChild;)S.appendChild(te);b.remove(A)}if(A=S.previousSibling,oa(b,S,A)){for(;te=A.lastChild;)S.insertBefore(te,S.firstChild);b.remove(A)}},Za=(b,S,A,te)=>{if(S.nodeName!==A){const be=b.dom.rename(S,A);ts(b.dom,be,te),ir(b,ko(A),be)}else ts(b.dom,S,te),ir(b,ko(A),S)},ic=(b,S,A,te,be)=>{const $t=Mo(S);if($t&&S.nodeName===te&&!Ws(be))tn(b);else{ka(b,te,be);const yn=Js(b.selection.getRng()),On=$t?[S,...A]:A;Lo.each(On,Hn=>{Za(b,Hn,te,be)}),b.selection.setRng(qn(yn))}},Ws=b=>"list-style-type"in b,Ji=(b,S,A,te)=>{if(S!==b.getBody())if(S)if(S.nodeName===A&&!Ws(te)&&!er(S))tn(b);else{const be=Js(b.selection.getRng());ts(b.dom,S,te);const $t=b.dom.rename(S,A);sa(b.dom,$t),b.selection.setRng(qn(be)),ka(b,A,te),ir(b,ko(A),$t)}else ka(b,A,te),ir(b,ko(A),S)},wa=(b,S,A)=>{const te=Jo(b),be=Os(b),$t=We(A)?A:{};be.length>0?ic(b,te,be,S,$t):Ji(b,te,S,$t)},Ec=lo.DOM,Tc=(b,S)=>{const A=S.parentNode;if(A.nodeName==="LI"&&A.firstChild===S){const te=A.previousSibling;te&&te.nodeName==="LI"?(te.appendChild(S),jn(b,A)&&Ec.remove(A)):Ec.setStyle(A,"listStyleType","none")}if(Mo(A)){const te=A.previousSibling;te&&te.nodeName==="LI"&&te.appendChild(S)}},gi=(b,S)=>{const A=Lo.grep(b.select("ol,ul",S));Lo.each(A,te=>{Tc(b,te)})},zc=(b,S,A,te)=>{let be=S.startContainer;const $t=S.startOffset;if(ls(be)&&(A?$t<be.data.length:$t>0))return be;const yn=b.schema.getNonEmptyElements();be.nodeType===1&&(be=ue.getNode(be,$t));const On=new ze(be,te);A&&ln(b.dom,be)&&On.next();const Hn=A?On.next.bind(On):On.prev2.bind(On);for(;be=Hn();)if(be.nodeName==="LI"&&!be.hasChildNodes()||yn[be.nodeName]||ls(be)&&be.data.length>0)return be},ra=(b,S)=>{const A=S.childNodes;return A.length===1&&!Mo(A[0])&&b.isBlock(A[0])},cf=(b,S)=>{ra(b,S)&&b.remove(S.firstChild,!0)},Ac=(b,S,A)=>{let te;const be=ra(b,A)?A.firstChild:A;if(cf(b,S),!jn(b,S,!0))for(;te=S.firstChild;)be.appendChild(te)},el=(b,S,A)=>{let te;const be=S.parentNode;if(!jo(b,S)||!jo(b,A))return;Mo(A.lastChild)&&(te=A.lastChild),be===A.lastChild&&rn(be.previousSibling)&&b.remove(be.previousSibling);const $t=A.lastChild;$t&&rn($t)&&S.hasChildNodes()&&b.remove($t),jn(b,A,!0)&&ho(J.fromDom(A)),Ac(b,S,A),te&&A.appendChild(te);const On=Ce(J.fromDom(A),J.fromDom(S))?b.getParents(S,Mo,A):[];b.remove(S),Ve(On,Hn=>{jn(b,Hn)&&Hn!==b.getRoot()&&b.remove(Hn)})},fr=(b,S,A)=>{ho(J.fromDom(A)),el(b.dom,S,A),b.selection.setCursorLocation(A,0)},tl=(b,S,A,te)=>{const be=b.dom;if(be.isEmpty(te))fr(b,A,te);else{const $t=Js(S);el(be,A,te),b.selection.setRng(qn($t))}},ne=(b,S,A,te)=>{const be=Js(S);el(b.dom,A,te);const $t=qn(be);b.selection.setRng($t)},lc=(b,S)=>{const A=b.dom,te=b.selection,be=te.getStart(),$t=cr(b,be),yn=A.getParent(te.getStart(),"LI",$t);if(yn){const On=yn.parentNode;if(On===b.getBody()&&jn(A,On))return!0;const Hn=_s(te.getRng()),Mn=A.getParent(zc(b,Hn,S,$t),"LI",$t);if(Mn&&Mn!==yn)return b.undoManager.transact(()=>{S?tl(b,Hn,Mn,yn):Et(yn)?Zt(b):ne(b,Hn,yn,Mn)}),!0;if(!Mn&&!S&&Hn.startOffset===0&&Hn.endOffset===0)return b.undoManager.transact(()=>{tn(b)}),!0}return!1},aa=(b,S,A)=>{const te=b.getParent(S.parentNode,b.isBlock,A);b.remove(S),te&&b.isEmpty(te)&&b.remove(te)},nl=(b,S)=>{const A=b.dom,te=b.selection.getStart(),be=cr(b,te),$t=A.getParent(te,A.isBlock,be);if($t&&A.isEmpty($t)){const yn=_s(b.selection.getRng()),On=A.getParent(zc(b,yn,S,be),"LI",be);if(On){const Hn=qs=>it(["td","th","caption"],Ue(qs)),Mn=qs=>qs.dom===be,ns=Fe(J.fromDom(On),Hn,Mn),jr=Fe(J.fromDom(yn.startContainer),Hn,Mn);return an(ns,jr,ce)?(b.undoManager.transact(()=>{aa(A,$t,be),sa(A,On.parentNode),b.selection.select(On,!0),b.selection.collapse(S)}),!0):!1}}return!1},lf=(b,S)=>lc(b,S)||nl(b,S),Gl=b=>{const S=b.selection.getStart(),A=cr(b,S);return b.dom.getParent(S,"LI,DT,DD",A)||Hs(b).length>0},_o=b=>Gl(b)?(b.undoManager.transact(()=>{b.execCommand("Delete"),gi(b.dom,b.getBody())}),!0):!1,Cs=(b,S)=>b.selection.isCollapsed()?lf(b,S):_o(b),hi=b=>{b.on("ExecCommand",S=>{const A=S.command.toLowerCase();(A==="delete"||A==="forwarddelete")&&Gl(b)&&gi(b.dom,b.getBody())}),b.on("keydown",S=>{S.keyCode===At.BACKSPACE?Cs(b,!1)&&S.preventDefault():S.keyCode===At.DELETE&&Cs(b,!0)&&S.preventDefault()})},_a=b=>({backspaceDelete:S=>{Cs(b,S)}}),Kl=(b,S)=>{const A=Jo(b);b.undoManager.transact(()=>{We(S.styles)&&b.dom.setStyles(A,S.styles),We(S.attrs)&&hn(S.attrs,(te,be)=>b.dom.setAttrib(A,be,te))})},Fa=b=>{const S=Z(Jr(b).split("")),A=Le(S,(te,be)=>{const $t=te.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,be)*$t});return Je(A,(te,be)=>te+be,0)},nr=b=>{if(b--,b<0)return"";{const S=b%26,A=Math.floor(b/26),te=nr(A),be=String.fromCharCode("A".charCodeAt(0)+S);return te+be}},ol=b=>/^[A-Z]+$/.test(b),Yl=b=>/^[a-z]+$/.test(b),sl=b=>/^[0-9]+$/.test(b),Ia=b=>sl(b)?2:ol(b)?0:Yl(b)?1:R(b)?3:4,yi=b=>{switch(Ia(b)){case 2:return ke.some({listStyleType:ke.none(),start:b});case 0:return ke.some({listStyleType:ke.some("upper-alpha"),start:Fa(b).toString()});case 1:return ke.some({listStyleType:ke.some("lower-alpha"),start:Fa(b).toString()});case 3:return ke.some({listStyleType:ke.none(),start:""});case 4:return ke.none()}},bi=b=>{const S=parseInt(b.start,10);return Rn(b.listStyleType,"upper-alpha")?nr(S):Rn(b.listStyleType,"lower-alpha")?nr(S).toLowerCase():b.start},rl=b=>{const S=Jo(b);!O(S)||b.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:bi({start:b.dom.getAttrib(S,"start","1"),listStyleType:ke.some(b.dom.getStyle(S,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:A=>{const te=A.getData();yi(te.start).each(be=>{b.execCommand("mceListUpdate",!1,{attrs:{start:be.start==="1"?"":be.start},styles:{"list-style-type":be.listStyleType.getOr("")}})}),A.close()}})},ms=(b,S)=>()=>{const A=Jo(b);return A&&A.nodeName===S},uc=b=>{b.addCommand("mceListProps",()=>{rl(b)})},al=b=>{b.on("BeforeExecCommand",S=>{const A=S.command.toLowerCase();A==="indent"?He(b):A==="outdent"&&Zt(b)}),b.addCommand("InsertUnorderedList",(S,A)=>{wa(b,"UL",A)}),b.addCommand("InsertOrderedList",(S,A)=>{wa(b,"OL",A)}),b.addCommand("InsertDefinitionList",(S,A)=>{wa(b,"DL",A)}),b.addCommand("RemoveList",()=>{tn(b)}),uc(b),b.addCommand("mceListUpdate",(S,A)=>{We(A)&&Kl(b,A)}),b.addQueryStateHandler("InsertUnorderedList",ms(b,"UL")),b.addQueryStateHandler("InsertOrderedList",ms(b,"OL")),b.addQueryStateHandler("InsertDefinitionList",ms(b,"DL"))},ki=b=>{b.on("keydown",S=>{S.keyCode!==At.TAB||At.metaKeyPressed(S)||b.undoManager.transact(()=>{(S.shiftKey?Zt(b):He(b))&&S.preventDefault()})})},cl=b=>{ee(b)&&ki(b),hi(b)},Xl=b=>{const S=A=>()=>b.execCommand(A);b.hasPlugin("advlist")||(b.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:S("InsertOrderedList"),onSetup:A=>tr(b,"OL",A.setActive)}),b.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:S("InsertUnorderedList"),onSetup:A=>tr(b,"UL",A.setActive)}))},il=b=>{const S={text:"List properties...",icon:"ordered-list",onAction:()=>b.execCommand("mceListProps"),onSetup:A=>tr(b,"OL",A.setEnabled)};b.ui.registry.addMenuItem("listprops",S),b.ui.registry.addContextMenu("lists",{update:A=>{const te=Jo(b,A);return O(te)?["listprops"]:[]}})};var ll=()=>{g.add("lists",b=>(q(b),b.hasPlugin("rtc",!0)===!1?(cl(b),al(b)):uc(b),Xl(b),il(b),_a(b)))};ll()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(ce=>Ce=>ce===Ce)(null),X=ce=>ce,_e="\uFEFF",Ae=ce=>ce.replace(/\uFEFF/g,""),We=(ce,Ce)=>{const W=ce.length,M=new Array(W);for(let Ue=0;Ue<W;Ue++){const kt=ce[Ue];M[Ue]=Ce(kt,Ue)}return M},Ee={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]"},Ie={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},pt=[new RegExp(Ee.aletter),new RegExp(Ee.midnumlet),new RegExp(Ee.midletter),new RegExp(Ee.midnum),new RegExp(Ee.numeric),new RegExp(Ee.cr),new RegExp(Ee.lf),new RegExp(Ee.newline),new RegExp(Ee.extend),new RegExp(Ee.format),new RegExp(Ee.katakana),new RegExp(Ee.extendnumlet),new RegExp("@")],_t="",$e=new RegExp("^"+Ee.punctuation+"$"),Ne=/^\s+$/,tt=pt,xe=Ie.OTHER,rt=ce=>{let Ce=xe;const W=tt.length;for(let M=0;M<W;++M){const Ue=tt[M];if(Ue&&Ue.test(ce)){Ce=M;break}}return Ce},ae=ce=>{const Ce={};return W=>{if(Ce[W])return Ce[W];{const M=ce(W);return Ce[W]=M,M}}},ke=ce=>{const Ce=ae(rt);return We(ce,Ce)},ge=(ce,Ce)=>{const W=ce[Ce],M=ce[Ce+1];if(Ce<0||Ce>ce.length-1&&Ce!==0||W===Ie.ALETTER&&M===Ie.ALETTER)return!1;const Ue=ce[Ce+2];if(W===Ie.ALETTER&&(M===Ie.MIDLETTER||M===Ie.MIDNUMLET||M===Ie.AT)&&Ue===Ie.ALETTER)return!1;const kt=ce[Ce-1];return(W===Ie.MIDLETTER||W===Ie.MIDNUMLET||M===Ie.AT)&&M===Ie.ALETTER&&kt===Ie.ALETTER||(W===Ie.NUMERIC||W===Ie.ALETTER)&&(M===Ie.NUMERIC||M===Ie.ALETTER)||(W===Ie.MIDNUM||W===Ie.MIDNUMLET)&&M===Ie.NUMERIC&&kt===Ie.NUMERIC||W===Ie.NUMERIC&&(M===Ie.MIDNUM||M===Ie.MIDNUMLET)&&Ue===Ie.NUMERIC||W===Ie.EXTEND||W===Ie.FORMAT||kt===Ie.EXTEND||kt===Ie.FORMAT||M===Ie.EXTEND||M===Ie.FORMAT||W===Ie.CR&&M===Ie.LF?!1:W===Ie.NEWLINE||W===Ie.CR||W===Ie.LF||M===Ie.NEWLINE||M===Ie.CR||M===Ie.LF?!0:!(W===Ie.KATAKANA&&M===Ie.KATAKANA||M===Ie.EXTENDNUMLET&&(W===Ie.ALETTER||W===Ie.NUMERIC||W===Ie.KATAKANA||W===Ie.EXTENDNUMLET)||W===Ie.EXTENDNUMLET&&(M===Ie.ALETTER||M===Ie.NUMERIC||M===Ie.KATAKANA)||W===Ie.AT)},zt=_t,ot=Ne,le=$e,it=ce=>ce==="http"||ce==="https",ft=(ce,Ce)=>{let W;for(W=Ce;W<ce.length&&!ot.test(ce[W]);W++);return W},Le=(ce,Ce)=>{const W=ft(ce,Ce+1);return ce.slice(Ce+1,W).join(zt).substr(0,3)==="://"?W:Ce},Ve=(ce,Ce,W,M)=>{const Ue=[];let kt=[];for(let Qe=0;Qe<W.length;++Qe)if(kt.push(ce[Qe]),ge(W,Qe)){const pn=Ce[Qe];if((M.includeWhitespace||!ot.test(pn))&&(M.includePunctuation||!le.test(pn))){const En=Qe-kt.length+1,Eo=Qe+1,oo=Ce.slice(En,Eo).join(zt);if(it(oo)){const Yn=Le(Ce,Qe),eo=ce.slice(Eo,Yn);Array.prototype.push.apply(kt,eo),Qe=Yn}Ue.push(kt)}kt=[]}return Ue},L=()=>({includeWhitespace:!1,includePunctuation:!1}),Je=(ce,Ce,W)=>{W={...L(),...W};const M=[],Ue=[];for(let Qe=0;Qe<ce.length;Qe++){const pn=Ce(ce[Qe]);pn!==_e&&(M.push(ce[Qe]),Ue.push(pn))}const kt=ke(Ue);return Ve(M,Ue,kt,W)};var jt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ye=(ce,Ce)=>{const W=Ce.getBlockElements(),M=Ce.getVoidElements(),Ue=En=>W[En.nodeName]||M[En.nodeName],kt=[];let Qe="";const pn=new jt(ce,ce);for(;ce=pn.next();)ce.nodeType===3?Qe+=Ae(ce.data):Ue(ce)&&Qe.length&&(kt.push(Qe),Qe="");return Qe.length&&kt.push(Qe),kt},Ze=ce=>ce.replace(/\u200B/g,""),qt=ce=>ce.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Z=(ce,Ce)=>{const W=Ze(ye(ce,Ce).join(`
`));return Je(W.split(""),X).length},Pe=(ce,Ce)=>{const W=ye(ce,Ce).join("");return qt(W)},yt=(ce,Ce)=>{const W=ye(ce,Ce).join("").replace(/\s/g,"");return qt(W)},et=(ce,Ce)=>()=>Ce(ce.getBody(),ce.schema),kn=(ce,Ce)=>()=>Ce(ce.selection.getRng().cloneContents(),ce.schema),Rn=ce=>et(ce,Z),an=ce=>({body:{getWordCount:Rn(ce),getCharacterCount:et(ce,Pe),getCharacterCountWithoutSpaces:et(ce,yt)},selection:{getWordCount:kn(ce,Z),getCharacterCount:kn(ce,Pe),getCharacterCountWithoutSpaces:kn(ce,yt)},getCount:Rn(ce)}),en=(ce,Ce)=>{ce.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ce.body.getWordCount()),String(Ce.selection.getWordCount())],["Characters (no spaces)",String(Ce.body.getCharacterCountWithoutSpaces()),String(Ce.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ce.body.getCharacterCount()),String(Ce.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},cn=(ce,Ce)=>{ce.addCommand("mceWordCount",()=>en(ce,Ce))},wn=(ce,Ce)=>{let W=null;return{cancel:()=>{D(W)||(clearTimeout(W),W=null)},throttle:(...kt)=>{D(W)&&(W=setTimeout(()=>{W=null,ce.apply(null,kt)},Ce))}}};var w=tinymce.util.Tools.resolve("tinymce.util.Delay");const ie=(ce,Ce)=>{ce.dispatch("wordCountUpdate",{wordCount:{words:Ce.body.getWordCount(),characters:Ce.body.getCharacterCount(),charactersWithoutSpaces:Ce.body.getCharacterCountWithoutSpaces()}})},re=(ce,Ce)=>{ie(ce,Ce)},we=(ce,Ce,W)=>{const M=wn(()=>re(ce,Ce),W);ce.on("init",()=>{re(ce,Ce),w.setEditorTimeout(ce,()=>{ce.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",M.throttle)},0),ce.on("remove",M.cancel)})},J=ce=>{const Ce=()=>ce.execCommand("mceWordCount");ce.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ce}),ce.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ce})};var me=(ce=300)=>{g.add("wordcount",Ce=>{const W=an(Ce);return cn(Ce,W),J(Ce),we(Ce,W,ce),W})};me()}(),function(){const g=w=>{let ie=w;return{get:()=>ie,set:J=>{ie=J}}};var _=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=w=>({addTab:re=>{const we=w.get();we[re.name]=re,w.set(we)}}),X=(w,ie)=>{w.addCommand("mceHelp",ie)},_e=w=>ie=>ie.options.get(w),Ae=w=>{const ie=w.options.register;ie("help_tabs",{processor:"array"})},We=_e("help_tabs"),Ke=_e("forced_plugins"),Ee=(w,ie)=>{w.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:ie}),w.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:ie})},pt=(w=>ie=>w===ie)(void 0),_t=w=>w==null,$e=w=>!_t(w),tt=(w=>()=>w)(!1);class xe{constructor(ie,re){this.tag=ie,this.value=re}static some(ie){return new xe(!0,ie)}static none(){return xe.singletonNone}fold(ie,re){return this.tag?re(this.value):ie()}isSome(){return this.tag}isNone(){return!this.tag}map(ie){return this.tag?xe.some(ie(this.value)):xe.none()}bind(ie){return this.tag?ie(this.value):xe.none()}exists(ie){return this.tag&&ie(this.value)}forall(ie){return!this.tag||ie(this.value)}filter(ie){return!this.tag||ie(this.value)?this:xe.none()}getOr(ie){return this.tag?this.value:ie}or(ie){return this.tag?this:ie}getOrThunk(ie){return this.tag?this.value:ie()}orThunk(ie){return this.tag?this:ie()}getOrDie(ie){if(this.tag)return this.value;throw new Error(ie!=null?ie:"Called getOrDie on None")}static from(ie){return $e(ie)?xe.some(ie):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ie){this.tag&&ie(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const rt=Array.prototype.indexOf,ae=(w,ie)=>rt.call(w,ie),ke=(w,ie)=>ae(w,ie)>-1,ge=(w,ie)=>{const re=w.length,we=new Array(re);for(let J=0;J<re;J++){const me=w[J];we[J]=ie(me,J)}return we},zt=(w,ie)=>{const re=[];for(let we=0,J=w.length;we<J;we++){const me=w[we];ie(me,we)&&re.push(me)}return re},ot=(w,ie,re)=>{for(let we=0,J=w.length;we<J;we++){const me=w[we];if(ie(me,we))return xe.some(me);if(re(me,we))break}return xe.none()},le=(w,ie)=>ot(w,ie,tt),it=Object.keys,ft=Object.hasOwnProperty,Le=(w,ie)=>Ve(w,ie)?xe.from(w[ie]):xe.none(),Ve=(w,ie)=>ft.call(w,ie),L=w=>{const ie=[],re=we=>{ie.push(we)};for(let we=0;we<w.length;we++)w[we].each(re);return ie},Wt=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab\u2019s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,Je=()=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:Wt}]});var jt=tinymce.util.Tools.resolve("tinymce.Env");const ye=w=>{const ie=jt.os.isMacOS()||jt.os.isiOS(),J=ie?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},me=w.split("+"),ce=ge(me,Ce=>{const W=Ce.toLowerCase().trim();return Ve(J,W)?J[W]:Ce});return ie?ce.join("").replace(/\s/,""):ce.join("+")},Ze=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],qt=()=>{const w=ge(Ze,re=>{const we=ge(re.shortcuts,ye).join(" or ");return[re.action,we]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:w}]}};var Z=tinymce.util.Tools.resolve("tinymce.util.I18n");const Pe=ge([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"autocorrect",name:"Autocorrect",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"},{key:"tableofcontents",name:"Table of Contents",type:"premium"}],w=>({...w,type:w.type||"opensource",slug:w.slug||w.key})),yt=w=>{const ie=()=>{const W=zt(Pe,({key:Ue,type:kt})=>Ue!=="autocorrect"&&kt==="premium"),M=ge(W,Ue=>"<li>"+Z.translate(Ue.name)+"</li>").join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+Z.translate("Premium plugins:")+"</b></p><ul>"+M+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">'+Z.translate("Learn more...")+"</a></li></ul></div>"},re=W=>`<a href="${W.url}" target="_blank" rel="noopener">${W.name}</a>`,we=(W,M)=>le(Pe,Ue=>Ue.key===M).fold(()=>{const Ue=W.plugins[M].getMetadata;return typeof Ue=="function"?re(Ue()):M},Ue=>{const kt=Ue.type==="premium"?`${Ue.name}*`:Ue.name;return re({name:kt,url:`https://www.tiny.cloud/docs/tinymce/6/${Ue.slug}/`})}),J=W=>{const M=it(W.plugins),Ue=Ke(W);return pt(Ue)?M:zt(M,kt=>!ke(Ue,kt))},me=W=>{const M=J(W),Ue=ge(M,En=>"<li>"+we(W,En)+"</li>"),kt=Ue.length,Qe=Ue.join("");return"<p><b>"+Z.translate(["Plugins installed ({0}):",kt])+"</b></p><ul>"+Qe+"</ul>"},Ce={type:"htmlpanel",presets:"document",html:[(W=>W==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+me(W)+"</div>")(w),ie()].join("")};return{name:"plugins",title:"Plugins",items:[Ce]}};var et=tinymce.util.Tools.resolve("tinymce.EditorManager");const kn=()=>{const ie=((J,me)=>J.indexOf("@")===0?"X.X.X":J+"."+me)(et.majorVersion,et.minorVersion),re='<a href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+ie+"</a>",we={type:"htmlpanel",html:"<p>"+Z.translate(["You are using {0}",re])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[we]}},Rn=(w,ie)=>{const re={},we=ge(w,J=>typeof J=="string"?(Ve(ie,J)&&(re[J]=ie[J]),J):(re[J.name]=J,J.name));return{tabs:re,names:we}},an=w=>{const ie=it(w),re=ie.indexOf("versions");return re!==-1&&(ie.splice(re,1),ie.push("versions")),{tabs:w,names:ie}},en=(w,ie)=>{const re=qt(),we=Je(),J=yt(w),me=kn(),ce={[re.name]:re,[we.name]:we,[J.name]:J,[me.name]:me,...ie.get()};return xe.from(We(w)).fold(()=>an(ce),Ce=>Rn(Ce,ce))},cn=(w,ie)=>()=>{const{tabs:re,names:we}=en(w,ie),J=ge(we,Ce=>Le(re,Ce)),me=L(J),ce={type:"tabpanel",tabs:me};w.windowManager.open({title:"Help",size:"medium",body:ce,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})};var wn=()=>{_.add("help",w=>{const ie=g({}),re=D(ie);Ae(w);const we=cn(w,ie);return Ee(w,we),X(w,we),w.shortcuts.add("Alt+0","Open help dialog","mceHelp"),re})};wn()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(W=>M=>W===M)(null),X=W=>W==null,_e=W=>!X(W),Ae=()=>{},Ke=(W=>()=>W)(!1);class Ee{constructor(M,Ue){this.tag=M,this.value=Ue}static some(M){return new Ee(!0,M)}static none(){return Ee.singletonNone}fold(M,Ue){return this.tag?Ue(this.value):M()}isSome(){return this.tag}isNone(){return!this.tag}map(M){return this.tag?Ee.some(M(this.value)):Ee.none()}bind(M){return this.tag?M(this.value):Ee.none()}exists(M){return this.tag&&M(this.value)}forall(M){return!this.tag||M(this.value)}filter(M){return!this.tag||M(this.value)?this:Ee.none()}getOr(M){return this.tag?this.value:M}or(M){return this.tag?this:M}getOrThunk(M){return this.tag?this.value:M()}orThunk(M){return this.tag?this:M()}getOrDie(M){if(this.tag)return this.value;throw new Error(M!=null?M:"Called getOrDie on None")}static from(M){return _e(M)?Ee.some(M):Ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(M){this.tag&&M(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ee.singletonNone=new Ee(!1);const Ie=(W,M)=>{for(let Ue=0,kt=W.length;Ue<kt;Ue++){const Qe=W[Ue];if(M(Qe,Ue))return!0}return!1},pt=(W,M)=>{const Ue=W.length,kt=new Array(Ue);for(let Qe=0;Qe<Ue;Qe++){const pn=W[Qe];kt[Qe]=M(pn,Qe)}return kt},_t=(W,M)=>{for(let Ue=0,kt=W.length;Ue<kt;Ue++){const Qe=W[Ue];M(Qe,Ue)}},$e=W=>{let M=W;return{get:()=>M,set:Qe=>{M=Qe}}},Ne=(W,M)=>{let Ue=null;const kt=()=>{D(Ue)||(clearTimeout(Ue),Ue=null)};return{cancel:kt,throttle:(...pn)=>{kt(),Ue=setTimeout(()=>{Ue=null,W.apply(null,pn)},M)}}},tt=(W,M)=>{W.insertContent(M)},xe=Object.keys,rt=Object.hasOwnProperty,ae=(W,M)=>{const Ue=xe(W);for(let kt=0,Qe=Ue.length;kt<Qe;kt++){const pn=Ue[kt],En=W[pn];M(En,pn)}},ke=(W,M)=>ge(W,(Ue,kt)=>({k:kt,v:M(Ue,kt)})),ge=(W,M)=>{const Ue={};return ae(W,(kt,Qe)=>{const pn=M(kt,Qe);Ue[pn.k]=pn.v}),Ue},zt=(W,M)=>rt.call(W,M),it=(W=>(...M)=>{if(M.length===0)throw new Error("Can't merge zero objects");const Ue={};for(let kt=0;kt<M.length;kt++){const Qe=M[kt];for(const pn in Qe)zt(Qe,pn)&&(Ue[pn]=W(Ue[pn],Qe[pn]))}return Ue})((W,M)=>M),ft=W=>{const M=$e(Ee.none()),Ue=()=>M.get().each(W);return{clear:()=>{Ue(),M.set(Ee.none())},isSet:()=>M.get().isSome(),get:()=>M.get(),set:Eo=>{Ue(),M.set(Ee.some(Eo))}}},Le=()=>{const W=ft(Ae);return{...W,on:Ue=>W.get().each(Ue)}},Ve=(W,M,Ue)=>M===""||W.length>=M.length&&W.substr(Ue,Ue+M.length)===M,L=(W,M)=>W.indexOf(M)!==-1,Wt=(W,M)=>Ve(W,M,0);var Je=tinymce.util.Tools.resolve("tinymce.Resource");const jt="tinymce.plugins.emoticons",ye=W=>M=>M.options.get(W),Ze=(W,M)=>{const Ue=W.options.register;Ue("emoticons_database",{processor:"string",default:"emojis"}),Ue("emoticons_database_url",{processor:"string",default:`${M}/js/${qt(W)}${W.suffix}.js`}),Ue("emoticons_database_id",{processor:"string",default:jt}),Ue("emoticons_append",{processor:"object",default:{}}),Ue("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},qt=ye("emoticons_database"),Z=ye("emoticons_database_url"),Pe=ye("emoticons_database_id"),yt=ye("emoticons_append"),et=ye("emoticons_images_url"),kn="All",Rn={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},an=(W,M)=>zt(W,M)?W[M]:M,en=W=>{const M=yt(W);return ke(M,Ue=>({keywords:[],category:"user",...Ue}))},cn=(W,M,Ue)=>{const kt=Le(),Qe=Le(),pn=et(W),En=io=>Wt(io.char,"<img")?io.char.replace(/src="([^"]+)"/,(Fe,st)=>`src="${pn}${st}"`):io.char,Eo=io=>{const Fe={},st=[];ae(io,(Qt,Ut)=>{const Tn={title:Ut,keywords:Qt.keywords,char:En(Qt),category:an(Rn,Qt.category)},Pn=Fe[Tn.category]!==void 0?Fe[Tn.category]:[];Fe[Tn.category]=Pn.concat([Tn]),st.push(Tn)}),kt.set(Fe),Qe.set(st)};W.on("init",()=>{Je.load(Ue,M).then(io=>{const Fe=en(W);Eo(it(io,Fe))},io=>{console.log(`Failed to load emojis: ${io}`),kt.set({}),Qe.set([])})});const oo=io=>io===kn?Yn():kt.get().bind(Fe=>Ee.from(Fe[io])).getOr([]),Yn=()=>Qe.get().getOr([]),eo=()=>[kn].concat(xe(kt.get().getOr({}))),Xt=()=>ro()?Promise.resolve(!0):new Promise((io,Fe)=>{let st=15;const Qt=setInterval(()=>{ro()?(clearInterval(Qt),io(!0)):(st--,st<0&&(console.log("Could not load emojis from url: "+M),clearInterval(Qt),Fe(!1)))},100)}),ro=()=>kt.isSet()&&Qe.isSet();return{listCategories:eo,hasLoaded:ro,waitForLoad:Xt,listAll:Yn,listCategory:oo}},wn=(W,M)=>L(W.title.toLowerCase(),M)||Ie(W.keywords,Ue=>L(Ue.toLowerCase(),M)),w=(W,M,Ue)=>{const kt=[],Qe=M.toLowerCase(),pn=Ue.fold(()=>Ke,En=>Eo=>Eo>=En);for(let En=0;En<W.length&&!((M.length===0||wn(W[En],Qe))&&(kt.push({value:W[En].char,text:W[En].title,icon:W[En].char}),pn(kt.length)));En++);return kt},ie="pattern",re=(W,M)=>{const Ue={pattern:"",results:w(M.listAll(),"",Ee.some(300))},kt=$e(kn),Qe=eo=>{const Xt=eo.getData(),ro=kt.get(),io=M.listCategory(ro),Fe=w(io,Xt[ie],ro===kn?Ee.some(300):Ee.none());eo.setData({results:Fe})},pn=Ne(eo=>{Qe(eo)},200),En={label:"Search",type:"input",name:ie},Eo={type:"collection",name:"results"},oo=()=>{const eo={type:"tabpanel",tabs:pt(M.listCategories(),Xt=>({title:Xt,name:Xt,items:[En,Eo]}))};return{title:"Emojis",size:"normal",body:eo,initialData:Ue,onTabChange:(Xt,ro)=>{kt.set(ro.newTabName),pn.throttle(Xt)},onChange:pn.throttle,onAction:(Xt,ro)=>{ro.name==="results"&&(tt(W,ro.value),Xt.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},Yn=W.windowManager.open(oo());Yn.focus(ie),M.hasLoaded()||(Yn.block("Loading emojis..."),M.waitForLoad().then(()=>{Yn.redial(oo()),pn.throttle(Yn),Yn.focus(ie),Yn.unblock()}).catch(eo=>{Yn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Yn.focus(ie),Yn.unblock()}))},we=(W,M)=>{W.addCommand("mceEmoticons",()=>re(W,M))},J=W=>{W.on("PreInit",()=>{W.parser.addAttributeFilter("data-emoticon",M=>{_t(M,Ue=>{Ue.attr("data-mce-resize","false"),Ue.attr("data-mce-placeholder","1")})})})},me=(W,M)=>{W.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:(Ue,kt)=>M.waitForLoad().then(()=>{const Qe=M.listAll();return w(Qe,Ue,Ee.some(kt))}),onAction:(Ue,kt,Qe)=>{W.selection.setRng(kt),W.insertContent(Qe),Ue.hide()}})},ce=W=>{const M=()=>W.execCommand("mceEmoticons");W.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:M}),W.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:M})};var Ce=()=>{g.add("emoticons",(W,M)=>{Ze(W,M);const Ue=Z(W),kt=Pe(W),Qe=cn(W,Ue,kt);we(W,Qe),ce(W),me(W,Qe),J(W)})};Ce()}(),window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"\u{1F600}",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"\u{1F62C}",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"\u{1F601}",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"\u{1F602}",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"\u{1F923}",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"\u{1F973}",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"\u{1F603}",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"\u{1F604}",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"\u{1F605}",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"\u{1F606}",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"\u{1F607}",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"\u{1F609}",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"\u{1F60A}",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"\u{1F642}",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"\u{1F643}",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"\u263A\uFE0F",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"\u{1F60B}",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"\u{1F60C}",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"\u{1F60D}",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"\u{1F970}",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F618}",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"\u{1F617}",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"\u{1F619}",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F61A}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"\u{1F61C}",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"\u{1F92A}",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"\u{1F928}",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"\u{1F9D0}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"\u{1F61D}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"\u{1F61B}",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"\u{1F911}",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"\u{1F913}",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"\u{1F60E}",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"\u{1F929}",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"\u{1F921}",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"\u{1F920}",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"\u{1F917}",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"\u{1F60F}",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"\u{1F636}",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"\u{1F610}",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"\u{1F611}",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"\u{1F612}",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"\u{1F644}",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"\u{1F914}",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"\u{1F925}",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"\u{1F92D}",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"\u{1F92B}",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"\u{1F92C}",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"\u{1F92F}",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"\u{1F633}",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"\u{1F61E}",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"\u{1F61F}",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"\u{1F620}",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"\u{1F621}",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"\u{1F614}",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"\u{1F615}",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"\u{1F641}",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"\u2639",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"\u{1F623}",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"\u{1F616}",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"\u{1F62B}",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"\u{1F629}",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"\u{1F97A}",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"\u{1F624}",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"\u{1F62E}",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"\u{1F631}",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"\u{1F628}",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"\u{1F630}",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"\u{1F62F}",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"\u{1F626}",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"\u{1F627}",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"\u{1F622}",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"\u{1F625}",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"\u{1F924}",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"\u{1F62A}",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"\u{1F613}",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"\u{1F975}",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"\u{1F976}",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"\u{1F62D}",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"\u{1F635}",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"\u{1F632}",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"\u{1F910}",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"\u{1F922}",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"\u{1F927}",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"\u{1F92E}",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"\u{1F637}",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"\u{1F912}",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"\u{1F915}",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"\u{1F974}",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"\u{1F634}",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"\u{1F4A4}",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"\u{1F4A9}",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"\u{1F608}",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"\u{1F47F}",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"\u{1F479}",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"\u{1F47A}",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"\u{1F480}",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"\u{1F47B}",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"\u{1F47D}",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"\u{1F916}",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"\u{1F63A}",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"\u{1F638}",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"\u{1F639}",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"\u{1F63B}",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"\u{1F63C}",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"\u{1F63D}",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"\u{1F640}",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"\u{1F63F}",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"\u{1F63E}",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"\u{1F932}",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"\u{1F64C}",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"\u{1F44F}",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"\u{1F44B}",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"\u{1F919}",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"\u{1F44D}",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"\u{1F44E}",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"\u{1F44A}",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"\u270A",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"\u{1F91B}",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"\u{1F91C}",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"\u270C",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"\u{1F44C}",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"\u270B",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"\u{1F91A}",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"\u{1F450}",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"\u{1F4AA}",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"\u{1F64F}",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"\u{1F9B6}",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"\u{1F9B5}",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"\u{1F91D}",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"\u261D",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"\u{1F446}",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"\u{1F447}",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"\u{1F448}",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"\u{1F449}",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"\u{1F595}",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"\u{1F590}",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"\u{1F91F}",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"\u{1F918}",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"\u{1F91E}",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"\u{1F596}",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"\u270D",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"\u{1F933}",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"\u{1F485}",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"\u{1F444}",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"\u{1F9B7}",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"\u{1F445}",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"\u{1F442}",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"\u{1F443}",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"\u{1F441}",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"\u{1F440}",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"\u{1F9E0}",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"\u{1F464}",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"\u{1F465}",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"\u{1F5E3}",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"\u{1F476}",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"\u{1F9D2}",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"\u{1F466}",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"\u{1F467}",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"\u{1F9D1}",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"\u{1F468}",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"\u{1F469}",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"\u{1F471}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"\u{1F471}",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"\u{1F9D4}",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"\u{1F9D3}",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"\u{1F474}",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"\u{1F475}",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"\u{1F472}",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"\u{1F9D5}",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"\u{1F473}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"\u{1F473}",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"\u{1F46E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"\u{1F46E}",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"\u{1F477}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"\u{1F477}",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"\u{1F482}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"\u{1F482}",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"\u{1F575}",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"\u{1F469}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"\u{1F468}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"\u{1F469}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"\u{1F468}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"\u{1F469}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"\u{1F468}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"\u{1F469}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"\u{1F468}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"\u{1F469}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"\u{1F468}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"\u{1F469}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"\u{1F468}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"\u{1F469}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"\u{1F468}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"\u{1F469}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"\u{1F468}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"\u{1F469}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"\u{1F468}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"\u{1F469}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"\u{1F468}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"\u{1F469}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"\u{1F468}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"\u{1F469}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"\u{1F468}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"\u{1F469}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"\u{1F468}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"\u{1F469}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"\u{1F468}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"\u{1F469}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"\u{1F468}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"\u{1F469}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"\u{1F468}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"\u{1F9B8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"\u{1F9B8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"\u{1F9B9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"\u{1F9B9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"\u{1F936}",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"\u{1F385}",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"\u{1F9D9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"\u{1F9D9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"\u{1F9DD}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"\u{1F9DD}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"\u{1F9DB}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"\u{1F9DB}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"\u{1F9DF}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"\u{1F9DF}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"\u{1F9DE}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"\u{1F9DE}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"\u{1F9DC}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"\u{1F9DC}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"\u{1F9DA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"\u{1F9DA}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"\u{1F47C}",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"\u{1F930}",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"\u{1F931}",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"\u{1F478}",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"\u{1F934}",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"\u{1F470}",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"\u{1F935}",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"\u{1F3C3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"\u{1F3C3}",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"\u{1F6B6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"\u{1F6B6}",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"\u{1F483}",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"\u{1F57A}",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"\u{1F46F}",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"\u{1F46F}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"\u{1F46B}",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"\u{1F46C}",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"\u{1F46D}",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"\u{1F647}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"\u{1F647}",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"\u{1F926}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"\u{1F926}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"\u{1F937}",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"\u{1F937}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"\u{1F481}",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"\u{1F481}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"\u{1F645}",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"\u{1F645}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"\u{1F646}",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"\u{1F646}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"\u{1F64B}",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"\u{1F64B}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"\u{1F64E}",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"\u{1F64E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"\u{1F487}",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"\u{1F487}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"\u{1F486}",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"\u{1F486}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F491}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F48F}",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"\u{1F46A}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"\u{1F9F6}",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"\u{1F9F5}",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"\u{1F9E5}",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"\u{1F97C}",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"\u{1F45A}",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"\u{1F455}",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"\u{1F456}",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"\u{1F454}",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"\u{1F457}",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"\u{1F459}",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"\u{1F458}",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"\u{1F484}",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"\u{1F48B}",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"\u{1F463}",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"\u{1F97F}",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"\u{1F460}",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"\u{1F461}",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"\u{1F462}",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"\u{1F45E}",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"\u{1F45F}",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"\u{1F97E}",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"\u{1F9E6}",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"\u{1F9E4}",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"\u{1F9E3}",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"\u{1F452}",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"\u{1F3A9}",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"\u{1F9E2}",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"\u26D1",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"\u{1F393}",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"\u{1F451}",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"\u{1F392}",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"\u{1F9F3}",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"\u{1F45D}",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"\u{1F45B}",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"\u{1F45C}",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"\u{1F4BC}",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"\u{1F453}",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"\u{1F576}",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"\u{1F97D}",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"\u{1F48D}",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"\u{1F302}",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"\u{1F436}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"\u{1F431}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"\u{1F42D}",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"\u{1F439}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"\u{1F430}",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"\u{1F98A}",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"\u{1F43B}",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"\u{1F43C}",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"\u{1F428}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"\u{1F42F}",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"\u{1F981}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F42E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"\u{1F437}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"\u{1F43D}",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"\u{1F438}",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"\u{1F991}",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"\u{1F419}",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"\u{1F990}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"\u{1F435}",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"\u{1F98D}",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"\u{1F648}",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"\u{1F649}",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"\u{1F64A}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"\u{1F412}",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"\u{1F414}",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"\u{1F427}",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"\u{1F426}",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"\u{1F424}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"\u{1F423}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"\u{1F425}",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"\u{1F986}",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"\u{1F985}",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"\u{1F989}",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"\u{1F987}",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"\u{1F43A}",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"\u{1F417}",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"\u{1F434}",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"\u{1F984}",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"\u{1F41D}",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"\u{1F41B}",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"\u{1F98B}",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"\u{1F40C}",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"\u{1F41E}",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"\u{1F41C}",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"\u{1F997}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"\u{1F577}",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"\u{1F982}",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"\u{1F980}",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"\u{1F40D}",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"\u{1F98E}",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"\u{1F996}",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"\u{1F995}",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"\u{1F422}",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"\u{1F420}",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"\u{1F41F}",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"\u{1F421}",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"\u{1F42C}",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"\u{1F988}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"\u{1F433}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"\u{1F40B}",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"\u{1F40A}",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"\u{1F406}",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"\u{1F993}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"\u{1F405}",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"\u{1F403}",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"\u{1F402}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F404}",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"\u{1F98C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"\u{1F42A}",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"\u{1F42B}",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"\u{1F992}",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"\u{1F418}",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"\u{1F98F}",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"\u{1F410}",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"\u{1F40F}",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"\u{1F411}",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"\u{1F40E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"\u{1F416}",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"\u{1F400}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"\u{1F401}",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"\u{1F413}",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"\u{1F983}",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"\u{1F54A}",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"\u{1F415}",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"\u{1F429}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"\u{1F408}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"\u{1F407}",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"\u{1F43F}",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"\u{1F994}",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"\u{1F99D}",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"\u{1F999}",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"\u{1F99B}",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"\u{1F998}",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"\u{1F9A1}",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"\u{1F9A2}",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"\u{1F99A}",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"\u{1F99C}",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"\u{1F99E}",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"\u{1F99F}",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"\u{1F43E}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F409}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F432}",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"\u{1F335}",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"\u{1F384}",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"\u{1F332}",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"\u{1F333}",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"\u{1F334}",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"\u{1F331}",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"\u{1F33F}",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"\u2618",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"\u{1F340}",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"\u{1F38D}",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"\u{1F38B}",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"\u{1F343}",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"\u{1F342}",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"\u{1F341}",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"\u{1F33E}",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"\u{1F33A}",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"\u{1F33B}",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"\u{1F339}",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"\u{1F940}",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"\u{1F337}",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"\u{1F33C}",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"\u{1F338}",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"\u{1F490}",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"\u{1F344}",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"\u{1F330}",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"\u{1F383}",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"\u{1F41A}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"\u{1F578}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"\u{1F30E}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"\u{1F30D}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"\u{1F30F}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"\u{1F315}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"\u{1F316}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F317}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F318}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F311}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F312}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F313}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"\u{1F314}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31A}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31D}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31B}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31C}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"\u{1F31E}",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"\u{1F319}",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"\u2B50",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"\u{1F31F}",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"\u{1F4AB}",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"\u2728",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"\u2604",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"\u2600\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"\u{1F324}",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"\u26C5",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"\u{1F325}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"\u{1F326}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"\u2601\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"\u{1F327}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"\u26C8",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"\u{1F329}",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"\u26A1",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"\u{1F525}",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"\u{1F4A5}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"\u2744\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"\u{1F328}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"\u26C4",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"\u2603",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"\u{1F32C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"\u{1F4A8}",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"\u{1F32A}",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"\u{1F32B}",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"\u2602",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"\u2614",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"\u{1F4A7}",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"\u{1F4A6}",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"\u{1F30A}",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"\u{1F34F}",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"\u{1F34E}",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"\u{1F350}",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"\u{1F34A}",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"\u{1F34B}",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"\u{1F34C}",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"\u{1F349}",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"\u{1F347}",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"\u{1F353}",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"\u{1F348}",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"\u{1F352}",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"\u{1F351}",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"\u{1F34D}",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"\u{1F965}",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"\u{1F95D}",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"\u{1F96D}",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"\u{1F951}",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"\u{1F966}",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"\u{1F345}",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"\u{1F346}",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"\u{1F952}",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"\u{1F955}",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"\u{1F336}",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"\u{1F954}",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"\u{1F33D}",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"\u{1F96C}",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"\u{1F360}",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"\u{1F95C}",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"\u{1F36F}",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"\u{1F950}",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"\u{1F35E}",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"\u{1F956}",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"\u{1F96F}",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"\u{1F968}",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"\u{1F9C0}",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"\u{1F95A}",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"\u{1F953}",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"\u{1F969}",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"\u{1F95E}",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"\u{1F357}",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"\u{1F356}",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"\u{1F9B4}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"\u{1F364}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"\u{1F373}",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"\u{1F354}",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"\u{1F35F}",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"\u{1F959}",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"\u{1F32D}",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"\u{1F355}",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"\u{1F96A}",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"\u{1F96B}",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"\u{1F35D}",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"\u{1F32E}",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"\u{1F32F}",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"\u{1F957}",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"\u{1F958}",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"\u{1F35C}",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"\u{1F372}",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"\u{1F365}",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"\u{1F960}",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"\u{1F363}",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"\u{1F371}",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"\u{1F35B}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"\u{1F359}",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"\u{1F35A}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"\u{1F358}",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"\u{1F362}",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"\u{1F361}",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"\u{1F367}",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"\u{1F368}",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"\u{1F366}",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"\u{1F967}",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"\u{1F370}",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"\u{1F9C1}",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"\u{1F96E}",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"\u{1F382}",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"\u{1F36E}",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"\u{1F36C}",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"\u{1F36D}",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"\u{1F36B}",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"\u{1F37F}",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"\u{1F95F}",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"\u{1F369}",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"\u{1F36A}",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"\u{1F95B}",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37A}",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37B}",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"\u{1F942}",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"\u{1F377}",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"\u{1F943}",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"\u{1F378}",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"\u{1F379}",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"\u{1F37E}",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"\u{1F376}",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"\u{1F375}",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"\u{1F964}",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"\u2615",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"\u{1F37C}",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"\u{1F9C2}",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"\u{1F944}",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"\u{1F374}",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"\u{1F37D}",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"\u{1F963}",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"\u{1F961}",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"\u{1F962}",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"\u26BD",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"\u{1F3C0}",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"\u{1F3C8}",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"\u26BE",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"\u{1F94E}",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"\u{1F3BE}",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"\u{1F3D0}",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"\u{1F3C9}",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"\u{1F94F}",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"\u{1F3B1}",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"\u26F3",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"\u{1F3CC}",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"\u{1F3D3}",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"\u{1F3F8}",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"\u{1F945}",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"\u{1F3D2}",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"\u{1F3D1}",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"\u{1F94D}",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"\u{1F3CF}",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"\u{1F3BF}",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"\u26F7",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"\u{1F3C2}",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"\u{1F93A}",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"\u26F8",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"\u{1F94C}",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"\u{1F6F9}",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"\u{1F6F7}",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"\u{1F3F9}",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"\u{1F3A3}",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"\u{1F94A}",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"\u{1F94B}",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"\u{1F6A3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"\u{1F6A3}",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"\u{1F9D7}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"\u{1F9D7}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"\u{1F3CA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"\u{1F3CA}",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"\u{1F3C4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"\u{1F3C4}",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"\u{1F6C0}",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"\u26F9\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"\u26F9",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"\u{1F3CB}",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"\u{1F6B4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"\u{1F6B4}",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"\u{1F6B5}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"\u{1F6B5}",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"\u{1F3C7}",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"\u{1F574}",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"\u{1F3C6}",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"\u{1F3BD}",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"\u{1F3C5}",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"\u{1F396}",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"\u{1F947}",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"\u{1F948}",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"\u{1F949}",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"\u{1F397}",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"\u{1F3F5}",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"\u{1F3AB}",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"\u{1F39F}",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"\u{1F3AD}",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"\u{1F3A8}",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"\u{1F3AA}",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"\u{1F3A4}",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"\u{1F3A7}",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"\u{1F3BC}",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"\u{1F3B9}",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"\u{1F941}",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"\u{1F3B7}",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"\u{1F3BA}",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"\u{1F3B8}",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"\u{1F3BB}",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"\u{1F3AC}",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"\u{1F3AE}",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"\u{1F47E}",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"\u{1F3AF}",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"\u{1F3B2}",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"\u265F",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"\u{1F3B0}",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"\u{1F9E9}",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"\u{1F3B3}",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"\u{1F697}",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"\u{1F695}",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"\u{1F699}",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"\u{1F68C}",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"\u{1F68E}",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"\u{1F3CE}",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"\u{1F693}",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"\u{1F691}",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"\u{1F692}",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"\u{1F690}",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"\u{1F69A}",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"\u{1F69B}",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"\u{1F69C}",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"\u{1F6F4}",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"\u{1F3CD}",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"\u{1F6B2}",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"\u{1F6F5}",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"\u{1F6A8}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"\u{1F694}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"\u{1F68D}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"\u{1F698}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"\u{1F696}",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A1}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A0}",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"\u{1F69F}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"\u{1F683}",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"\u{1F68B}",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"\u{1F69D}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"\u{1F684}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"\u{1F685}",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"\u{1F688}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"\u{1F69E}",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"\u{1F682}",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"\u{1F686}",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"\u{1F687}",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"\u{1F68A}",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"\u{1F689}",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"\u{1F6F8}",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"\u{1F681}",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"\u{1F6E9}",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"\u2708\uFE0F",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"\u{1F6EB}",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"\u{1F6EC}",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"\u26F5",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"\u{1F6E5}",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"\u{1F6A4}",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"\u26F4",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"\u{1F6F3}",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"\u{1F680}",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"\u{1F6F0}",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"\u{1F4BA}",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"\u{1F6F6}",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"\u2693",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"\u{1F6A7}",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"\u26FD",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"\u{1F68F}",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"\u{1F6A6}",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"\u{1F6A5}",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"\u{1F3C1}",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"\u{1F6A2}",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"\u{1F3A1}",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"\u{1F3A2}",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"\u{1F3A0}",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"\u{1F3D7}",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"\u{1F301}",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"\u{1F5FC}",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"\u{1F3ED}",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"\u26F2",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"\u{1F391}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"\u26F0",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"\u{1F3D4}",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"\u{1F5FB}",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"\u{1F30B}",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"\u{1F5FE}",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"\u{1F3D5}",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"\u26FA",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"\u{1F3DE}",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"\u{1F6E3}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"\u{1F6E4}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"\u{1F305}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"\u{1F304}",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"\u{1F3DC}",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"\u{1F3D6}",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"\u{1F3DD}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"\u{1F307}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"\u{1F306}",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"\u{1F3D9}",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"\u{1F303}",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"\u{1F309}",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"\u{1F30C}",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"\u{1F320}",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"\u{1F387}",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"\u{1F386}",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"\u{1F308}",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"\u{1F3D8}",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"\u{1F3F0}",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"\u{1F3EF}",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"\u{1F3DF}",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"\u{1F5FD}",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"\u{1F3E0}",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"\u{1F3E1}",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"\u{1F3DA}",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"\u{1F3E2}",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"\u{1F3EC}",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"\u{1F3E3}",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"\u{1F3E4}",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"\u{1F3E5}",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"\u{1F3E6}",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"\u{1F3E8}",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"\u{1F3EA}",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"\u{1F3EB}",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"\u{1F3E9}",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"\u{1F492}",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"\u{1F3DB}",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"\u26EA",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"\u{1F54C}",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"\u{1F54D}",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"\u{1F54B}",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"\u26E9",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"\u231A",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"\u{1F4F1}",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"\u{1F4F2}",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"\u{1F4BB}",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"\u2328",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"\u{1F5A5}",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"\u{1F5A8}",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"\u{1F5B1}",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"\u{1F5B2}",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"\u{1F579}",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"\u{1F5DC}",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"\u{1F4BD}",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"\u{1F4BE}",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"\u{1F4BF}",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"\u{1F4C0}",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"\u{1F4FC}",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"\u{1F4F7}",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"\u{1F4F8}",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"\u{1F4F9}",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"\u{1F3A5}",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"\u{1F4FD}",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"\u{1F39E}",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"\u{1F4DE}",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"\u260E\uFE0F",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"\u{1F4DF}",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"\u{1F4E0}",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"\u{1F4FA}",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"\u{1F4FB}",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"\u{1F399}",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"\u{1F39A}",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"\u{1F39B}",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"\u{1F9ED}",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"\u23F1",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"\u23F2",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"\u23F0",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"\u{1F570}",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"\u23F3",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"\u231B",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"\u{1F4E1}",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"\u{1F50B}",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"\u{1F50C}",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"\u{1F4A1}",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"\u{1F526}",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"\u{1F56F}",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"\u{1F9EF}",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"\u{1F5D1}",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"\u{1F6E2}",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"\u{1F4B8}",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"\u{1F4B5}",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"\u{1F4B4}",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"\u{1F4B6}",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"\u{1F4B7}",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"\u{1F4B0}",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"\u{1F4B3}",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"\u{1F48E}",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"\u2696",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"\u{1F9F0}",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"\u{1F527}",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"\u{1F528}",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"\u2692",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"\u{1F6E0}",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"\u26CF",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"\u{1F529}",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"\u2699",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"\u{1F9F1}",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"\u26D3",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"\u{1F9F2}",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"\u{1F52B}",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"\u{1F4A3}",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"\u{1F9E8}",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"\u{1F52A}",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"\u{1F5E1}",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"\u2694",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"\u{1F6E1}",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"\u{1F6AC}",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"\u2620",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"\u26B0",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"\u26B1",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"\u{1F3FA}",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"\u{1F52E}",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"\u{1F4FF}",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"\u{1F9FF}",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"\u{1F488}",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"\u2697",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"\u{1F52D}",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"\u{1F52C}",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"\u{1F573}",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"\u{1F48A}",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"\u{1F489}",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"\u{1F9EC}",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"\u{1F9A0}",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"\u{1F9EB}",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"\u{1F9EA}",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"\u{1F321}",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"\u{1F9F9}",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"\u{1F9FA}",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"\u{1F9FB}",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"\u{1F3F7}",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"\u{1F516}",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"\u{1F6BD}",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"\u{1F6BF}",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"\u{1F6C1}",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"\u{1F9FC}",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"\u{1F9FD}",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"\u{1F9F4}",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"\u{1F511}",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"\u{1F5DD}",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"\u{1F6CB}",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"\u{1F6CC}",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"\u{1F6CF}",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"\u{1F6AA}",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"\u{1F6CE}",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"\u{1F9F8}",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"\u{1F5BC}",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"\u{1F5FA}",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"\u26F1",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"\u{1F5FF}",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"\u{1F6CD}",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"\u{1F6D2}",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"\u{1F388}",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"\u{1F38F}",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"\u{1F380}",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"\u{1F381}",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"\u{1F38A}",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"\u{1F389}",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"\u{1F38E}",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"\u{1F390}",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"\u{1F38C}",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"\u{1F3EE}",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"\u{1F9E7}",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"\u2709\uFE0F",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"\u{1F4E9}",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"\u{1F4E8}",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"\u{1F4E7}",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"\u{1F48C}",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"\u{1F4EE}",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"\u{1F4EA}",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"\u{1F4EB}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"\u{1F4EC}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"\u{1F4ED}",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"\u{1F4E6}",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"\u{1F4EF}",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"\u{1F4E5}",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"\u{1F4E4}",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"\u{1F4DC}",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"\u{1F4C3}",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"\u{1F4D1}",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"\u{1F9FE}",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"\u{1F4CA}",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"\u{1F4C8}",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"\u{1F4C9}",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"\u{1F4C4}",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"\u{1F4C5}",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"\u{1F4C6}",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"\u{1F5D3}",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"\u{1F4C7}",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"\u{1F5C3}",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"\u{1F5F3}",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"\u{1F5C4}",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"\u{1F4CB}",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"\u{1F5D2}",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"\u{1F4C1}",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"\u{1F4C2}",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"\u{1F5C2}",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"\u{1F5DE}",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"\u{1F4F0}",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"\u{1F4D3}",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"\u{1F4D5}",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"\u{1F4D7}",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"\u{1F4D8}",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"\u{1F4D9}",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"\u{1F4D4}",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"\u{1F4D2}",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"\u{1F4DA}",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"\u{1F4D6}",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"\u{1F9F7}",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"\u{1F517}",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"\u{1F4CE}",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"\u{1F587}",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"\u2702\uFE0F",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"\u{1F4D0}",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"\u{1F4CF}",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"\u{1F9EE}",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"\u{1F4CC}",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"\u{1F4CD}",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"\u{1F6A9}",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"\u{1F3F3}",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"\u{1F3F4}",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"\u{1F3F3}\uFE0F\u200D\u{1F308}",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"\u{1F510}",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"\u{1F512}",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"\u{1F513}",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"\u{1F50F}",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"\u{1F58A}",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"\u{1F58B}",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"\u2712\uFE0F",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"\u{1F4DD}",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"\u270F\uFE0F",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"\u{1F58D}",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"\u{1F58C}",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"\u{1F50D}",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"\u{1F50E}",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"\u2764\uFE0F",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F9E1}",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49B}",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49A}",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F499}",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49C}",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"\u{1F5A4}",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"\u{1F494}",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"\u2763",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"\u{1F495}",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"\u{1F49E}",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"\u{1F493}",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"\u{1F497}",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F496}",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"\u{1F498}",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"\u{1F49D}",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"\u{1F49F}",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"\u262E",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"\u271D",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"\u262A",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u{1F549}",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u2638",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"\u2721",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"\u{1F52F}",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"\u{1F54E}",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"\u262F",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"\u2626",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"\u{1F6D0}",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"\u26CE",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2648",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2649",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264A",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264B",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264C",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264D",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264E",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"\u264F",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2650",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2651",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2652",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2653",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"\u{1F194}",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"\u269B",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"\u{1F233}",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"\u{1F239}",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"\u2622",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"\u2623",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"\u{1F4F4}",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"\u{1F4F3}",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"\u{1F236}",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"\u{1F21A}",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"\u{1F238}",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"\u{1F23A}",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"\u{1F237}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"\u2734\uFE0F",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"\u{1F19A}",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"\u{1F251}",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"\u{1F4AE}",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"\u{1F250}",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"\u3299\uFE0F",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"\u3297\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"\u{1F234}",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"\u{1F235}",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"\u{1F232}",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"\u{1F170}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"\u{1F171}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"\u{1F18E}",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"\u{1F191}",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"\u{1F17E}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"\u{1F198}",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"\u26D4",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"\u{1F4DB}",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"\u{1F6AB}",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"\u274C",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"\u2B55",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"\u{1F6D1}",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"\u{1F4A2}",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"\u2668\uFE0F",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"\u{1F6B7}",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"\u{1F6AF}",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"\u{1F6B3}",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"\u{1F6B1}",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"\u{1F51E}",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"\u{1F4F5}",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"\u2757",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"\u2755",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"\u2753",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"\u2754",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"\u203C\uFE0F",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"\u2049\uFE0F",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"\u{1F4AF}",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"\u{1F505}",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"\u{1F506}",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"\u{1F531}",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"\u269C",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"\u303D\uFE0F",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"\u26A0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"\u{1F6B8}",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"\u{1F530}",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"\u267B\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"\u{1F22F}",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"\u{1F4B9}",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"\u2747\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"\u2733\uFE0F",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"\u274E",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"\u2705",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"\u{1F4A0}",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"\u{1F300}",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"\u27BF",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"\u{1F310}",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"\u24C2\uFE0F",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"\u{1F3E7}",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"\u{1F202}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"\u{1F6C2}",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"\u{1F6C3}",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"\u{1F6C4}",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"\u{1F6C5}",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"\u267F",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"\u{1F6AD}",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"\u{1F6BE}",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"\u{1F17F}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"\u{1F6B0}",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"\u{1F6B9}",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"\u{1F6BA}",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"\u{1F6BC}",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"\u{1F6BB}",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"\u{1F6AE}",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"\u{1F3A6}",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"\u{1F4F6}",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"\u{1F201}",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"\u{1F196}",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"\u{1F197}",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"\u{1F199}",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"\u{1F192}",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"\u{1F195}",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"\u{1F193}",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"\u{1F51F}",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*\u20E3",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"\u{1F522}",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"\u23CF\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"\u25B6\uFE0F",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"\u23F8",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"\u23ED",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"\u23F9",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"\u23FA",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"\u23EF",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"\u23EE",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"\u23E9",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"\u23EA",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"\u{1F500}",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"\u{1F501}",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"\u{1F502}",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"\u25C0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"\u{1F53C}",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"\u{1F53D}",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"\u23EB",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"\u23EC",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"\u27A1\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"\u2B05\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"\u2B06\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"\u2B07\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"\u2197\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"\u2198\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"\u2199\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"\u2196\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"\u2195\uFE0F",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"\u2194\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"\u{1F504}",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"\u21AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"\u21A9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"\u2934\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"\u2935\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"\u2139\uFE0F",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"\u{1F524}",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"\u{1F521}",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"\u{1F520}",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"\u{1F523}",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"\u{1F3B5}",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"\u{1F3B6}",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"\u3030\uFE0F",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"\u27B0",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"\u2714\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"\u{1F503}",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"\u2795",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"\u2796",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"\u2797",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"\u2716\uFE0F",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"\u267E",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"\u{1F4B2}",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"\u{1F4B1}",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"\xA9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"\xAE\uFE0F",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"\u2122\uFE0F",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"\u{1F51A}",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"\u{1F519}",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"\u{1F51B}",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"\u{1F51D}",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"\u{1F51C}",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"\u2611\uFE0F",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"\u{1F518}",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"\u26AA",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"\u26AB",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"\u{1F534}",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"\u{1F535}",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F538}",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F539}",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F536}",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F537}",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"\u{1F53A}",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"\u25AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"\u25AB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"\u2B1B",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"\u2B1C",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"\u{1F53B}",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"\u25FC\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"\u25FB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"\u25FE",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"\u25FD",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"\u{1F532}",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"\u{1F533}",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"\u{1F508}",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"\u{1F509}",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"\u{1F50A}",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"\u{1F507}",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"\u{1F4E3}",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"\u{1F4E2}",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"\u{1F514}",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"\u{1F515}",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"\u{1F0CF}",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"\u{1F004}",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"\u2660\uFE0F",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"\u2663\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"\u2665\uFE0F",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"\u2666\uFE0F",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"\u{1F3B4}",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"\u{1F4AD}",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"\u{1F5EF}",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"\u{1F4AC}",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"\u{1F5E8}",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"\u{1F550}",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"\u{1F551}",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"\u{1F552}",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"\u{1F553}",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"\u{1F554}",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"\u{1F555}",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"\u{1F556}",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"\u{1F557}",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"\u{1F558}",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"\u{1F559}",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"\u{1F55A}",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"\u{1F55B}",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"\u{1F55C}",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"\u{1F55D}",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"\u{1F55E}",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"\u{1F55F}",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"\u{1F560}",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"\u{1F561}",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"\u{1F562}",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"\u{1F563}",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"\u{1F564}",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"\u{1F565}",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"\u{1F566}",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"\u{1F567}",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["\xC5land","islands","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"\u{1F1E8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["cura\xE7ao","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"\u{1F1EA}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"\u{1F1EB}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"\u{1F1E9}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"\u{1F1EF}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"\u{1F1FD}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"\u{1F1F4}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"\u{1F1F6}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["r\xE9union","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barth\xE9lemy","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"\u{1F1EC}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"\u{1F1FA}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"\u{1F3F4}\u200D\u2620\uFE0F",fitzpatrick_scale:!1,category:"flags"}}),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(ae=>ke=>typeof ke===ae)("function");var X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ae=ae=>ke=>ke.options.get(ae),We=ae=>{const ke=ae.options.register;ke("save_enablewhendirty",{processor:"boolean",default:!0}),ke("save_onsavecallback",{processor:"function"}),ke("save_oncancelcallback",{processor:"function"})},Ke=Ae("save_enablewhendirty"),Ee=Ae("save_onsavecallback"),Ie=Ae("save_oncancelcallback"),pt=(ae,ke)=>{ae.notificationManager.open({text:ke,type:"error"})},_t=ae=>{const ke=X.DOM.getParent(ae.id,"form");if(Ke(ae)&&!ae.isDirty())return;ae.save();const ge=Ee(ae);if(D(ge)){ge.call(ae,ae),ae.nodeChanged();return}ke?(ae.setDirty(!1),(!ke.onsubmit||ke.onsubmit())&&(typeof ke.submit=="function"?ke.submit():pt(ae,"Error: Form submit field collision.")),ae.nodeChanged()):pt(ae,"Error: No form element found.")},$e=ae=>{const ke=_e.trim(ae.startContent),ge=Ie(ae);if(D(ge)){ge.call(ae,ae);return}ae.resetContent(ke)},Ne=ae=>{ae.addCommand("mceSave",()=>{_t(ae)}),ae.addCommand("mceCancel",()=>{$e(ae)})},tt=ae=>ke=>{const ge=()=>{ke.setEnabled(!Ke(ae)||ae.isDirty())};return ge(),ae.on("NodeChange dirty",ge),()=>ae.off("NodeChange dirty",ge)},xe=ae=>{ae.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>ae.execCommand("mceSave"),onSetup:tt(ae)}),ae.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>ae.execCommand("mceCancel"),onSetup:tt(ae)}),ae.addShortcut("Meta+S","","mceSave")};var rt=()=>{g.add("save",ae=>{We(ae),xe(ae),Ne(ae)})};rt()}(),function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const _=(w,ie,re)=>{var we;return re(w,ie.prototype)?!0:((we=w.constructor)===null||we===void 0?void 0:we.name)===ie.name},D=w=>{const ie=typeof w;return w===null?"null":ie==="object"&&Array.isArray(w)?"array":ie==="object"&&_(w,String,(re,we)=>we.isPrototypeOf(re))?"string":ie},X=w=>ie=>D(ie)===w,_e=w=>ie=>typeof ie===w,Ae=X("string"),We=_e("boolean"),Ke=w=>w==null,Ee=w=>!Ke(w),Ie=_e("function"),pt=w=>ie=>ie.options.get(w),_t=w=>{const ie=w.options.register,re=ce=>Ce=>{const W=We(Ce)||Ae(Ce);return W?We(Ce)?{value:Ce?ce:"",valid:W}:{value:Ce.trim(),valid:W}:{valid:!1,message:"Must be a boolean or string."}},we="bold italic | quicklink h2 h3 blockquote";ie("quickbars_selection_toolbar",{processor:re(we),default:we});const J="quickimage quicktable";ie("quickbars_insert_toolbar",{processor:re(J),default:J});const me="alignleft aligncenter alignright";ie("quickbars_image_toolbar",{processor:re(me),default:me})},$e=pt("quickbars_selection_toolbar"),Ne=pt("quickbars_insert_toolbar"),tt=pt("quickbars_image_toolbar");let xe=0;const rt=w=>{const re=new Date().getTime(),we=Math.floor(Math.random()*1e9);return xe++,w+"_"+we+xe+String(re)},ae=(w,ie,re)=>{w.execCommand("mceInsertTable",!1,{rows:re,columns:ie})},ke=(w,ie,re)=>{const we=w.editorUpload.blobCache,J=we.create(rt("mceu"),re,ie);we.add(J),w.insertContent(w.dom.createHTML("img",{src:J.blobUri()}))},ge=w=>new Promise(ie=>{const re=new FileReader;re.onloadend=()=>{ie(re.result.split(",")[1])},re.readAsDataURL(w)});var zt=tinymce.util.Tools.resolve("tinymce.Env"),ot=tinymce.util.Tools.resolve("tinymce.util.Delay");const le=w=>new Promise(ie=>{const re=document.createElement("input");re.type="file",re.accept="image/*",re.style.position="fixed",re.style.left="0",re.style.top="0",re.style.opacity="0.001",document.body.appendChild(re);const we=me=>{ie(Array.prototype.slice.call(me.target.files))};re.addEventListener("change",we);const J=me=>{const ce=()=>{ie([]),re.parentNode.removeChild(re)};zt.os.isAndroid()&&me.type!=="remove"?ot.setEditorTimeout(w,ce,0):ce(),w.off("focusin remove",J)};w.on("focusin remove",J),re.click()}),it=w=>{w.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{le(w).then(ie=>{if(ie.length>0){const re=ie[0];ge(re).then(we=>{ke(w,we,re)})}})}}),w.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ae(w,2,2)}})},Le=(w=>()=>w)(!1);class Ve{constructor(ie,re){this.tag=ie,this.value=re}static some(ie){return new Ve(!0,ie)}static none(){return Ve.singletonNone}fold(ie,re){return this.tag?re(this.value):ie()}isSome(){return this.tag}isNone(){return!this.tag}map(ie){return this.tag?Ve.some(ie(this.value)):Ve.none()}bind(ie){return this.tag?ie(this.value):Ve.none()}exists(ie){return this.tag&&ie(this.value)}forall(ie){return!this.tag||ie(this.value)}filter(ie){return!this.tag||ie(this.value)?this:Ve.none()}getOr(ie){return this.tag?this.value:ie}or(ie){return this.tag?this:ie}getOrThunk(ie){return this.tag?this.value:ie()}orThunk(ie){return this.tag?this:ie()}getOrDie(ie){if(this.tag)return this.value;throw new Error(ie!=null?ie:"Called getOrDie on None")}static from(ie){return Ee(ie)?Ve.some(ie):Ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ie){this.tag&&ie(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ve.singletonNone=new Ve(!1);var L=(w,ie,re,we,J)=>w(re,we)?Ve.some(re):Ie(J)&&J(re)?Ve.none():ie(re,we,J);const Wt=1,Je=(w,ie)=>{const we=(ie||document).createElement("div");if(we.innerHTML=w,!we.hasChildNodes()||we.childNodes.length>1){const J="HTML does not have a single root node";throw console.error(J,w),new Error(J)}return Ze(we.childNodes[0])},jt=(w,ie)=>{const we=(ie||document).createElement(w);return Ze(we)},ye=(w,ie)=>{const we=(ie||document).createTextNode(w);return Ze(we)},Ze=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},Z={fromHtml:Je,fromTag:jt,fromText:ye,fromDom:Ze,fromPoint:(w,ie,re)=>Ve.from(w.dom.elementFromPoint(ie,re)).map(Ze)},Pe=(w,ie)=>{const re=w.dom;if(re.nodeType!==Wt)return!1;{const we=re;if(we.matches!==void 0)return we.matches(ie);if(we.msMatchesSelector!==void 0)return we.msMatchesSelector(ie);if(we.webkitMatchesSelector!==void 0)return we.webkitMatchesSelector(ie);if(we.mozMatchesSelector!==void 0)return we.mozMatchesSelector(ie);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const yt=w=>w.dom.nodeName.toLowerCase(),et=(w,ie,re)=>{let we=w.dom;const J=Ie(re)?re:Le;for(;we.parentNode;){we=we.parentNode;const me=Z.fromDom(we);if(ie(me))return Ve.some(me);if(J(me))break}return Ve.none()},kn=(w,ie,re)=>L((J,me)=>me(J),et,w,ie,re),Rn=(w,ie,re)=>et(w,we=>Pe(we,ie),re),an=(w,ie,re)=>L((J,me)=>Pe(J,me),Rn,w,ie,re),en=w=>{const ie=Ne(w);ie.length>0&&w.ui.registry.addContextToolbar("quickblock",{predicate:re=>{const we=Z.fromDom(re),J=w.schema.getTextBlockElements(),me=ce=>ce.dom===w.getBody();return an(we,"table",me).fold(()=>kn(we,ce=>yt(ce)in J&&w.dom.isEmpty(ce.dom),me).isSome(),Le)},items:ie,position:"line",scope:"editor"})},cn=w=>{const ie=me=>w.dom.getContentEditableParent(me)!=="false",re=me=>me.nodeName==="IMG"||me.nodeName==="FIGURE"&&/image/i.test(me.className),we=tt(w);we.length>0&&w.ui.registry.addContextToolbar("imageselection",{predicate:re,items:we,position:"node"});const J=$e(w);J.length>0&&w.ui.registry.addContextToolbar("textselection",{predicate:me=>!re(me)&&!w.selection.isCollapsed()&&ie(me),items:J,position:"selection",scope:"editor"})};var wn=()=>{g.add("quickbars",w=>{_t(w),it(w),en(w),cn(w)})};wn()}();const Zi=Ao.defineComponent({name:"MiniMCE",props:{...Ao.isVue3?{modelValue:String}:{value:String},disabled:{type:Boolean,default:void 0},outputFormat:{},options:{}},setup(g,{expose:_,emit:D}){const X=Ao.ref(!0),_e=Ao.ref(`minimce-${KP()}`),Ae=Ao.ref(!1),We=Ao.ref(!1),Ke=Ao.computed(()=>Uh([g.disabled,ss.globalProps.disabled],{type:Boolean})),Ee=Ao.computed(()=>Uh([g.outputFormat,ss.globalProps.outputFormat],{type:String})),Ie=Ao.computed(()=>Uh([g.options,ss.globalProps.options,{selector:`#${_e.value}`,plugins:"preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl",quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",contextmenu:"link image table",branding:!1,quickbars_insert_toolbar:!1,invalid_elements:"iframe,frame",skin:!1,content_css:!1,autosave_ask_before_unload:!1,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",height:500,relative_urls:!1,convert_urls:!1,image_advtab:!0,image_caption:!0,media_live_embeds:!1,toolbar_mode:"sliding",init_instance_callback:pt=>{Ao.watch(Ke,Ne=>{pt.mode.set(Ne?"readonly":"design")},{immediate:!0});const _t=Ao.isVue3?"update:modelValue":"input",$e=S9(()=>{if(We.value){We.value=!1;return}Ae.value=!0,D(_t,pt.getContent({format:Ee.value}))},100);pt.on("change input SetContent",$e),Ao.watch(()=>Ao.isVue3?g.modelValue:g.value,Ne=>{if(Ae.value){Ae.value=!1;return}We.value=!0,pt.setContent(Ne||"")},{immediate:!0}),D("init",pt),X.value=!1}}],{camelCase:!1,mergeFunction:(pt,_t)=>(...$e)=>{pt(...$e),_t(...$e)},type:Object}));return Ao.onMounted(()=>{const pt=document.querySelector(`#${_e.value}`),_t=new IntersectionObserver($e=>{$e[0].isIntersecting&&(_t.unobserve(pt),x9.init(Ie.value))});_t.observe(pt)}),Ao.isVue3&&_({id:_e}),{loading:X,id:_e}},render(g){return Ao.isVue3?Ao.h("div",{style:{height:"500px",position:"relative"}},[Ao.h(AE,{style:{display:g.loading?void 0:"none"}}),Ao.h("textarea",{id:g.id})]):Ao.h("div",{style:{height:"500px",position:"relative"}},[Ao.h(AE,{directives:[{name:"show",value:Ao.unref(this.loading)}]}),Ao.h("textarea",{attrs:{id:Ao.unref(this.id)},on:{input:_=>{this.$emit("input",_)}}})])}});ss.globalProps={},ss.globalAttrs={},ss.globalListeners={},ss.globalHooks={},Zi.install=(g,_={})=>{if(Zi.name){if(Zi.install.installed){console.warn(`${Zi.name} has been registered.`);return}}else throw Error("Name is required for a global component.");const{props:D,attrs:X,listeners:_e,hooks:Ae}=sR(_,Zi.props);ss.globalProps=D,ss.globalAttrs=X,ss.globalListeners=_e,ss.globalHooks=Ae,g.component(Zi.name,Zi),Zi.install.installed=!0},ss.default=Zi,Object.defineProperties(ss,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
