{"remainingRequest":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\pages\\mall\\goods\\group-manager\\groupGoods.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\pages\\mall\\goods\\group-manager\\groupGoods.vue","mtime":1693619752180},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9Ub295LUxvd0NvZGUvbG93Q29kZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9Ub295LUxvd0NvZGUvbG93Q29kZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRHb29kc0J5SWRzIH0gZnJvbSAiQC9hcGkvZ29vZHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsidmFsdWUiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG1WYWx1ZTogW10sCiAgICAgIGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJwcm9qZWN0Il0pKSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMubVZhbHVlID0gdGhpcy52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIG1WYWx1ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhLCBfeWllbGQkZ2V0R29vZHNCeUlkcywgc3RhdHVzLCBsaXN0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IF90aGlzLnByb2plY3QuaWQsCiAgICAgICAgICAgICAgICAgIGlkczogX3RoaXMubVZhbHVlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0R29vZHNCeUlkcyhkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldEdvb2RzQnlJZHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgc3RhdHVzID0gX3lpZWxkJGdldEdvb2RzQnlJZHMuc3RhdHVzOwogICAgICAgICAgICAgICAgbGlzdCA9IF95aWVsZCRnZXRHb29kc0J5SWRzLmxpc3Q7CiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICIxMDAwMCIpIF90aGlzLmxpc3QgPSBsaXN0OwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQobGlzdCkgewogICAgICB0aGlzLm1WYWx1ZSA9IGxpc3Q7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["groupGoods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,aAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,CADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CAXA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,OAHA,mBAGA,QAHA,EAGA,QAHA,EAGA;AACA,aAAA,MAAA,GAAA,KAAA,KAAA;AACA;AALA,KADA;AAQA,IAAA,MAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,QAFA,EAEA,QAFA,EAEA;AACA,aAAA,OAAA;AACA,aAAA,KAAA,CAAA,OAAA,EAAA,QAAA;AACA;AALA;AARA,GAfA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,SAAA,EAAA,KAAA,CAAA,OAAA,CAAA,EADA;AAEA,kBAAA,GAAA,EAAA,KAAA,CAAA;AAFA,iBADA;AAAA;AAAA,uBAMA,aAAA,CAAA,IAAA,CANA;;AAAA;AAAA;AAMA,gBAAA,MANA,wBAMA,MANA;AAMA,gBAAA,IANA,wBAMA,IANA;AAQA,oBAAA,MAAA,IAAA,OAAA,EAAA,KAAA,CAAA,IAAA,GAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAVA;AAYA,IAAA,MAZA,kBAYA,IAZA,EAYA;AACA,WAAA,MAAA,GAAA,IAAA;AACA;AAdA;AAhCA,CAAA","sourcesContent":["<!--\r\n * @Description: What's this for\r\n * @Autor: WangYuan\r\n * @Date: 2021-08-19 15:10:03\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-02-11 11:49:00\r\n-->\r\n<template>\r\n  <div class=\"flex flex-wrap\">\r\n    <div\r\n      v-for=\"(item, key) in list\"\r\n      class=\"flex-center h45 w45 mr10 mb10 shadow\"\r\n    >\r\n      <img class=\"w-100 h-100\" :src=\"item.cover\" />\r\n    </div>\r\n    <div class=\"flex-center h45 w45 shadow pointer\" @click=\"show = true\">+</div>\r\n\r\n    <GoodsConfigChoose\r\n      v-if=\"show\"\r\n      :show.sync=\"show\"\r\n      :activeList=\"mValue\"\r\n      @submit=\"submit\"\r\n    >\r\n    </GoodsConfigChoose>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoodsByIds } from \"@/api/goods\";\r\n\r\nexport default {\r\n  props: [\"value\"],\r\n\r\n  data() {\r\n    return {\r\n      show: false,\r\n      mValue: [],\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue, oldValue) {\r\n        this.mValue = this.value;\r\n      },\r\n    },\r\n    mValue: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.getList();\r\n        this.$emit(\"input\", newValue);\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async getList() {\r\n      let data = {\r\n        projectId: this.project.id,\r\n        ids: this.mValue,\r\n      };\r\n\r\n      let { status, list } = await getGoodsByIds(data);\r\n\r\n      if (status == \"10000\") this.list = list;\r\n    },\r\n\r\n    submit(list) {\r\n      this.mValue = list;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/pages/mall/goods/group-manager"}]}