{"remainingRequest":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\custom-schema-template\\components\\SchemaCapCube\\CapCubeLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\custom-schema-template\\components\\SchemaCapCube\\CapCubeLayout.vue","mtime":1693619752169},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTVGMDBcdTZFOTBcdTk4NzlcdTc2RUUvVG9veS1Mb3dDb2RlL2xvd0NvZGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjdXN0b20tbGF5b3V0IiwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG1vZGVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImN1c3RvbSIKICAgIH0sCiAgICByb3c6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0S2V5OiAwLAogICAgICBjdXVySW5kZXg6IC0xLAogICAgICBjb2w6IDYsCiAgICAgIGVkaXQ6IGZhbHNlLAogICAgICAvLyDnvJbovpHmqKHlvI8KICAgICAgeXM6IFtdLAogICAgICBtVmFsdWU6IFtdLAogICAgICBlZGl0S2V5czogW10gLy8g57yW6L6Ra2V56ZuG5ZCICgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB4czogZnVuY3Rpb24geHMoKSB7CiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkodGhpcy5jb2wpLmtleXMoKSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMubVZhbHVlID0gbmV3VmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBtVmFsdWU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgcm93OiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgICB0aGlzLnlzID0gX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5KHRoaXMucm93KS5rZXlzKCkpOwogICAgICB9CiAgICB9LAogICAgY3V1ckluZGV4OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgY29uc29sZS5sb2coJy4uLicpOwogICAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlKTsKICAgICAgICB2YXIgdGVtcCA9IG5ld1ZhbHVlID09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tVmFsdWVbbmV3VmFsdWVdOwogICAgICAgIHRoaXMuJGVtaXQoIm9uQ3V1ckluZGV4IiwgdGVtcCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOmHjee9ruWuueWZqAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnN0YXJ0S2V5ID0gMDsKICAgICAgdGhpcy5jdXVySW5kZXggPSAtMTsKICAgICAgdGhpcy5lZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMubVZhbHVlID0gW107CiAgICAgIHRoaXMuZWRpdEtleXMgPSBbXTsKICAgIH0sCiAgICAvLyDngrnlh7vljZXlhYPlnZcKICAgIGNsaWNrV3JhcDogZnVuY3Rpb24gY2xpY2tXcmFwKGUpIHsKICAgICAgLy8g5byA5aeL57yW6L6R5qih5byPCiAgICAgIGlmICghdGhpcy5lZGl0KSB7CiAgICAgICAgdmFyIGtleSA9IGUudGFyZ2V0LmRhdGFzZXQua2V5OwogICAgICAgIHRoaXMuZWRpdEtleXMucHVzaChOdW1iZXIoa2V5KSk7CiAgICAgICAgdGhpcy5zdGFydEtleSA9IGtleTsKICAgICAgICB0aGlzLmVkaXQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBrZXlzID0gdGhpcy4kY2xvbmVEZWVwKHRoaXMuXy5zb3J0QnkodGhpcy5lZGl0S2V5cykpOwogICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3BsaXRLZXkoa2V5c1swXSk7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuc3BsaXRLZXkoa2V5cy5wb3AoKSk7IC8vIOe7k+adn+e8lui+keaooeW8jwoKICAgICAgICB2YXIgdGVtcCA9IHsKICAgICAgICAgIHRvcDogc3RhcnQueSwKICAgICAgICAgIGxlZnQ6IHN0YXJ0LngsCiAgICAgICAgICBib3R0b206IGVuZC55ICsgMSwKICAgICAgICAgIHJpZ2h0OiBlbmQueCArIDEsCiAgICAgICAgICBoZWlnaHQ6IGVuZC55IC0gc3RhcnQueSArIDEsCiAgICAgICAgICB3aWR0aDogZW5kLnggLSBzdGFydC54ICsgMSwKICAgICAgICAgIGltYWdlOiAiLy9kMzAzLnBhaXhpbi5jb20vdGh1bWJzLzE1NjEzNTkvMzc4NDY3MzM4L3N0YWZmXzEwMjQuanBnIgogICAgICAgIH07CiAgICAgICAgdGhpcy5tVmFsdWUucHVzaCh0ZW1wKTsKICAgICAgICB0aGlzLmN1dXJJbmRleCA9IHRoaXMubVZhbHVlLmxlbmd0aCAtIDE7CiAgICAgICAgdGhpcy5lZGl0S2V5cyA9IFtdOwogICAgICAgIHRoaXMuZWRpdCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g56e75Yqo6byg5qCH6K6+572u57yW6L6R5a655ZmoCiAgICBtb3ZlOiBmdW5jdGlvbiBtb3ZlKGUpIHsKICAgICAgaWYgKCF0aGlzLmVkaXQpIHJldHVybjsKICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zcGxpdEtleSh0aGlzLnN0YXJ0S2V5KTsKICAgICAgdmFyIGVuZCA9IHRoaXMuc3BsaXRLZXkoZS50YXJnZXQuZGF0YXNldC5rZXkpOwoKICAgICAgdmFyIHlzID0gdGhpcy5fLnNvcnRCeShbc3RhcnQueSwgZW5kLnldKTsKCiAgICAgIHZhciB4cyA9IHRoaXMuXy5zb3J0QnkoW3N0YXJ0LngsIGVuZC54XSk7IC8vIOWuueWZqOeisOaSnu+8jOmYu+atoue8lui+keWuueWZqOWPmOabtAoKCiAgICAgIGlmICh0aGlzLmFudGlDb2xsaXNpb24oc3RhcnQsIGVuZCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSB5c1swXTsgaSA8PSB5c1sxXTsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IHhzWzBdOyBqIDw9IHhzWzFdOyBqKyspIHsKICAgICAgICAgIGtleXMucHVzaCh0aGlzLm1lcmdlS2V5KGksIGopKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZWRpdEtleXMgPSBrZXlzOwogICAgfSwKICAgIC8vIOmYsueisOaSnueul+azlQogICAgYW50aUNvbGxpc2lvbjogZnVuY3Rpb24gYW50aUNvbGxpc2lvbihzdGFydCwgZW5kKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7CiAgICAgIHRoaXMuJGNsb25lRGVlcCh0aGlzLm1WYWx1ZSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgLS1pdGVtLmJvdHRvbTsKICAgICAgICAtLWl0ZW0ucmlnaHQ7IC8vIOWIpOaWrSB4IOaYr+WQpuacieS6pOmbhgoKICAgICAgICBpZiAoX3RoaXMuJGlzSW50ZXJzZWN0aW9uKF90aGlzLl8uc29ydEJ5KFtzdGFydC54LCBlbmQueF0pLCBbaXRlbS5sZWZ0LCBpdGVtLnJpZ2h0XSkpIHsKICAgICAgICAgIC8vIOWIneWni+eCueWcqOebruagh+Wdl3novbTkuIrmlrks57uT5p2f54K55aSn5LqO562J5LqO55uu5qCH5Z2XdG9w77yM5Y+R55Sf5LqG56Kw5pKeCiAgICAgICAgICBpZiAoc3RhcnQueSA8IGl0ZW0udG9wICYmIGVuZC55ID49IGl0ZW0udG9wKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliJ3lp4vngrnlnKjnm67moIflnZd56L205LiK5pa5LOeisOaSnuS6hiIpOwogICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgfSAvLyDliJ3lp4vngrnlnKjnm67moIflnZd56L205LiL5pa5LOe7k+adn+eCueWwj+S6juetieS6juebruagh+Wdl2JvdHRvbe+8jOWPkeeUn+S6hueisOaSngoKCiAgICAgICAgICBpZiAoc3RhcnQueSA+IGl0ZW0uYm90dG9tICYmIGVuZC55IDw9IGl0ZW0uYm90dG9tKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliJ3lp4vngrnlnKjnm67moIflnZd56L205LiL5pa5LOeisOaSnuS6hiIpOwogICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gLy8g5Yik5patIHkg5piv5ZCm5pyJ5Lqk6ZuGCgoKICAgICAgICBpZiAoX3RoaXMuJGlzSW50ZXJzZWN0aW9uKF90aGlzLl8uc29ydEJ5KFtzdGFydC55LCBlbmQueV0pLCBbaXRlbS50b3AsIGl0ZW0uYm90dG9tXSkpIHsKICAgICAgICAgIC8vIOWIneWni+eCueWcqOebruagh+Wdl3novbTlt6bmlrks57uT5p2f54K55aSn5LqO562J5LqO55uu5qCH5Z2XbGVmdO+8jOWPkeeUn+S6hueisOaSngogICAgICAgICAgaWYgKHN0YXJ0LnggPCBpdGVtLmxlZnQgJiYgZW5kLnggPj0gaXRlbS5sZWZ0KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliJ3lp4vngrnlnKjnm67moIflnZd56L205bem5pa5LOeisOaSnuS6hiIpOwogICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgfSAvLyDliJ3lp4vngrnlnKjnm67moIflnZd56L205LiL5pa5LOe7k+adn+eCueWwj+S6juetieS6juebruagh+Wdl2JvdHRvbe+8jOWPkeeUn+S6hueisOaSngoKCiAgICAgICAgICBpZiAoc3RhcnQueCA+IGl0ZW0ucmlnaHQgJiYgZW5kLnggPD0gaXRlbS5yaWdodCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygi5Yid5aeL54K55Zyo55uu5qCH5Z2Xeei9tOWPs+aWuSznorDmkp7kuoYiKTsKICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIC8vIOWdkOagh+iuoeeul+S4i+aghwogICAgbWVyZ2VLZXk6IGZ1bmN0aW9uIG1lcmdlS2V5KHksIHgpIHsKICAgICAgcmV0dXJuIE51bWJlcih4ICsgeSAqIDEwKTsKICAgIH0sCiAgICAvLyDkuIvmoIfmi4bliIblnZDmoIcKICAgIHNwbGl0S2V5OiBmdW5jdGlvbiBzcGxpdEtleShrZXkpIHsKICAgICAgaWYgKGtleSA+PSAxMCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB5OiBwYXJzZUludChrZXkgJSAxMDAgLyAxMCksCiAgICAgICAgICB4OiBrZXkgJSAxMAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB4OiBOdW1iZXIoa2V5KQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICAvLyDmoLflvI/lpITnkIYKICAgIGdldFN0eWxlOiBmdW5jdGlvbiBnZXRTdHlsZShzdHlsZSkgewogICAgICB2YXIgcmVzdWx0ID0ge307CiAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJlc3VsdFtrZXldID0gc3R5bGVba2V5XSAqIDUwOwoKICAgICAgICBpZiAoWyJ0b3AiLCAibGVmdCJdLmluY2x1ZGVzKGtleSkpIHsKICAgICAgICAgIC0tcmVzdWx0W2tleV07CiAgICAgICAgfQoKICAgICAgICBpZiAoWyJ3aWR0aCIsICJoZWlnaHQiXS5pbmNsdWRlcyhrZXkpKSB7CiAgICAgICAgICArK3Jlc3VsdFtrZXldOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0W2tleV0gKz0gInB4IjsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZGVsZXRlRWRpdFdyYXA6IGZ1bmN0aW9uIGRlbGV0ZUVkaXRXcmFwKGluZGV4KSB7CiAgICAgIHRoaXMubVZhbHVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuY3V1ckluZGV4ID0gdGhpcy5tVmFsdWUubGVuZ3RoIC0gMTsKICAgIH0sCiAgICBjbGlja0l0ZW06IGZ1bmN0aW9uIGNsaWNrSXRlbShpbmRleCkgewogICAgICB0aGlzLmN1dXJJbmRleCA9IGluZGV4OwogICAgfQogIH0KfTs="},{"version":3,"sources":["CapCubeLayout.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 自定义点选布局\r\n * @Autor: WangYuan\r\n * @Date: 2021-06-02 14:18:38\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-01-27 19:43:28\r\n-->\r\n<template>\r\n  <div class=\"wrap\">\r\n\r\n    <!-- 布局容器 -->\r\n    <ul\r\n      v-for=\"y in ys\"\r\n      :key=\"y\"\r\n      class=\"flex\"\r\n    >\r\n      <li\r\n        v-for=\"x in xs\"\r\n        :key=\"mergeKey(y,x)\"\r\n        :data-key='mergeKey(y,x)'\r\n        :data-y='y'\r\n        :data-x='x'\r\n        class=\"wrap-item flex-center\"\r\n        :class=\"[editKeys.includes(mergeKey(y,x)) ? 'move-wrap':'']\"\r\n        @click='clickWrap($event)'\r\n        @mouseover='move'\r\n      >\r\n        <i class=\"f12 icon icon-jia\"></i>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- 编辑容器块 -->\r\n    <div\r\n      v-for=\"(item,index) in mValue\"\r\n      :key=\"index\"\r\n      class=\"edit-wrap flex-column flex-center\"\r\n      :class=\"[cuurIndex == index ? 'edit-wrap-active' : '']\"\r\n      :style=\"getStyle(item)\"\r\n      @click=\"clickItem(index)\"\r\n    >\r\n      <div\r\n        v-show=\"model=='custom'\"\r\n        class=\"edit-wrap-close\"\r\n        @click.stop=\"deleteEditWrap(index)\"\r\n      >\r\n        <i class=\"f12 icon icon-cha-\"></i>\r\n      </div>\r\n      <div class=\"mb3\">{{`${parseInt(item.width*62.5)}x${parseInt(item.height*62.5)}`}}</div>\r\n      <div v-show=\"item.width > 1\">或同等比例</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"custom-layout\",\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    model: {\r\n      type: String,\r\n      default: \"custom\",\r\n    },\r\n    row: {\r\n      type: Number,\r\n      default: 10,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      startKey: 0,\r\n      cuurIndex: -1,\r\n      col: 6,\r\n      edit: false, // 编辑模式\r\n      ys: [],\r\n      mValue: [],\r\n      editKeys: [], // 编辑key集合\r\n    };\r\n  },\r\n  computed: {\r\n    xs() {\r\n      return [...Array(this.col).keys()];\r\n    },\r\n  },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue, oldValue) {\r\n        this.mValue = newValue;\r\n      },\r\n    },\r\n    mValue: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue, oldValue) {\r\n        this.$emit(\"input\", newValue);\r\n      },\r\n    },\r\n    row: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.ys = [...Array(this.row).keys()];\r\n      },\r\n    },\r\n    cuurIndex: {\r\n      handler(newValue, oldValue) {\r\n        console.log('...');\r\n        \r\n        console.log(newValue);\r\n        \r\n        let temp = newValue == -1 ? undefined : this.mValue[newValue];\r\n        this.$emit(\"onCuurIndex\", temp);\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    // 重置容器\r\n    reset() {\r\n      this.startKey = 0;\r\n      this.cuurIndex = -1;\r\n      this.edit = false;\r\n      this.mValue = [];\r\n      this.editKeys = [];\r\n    },\r\n\r\n    // 点击单元块\r\n    clickWrap(e) {\r\n      // 开始编辑模式\r\n      if (!this.edit) {\r\n        let key = e.target.dataset.key;\r\n        this.editKeys.push(Number(key));\r\n        this.startKey = key;\r\n        this.edit = true;\r\n      } else {\r\n        let keys = this.$cloneDeep(this._.sortBy(this.editKeys));\r\n        let start = this.splitKey(keys[0]);\r\n        let end = this.splitKey(keys.pop());\r\n\r\n        // 结束编辑模式\r\n        let temp = {\r\n          top: start.y,\r\n          left: start.x,\r\n          bottom: end.y + 1,\r\n          right: end.x + 1,\r\n          height: end.y - start.y + 1,\r\n          width: end.x - start.x + 1,\r\n          image: \"//d303.paixin.com/thumbs/1561359/378467338/staff_1024.jpg\",\r\n        };\r\n\r\n        this.mValue.push(temp);\r\n        this.cuurIndex = this.mValue.length - 1;\r\n\r\n        this.editKeys = [];\r\n        this.edit = false;\r\n      }\r\n    },\r\n\r\n    // 移动鼠标设置编辑容器\r\n    move(e) {\r\n      if (!this.edit) return;\r\n\r\n      let keys = [];\r\n      let start = this.splitKey(this.startKey);\r\n      let end = this.splitKey(e.target.dataset.key);\r\n      let ys = this._.sortBy([start.y, end.y]);\r\n      let xs = this._.sortBy([start.x, end.x]);\r\n\r\n      // 容器碰撞，阻止编辑容器变更\r\n      if (this.antiCollision(start, end)) {\r\n        return;\r\n      }\r\n\r\n      for (let i = ys[0]; i <= ys[1]; i++) {\r\n        for (let j = xs[0]; j <= xs[1]; j++) {\r\n          keys.push(this.mergeKey(i, j));\r\n        }\r\n      }\r\n\r\n      this.editKeys = keys;\r\n    },\r\n\r\n    // 防碰撞算法\r\n    antiCollision(start, end) {\r\n      let result = false;\r\n\r\n      this.$cloneDeep(this.mValue).map((item) => {\r\n        --item.bottom;\r\n        --item.right;\r\n\r\n        // 判断 x 是否有交集\r\n        if (\r\n          this.$isIntersection(this._.sortBy([start.x, end.x]), [\r\n            item.left,\r\n            item.right,\r\n          ])\r\n        ) {\r\n          // 初始点在目标块y轴上方,结束点大于等于目标块top，发生了碰撞\r\n          if (start.y < item.top && end.y >= item.top) {\r\n            console.log(\"初始点在目标块y轴上方,碰撞了\");\r\n            result = true;\r\n          }\r\n          // 初始点在目标块y轴下方,结束点小于等于目标块bottom，发生了碰撞\r\n          if (start.y > item.bottom && end.y <= item.bottom) {\r\n            console.log(\"初始点在目标块y轴下方,碰撞了\");\r\n            result = true;\r\n          }\r\n        }\r\n\r\n        // 判断 y 是否有交集\r\n        if (\r\n          this.$isIntersection(this._.sortBy([start.y, end.y]), [\r\n            item.top,\r\n            item.bottom,\r\n          ])\r\n        ) {\r\n          // 初始点在目标块y轴左方,结束点大于等于目标块left，发生了碰撞\r\n          if (start.x < item.left && end.x >= item.left) {\r\n            console.log(\"初始点在目标块y轴左方,碰撞了\");\r\n            result = true;\r\n          }\r\n          // 初始点在目标块y轴下方,结束点小于等于目标块bottom，发生了碰撞\r\n          if (start.x > item.right && end.x <= item.right) {\r\n            console.log(\"初始点在目标块y轴右方,碰撞了\");\r\n            result = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      return result;\r\n    },\r\n\r\n    // 坐标计算下标\r\n    mergeKey(y, x) {\r\n      return Number(x + y * 10);\r\n    },\r\n\r\n    // 下标拆分坐标\r\n    splitKey(key) {\r\n      if (key >= 10) {\r\n        return { y: parseInt((key % 100) / 10), x: key % 10 };\r\n      } else {\r\n        return { y: 0, x: Number(key) };\r\n      }\r\n    },\r\n\r\n    // 样式处理\r\n    getStyle(style) {\r\n      let result = {};\r\n      Object.keys(style).map((key) => {\r\n        result[key] = style[key] * 50;\r\n\r\n        if ([\"top\", \"left\"].includes(key)) {\r\n          --result[key];\r\n        }\r\n        if ([\"width\", \"height\"].includes(key)) {\r\n          ++result[key];\r\n        }\r\n        result[key] += \"px\";\r\n      });\r\n\r\n      return result;\r\n    },\r\n\r\n    deleteEditWrap(index) {\r\n      this.mValue.splice(index, 1);\r\n      this.cuurIndex = this.mValue.length - 1;\r\n    },\r\n\r\n    clickItem(index) {\r\n      this.cuurIndex = index;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrap {\r\n  position: relative;\r\n  display: inline-block;\r\n  border-top: 1px solid #e5e5e5;\r\n  border-left: 1px solid #e5e5e5;\r\n\r\n  .wrap-item {\r\n    width: 50px; /* no */\r\n    height: 50px; /* no */\r\n    background: #f8f8f8;\r\n    // border: 1px solid #e5e5e5;\r\n    border-bottom: 1px solid #e5e5e5;\r\n    border-right: 1px solid #e5e5e5;\r\n\r\n    color: #bbb;\r\n    cursor: pointer;\r\n\r\n    i {\r\n      pointer-events: none;\r\n    }\r\n  }\r\n\r\n  .move-wrap {\r\n    background: #e0edff;\r\n\r\n    i {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .edit-wrap {\r\n    position: absolute;\r\n    background-color: #fff;\r\n    border: 1px solid #ebedf0;\r\n    font-size: 10px;\r\n    color: #7d7e80;\r\n    z-index: 2;\r\n    cursor: pointer;\r\n\r\n    .edit-wrap-close {\r\n      display: none;\r\n      position: absolute;\r\n      top: -8px;\r\n      right: -8px;\r\n      width: 16px;\r\n      height: 16px;\r\n      line-height: 16px;\r\n      border-radius: 50%;\r\n      background: #b3b3b3;\r\n      color: #fff;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      z-index: 4;\r\n    }\r\n  }\r\n\r\n  .edit-wrap-active {\r\n    background: #e0edff;\r\n    border: 1px solid #155bd4;\r\n    color: #155bd4;\r\n    z-index: 5;\r\n\r\n    &:hover {\r\n      .edit-wrap-close {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/custom-schema-template/components/SchemaCapCube"}]}