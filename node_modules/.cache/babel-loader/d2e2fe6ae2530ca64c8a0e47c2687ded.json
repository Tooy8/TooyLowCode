{"remainingRequest":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\components\\Control\\ControlPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\components\\Control\\ControlPanel.vue","mtime":1694493283594},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU1RjAwXHU2RTkwXHU5ODc5XHU3NkVFL1Rvb3ktTG93Q29kZS9sb3dDb2RlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ29udHJvbFdpZGdldFNoYXBlIGZyb20gIi4vQ29udHJvbFdpZGdldFNoYXBlLnZ1ZSI7CmltcG9ydCBnbG9iYWwgZnJvbSAiQC9jb25maWcvZ2xvYmFsIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb250cm9sV2lkZ2V0U2hhcGU6IENvbnRyb2xXaWRnZXRTaGFwZQogIH0sCiAgaW5qZWN0OiBbImNvbnRyb2wiXSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coIuWIm+W7uumhtemdoiIpOwogICAgdGhpcy5pbml0SWZyYW1lID0gdHJ1ZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbnRyb2wuaDVJZnJhbWUgPSB0aGlzLiRyZWZzLmlmcmFtZTsKICAgIHRoaXMuZ2V0TWVzc2FnZSgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBjb25zb2xlLmxvZygi5rOo6ZSA6aG16Z2iIik7CiAgICB0aGlzLmluaXRJZnJhbWUgPSBmYWxzZTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgdGhpcy5nZXRNZXNzYWdlSGFuZGxlKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aWRnZXRJbmZvTGlzdDogW10sCiAgICAgIGlmcmFtZUhlaWdodDogNjY3LAogICAgICBpbml0SWZyYW1lOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJwcm9qZWN0Il0pKSwge30sIHsKICAgIGlmcmFtZVVybDogZnVuY3Rpb24gaWZyYW1lVXJsKCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KGdsb2JhbC52aWV3VXJsLCAicGFnZXMvYnVpbGQvYnVpbGQ/b3BlcmF0ZT1idWlsZCIpOwogICAgfQogIH0pLAogIC8vIOebkeWQrOeJqeaWmeWIl+ihqOWPkeeUn+WPmOWMlu+8jOmAmuefpWlmcmFtZeWQjOatpeabtOaWsAogIHdhdGNoOiB7CiAgICAiY29udHJvbC5jdXJQYWdlLmNvbXBvbmVudExpc3QiOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlTGlzdCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlj5HpgIHkv6Hmga/vvIzlkIzmraXliJ3lp4vljJZpZnJhbWUKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLliJ3lp4vljJYuLi4iKTsKICAgICAgdGhpcy5tZXNzYWdlSW5pdCgpOwogICAgICB0aGlzLm1lc3NhZ2VMaXN0KCk7CiAgICB9LAogICAgLy8g5o6l5pS2aWZyYW1l5L+h5oGvCiAgICBnZXRNZXNzYWdlOiBmdW5jdGlvbiBnZXRNZXNzYWdlKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIHRoaXMuZ2V0TWVzc2FnZUhhbmRsZSk7CiAgICB9LAogICAgZ2V0TWVzc2FnZUhhbmRsZTogZnVuY3Rpb24gZ2V0TWVzc2FnZUhhbmRsZShlKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIF9lJGRhdGEgPSBlLmRhdGEsCiAgICAgICAgICB0eXBlID0gX2UkZGF0YS50eXBlLAogICAgICAgICAgcGFyYW1zID0gX2UkZGF0YS5wYXJhbXM7CgogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICJzZXRMaXN0IjoKICAgICAgICAgIHNlbGYuc2V0TGlzdChwYXJhbXMpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInNldEhlaWdodCI6CiAgICAgICAgICBzZWxmLnNldEhlaWdodChwYXJhbXMpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInNldEN1cnJXaWRnZXQiOgogICAgICAgICAgc2VsZi5zZXRDdXJyV2lkZ2V0KHBhcmFtcyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8vIOiuvue9rumhtemdoumrmOW6pgogICAgc2V0SGVpZ2h0OiBmdW5jdGlvbiBzZXRIZWlnaHQocGFyYW1zKSB7CiAgICAgIHRoaXMud2lkZ2V0SW5mb0xpc3QgPSBwYXJhbXM7CiAgICAgIHRoaXMuaWZyYW1lSGVpZ2h0ID0gdGhpcy53aWRnZXRJbmZvTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYSArIGIuaGVpZ2h0OwogICAgICB9LCAwKTsgLy8gY29uc29sZS5sb2coYOW9k+WJjemrmOW6pu+8miR7dGhpcy5pZnJhbWVIZWlnaHR9YCk7CiAgICB9LAogICAgLy8gaWZyYW1l5YaF54mp5paZ5YiX6KGo5Y+R55Sf5Y+Y5YyW77yM5ZCM5q2l5pu05pawCiAgICBzZXRMaXN0OiBmdW5jdGlvbiBzZXRMaXN0KHBhcmFtcykgewogICAgICBjb25zb2xlLmxvZygiIGlmcmFtZeWGheeJqeaWmeWIl+ihqOWPkeeUn+WPmOWMlu+8jOWQjOatpeabtOaWsCIpOwogICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRyb2wuY3VyUGFnZS5uYW1lKTsKICAgICAgdmFyIGxpc3QgPSBwYXJhbXMubGlzdDsKICAgICAgdGhpcy5jb250cm9sLmN1clBhZ2UuY29tcG9uZW50TGlzdCA9IGxpc3Q7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvamVjdCk7CiAgICB9LAogICAgLy8g6K6+572u6YCJ5Lit54mp5paZCiAgICBzZXRDdXJyV2lkZ2V0OiBmdW5jdGlvbiBzZXRDdXJyV2lkZ2V0KHBhcmFtcykgewogICAgICB2YXIgaWQgPSBwYXJhbXMuaWQ7CiAgICAgIHRoaXMuY29udHJvbC5jdXJXaWRnZXQgPSB0aGlzLmNvbnRyb2wuY3VyUGFnZS5jb21wb25lbnRMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaWQgPT0gaXRlbS5pZDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS56YCJ5Lit54mp5paZ77yM5bm26YCa55+laWZyYW1l77yM5ZCM5q2l5pu05pawCiAgICBjaGFuZ2VDdXJyV2lkZ2V0OiBmdW5jdGlvbiBjaGFuZ2VDdXJyV2lkZ2V0KHdpZGdldCkgewogICAgICB0aGlzLnNldEN1cnJXaWRnZXQod2lkZ2V0KTsKICAgICAgdGhpcy4kcmVmcy5pZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7CiAgICAgICAgZXZlbjogImNoYW5nZUN1cnJXaWRnZXQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHdpZGdldC5pZAogICAgICAgIH0KICAgICAgfSwgIioiKTsKICAgIH0sCiAgICAvLyDosIPnlKjnianmlpnmi5bmi73np7vliqgo6IqC5rWBKQogICAgbGF5ZXJNb3ZlOiBmdW5jdGlvbiBsYXllck1vdmUoZSwgaW5kZXgpIHsKICAgICAgdGhpcy50aHJvdHRsZSh0aGlzLmxheWVyTW92ZUZ1biwgMSkoZSwgaW5kZXgpOwogICAgfSwKICAgIC8vIOeJqeaWmeaLluaLveenu+WKqCzmjqfliLZ3YWl0aW5n56e75YqoCiAgICBsYXllck1vdmVGdW46IGZ1bmN0aW9uIGxheWVyTW92ZUZ1bihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgY29uc29sZS5sb2coIueJqeaWmeaLluaLveenu+WKqCzmjqfliLZ3YWl0aW5n56e75YqoIik7CiAgICAgIGlmICghdGhpcy5jb250cm9sLmRyYWdzdGF0dXMpIHJldHVybjsKICAgICAgdmFyIHR5cGUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoInR5cGUiKTsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICB0eXBlOiAicGFnZSIKICAgICAgfTsKCiAgICAgIGlmICh0eXBlID09ICJ3aWRnZXQiKSB7CiAgICAgICAgdmFyIF9yZWYgPSBbZS5vZmZzZXRZLCBlLnRhcmdldC5vZmZzZXRIZWlnaHRdLAogICAgICAgICAgICB5ID0gX3JlZlswXSwKICAgICAgICAgICAgaCA9IF9yZWZbMV07CiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgaWQ6IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaWQiKSwKICAgICAgICAgIHR5cGU6ICJ3aWRnZXQiLAogICAgICAgICAgZGlyZWN0aW9uOiB5IDwgaCAvIDIKICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLiRyZWZzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHsKICAgICAgICBldmVuOiAibW92ZSIsCiAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgfSwgIioiKTsKICAgIH0sCiAgICAvLyDlj5HpgIHkv6Hmga/vvIzlvZPliY3llYbln47phY3nva7mlbDmja4KICAgIG1lc3NhZ2VJbml0OiBmdW5jdGlvbiBtZXNzYWdlSW5pdCgpIHsKICAgICAgdGhpcy4kcmVmcy5pZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7CiAgICAgICAgZXZlbjogImluaXQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0CiAgICAgICAgfQogICAgICB9LCAiKiIpOwogICAgfSwKICAgIC8vIOWPkemAgeS/oeaBr++8jOWQjOatpWlmcmFtZeenjeeJqeaWmeaVsOe7hAogICAgbWVzc2FnZUxpc3Q6IGZ1bmN0aW9uIG1lc3NhZ2VMaXN0KCkgewogICAgICBjb25zb2xlLmxvZygi5Y+R6YCB5L+h5oGv77yM5ZCM5q2laWZyYW1l56eN54mp5paZ5pWw57uEIik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udHJvbC5jdXJQYWdlKTsKICAgICAgY29uc29sZS5sb2codGhpcy5jb250cm9sLmN1clBhZ2UuY29tcG9uZW50TGlzdCk7CiAgICAgIHRoaXMuJHJlZnMuaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoewogICAgICAgIGV2ZW46ICJsaXN0IiwKICAgICAgICBwYXJhbXM6IHRoaXMuY29udHJvbC5jdXJQYWdlLmNvbXBvbmVudExpc3QKICAgICAgfSwgIioiKTsKICAgIH0sCiAgICAvLyDoioLmtYEKICAgIHRocm90dGxlOiBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0KSB7CiAgICAgIHZhciB0aW1lb3V0OwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50czsKCiAgICAgICAgaWYgKCF0aW1lb3V0KSB7CiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsOwogICAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpOwogICAgICAgICAgfSwgd2FpdCk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["ControlPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 面板\r\n\r\n-->\r\n<template>\r\n  <div class=\"panel\">\r\n    <phone-ctn>\r\n      <div class=\"page\">\r\n        <iframe v-if=\"initIframe\" ref=\"iframe\" class=\"page-iframe\" frameborder=\"no\" :style=\"{\r\n          height: iframeHeight + 'px',\r\n          pointerEvents: control.dragstatus ? 'none' : 'auto',\r\n        }\" :src=\"iframeUrl\" @load=\"init\"></iframe>\r\n\r\n        <!-- 拖拽与iframe交互蒙层 -->\r\n        <div class=\"page-layer\" type=\"page\" :style=\"{\r\n          height: iframeHeight + 'px',\r\n          zIndex: control.dragstatus ? '20' : '1',\r\n        }\" @dragover=\"layerMove\">\r\n          <control-widget-shape v-for=\"item in widgetInfoList\" :key=\"item.id\" :data=\"item\"\r\n            @changeCurrWidget=\"changeCurrWidget\">\r\n            <div ref=\"layerWidget\" class=\"page-layer-widget\" type=\"widget\" :id=\"item.id\"\r\n              :style=\"{ height: item.height + 'px' }\"></div>\r\n          </control-widget-shape>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 页面设置 -->\r\n      <el-tooltip effect=\"light\" content=\"页面设置\" placement=\"bottom\">\r\n        <div class=\"panel-set flex-center\" @click=\"control.curWidget = undefined\">\r\n          <i class=\"el-icon-setting\"></i>\r\n        </div>\r\n      </el-tooltip>\r\n    </phone-ctn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ControlWidgetShape from \"./ControlWidgetShape.vue\";\r\nimport global from \"@/config/global\";\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: { ControlWidgetShape },\r\n\r\n  inject: [\"control\"],\r\n\r\n  created() {\r\n    console.log(\"创建页面\");\r\n\r\n    this.initIframe = true;\r\n  },\r\n\r\n  mounted() {\r\n    this.control.h5Iframe = this.$refs.iframe;\r\n    this.getMessage();\r\n  },\r\n\r\n  destroyed() {\r\n    console.log(\"注销页面\");\r\n\r\n    this.initIframe = false;\r\n    window.removeEventListener(\"message\", this.getMessageHandle);\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      widgetInfoList: [],\r\n      iframeHeight: 667,\r\n      initIframe: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n\r\n    iframeUrl() {\r\n      return `${global.viewUrl}pages/build/build?operate=build`;\r\n    },\r\n  },\r\n\r\n  // 监听物料列表发生变化，通知iframe同步更新\r\n  watch: {\r\n    \"control.curPage.componentList\": {\r\n      handler() {\r\n        this.messageList();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 发送信息，同步初始化iframe\r\n    init() {\r\n      console.log(\"初始化...\");\r\n\r\n      this.messageInit();\r\n      this.messageList();\r\n    },\r\n\r\n    // 接收iframe信息\r\n    getMessage() {\r\n      window.addEventListener(\"message\", this.getMessageHandle);\r\n    },\r\n\r\n    getMessageHandle(e) {\r\n      let self = this;\r\n      let { type, params } = e.data;\r\n      switch (type) {\r\n        case \"setList\":\r\n          self.setList(params);\r\n          break;\r\n        case \"setHeight\":\r\n          self.setHeight(params);\r\n          break;\r\n        case \"setCurrWidget\":\r\n          self.setCurrWidget(params);\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 设置页面高度\r\n    setHeight(params) {\r\n      this.widgetInfoList = params;\r\n      this.iframeHeight = this.widgetInfoList.reduce((a, b) => a + b.height, 0);\r\n      // console.log(`当前高度：${this.iframeHeight}`);\r\n    },\r\n\r\n    // iframe内物料列表发生变化，同步更新\r\n    setList(params) {\r\n      console.log(\" iframe内物料列表发生变化，同步更新\");\r\n      console.log(params);\r\n      console.log(this.control.curPage.name);\r\n\r\n      let { list } = params;\r\n      this.control.curPage.componentList = list;\r\n      console.log(this.project);\r\n    },\r\n\r\n    // 设置选中物料\r\n    setCurrWidget(params) {\r\n      let { id } = params;\r\n      this.control.curWidget = this.control.curPage.componentList.find(\r\n        (item) => id == item.id\r\n      );\r\n    },\r\n\r\n    // 修改选中物料，并通知iframe，同步更新\r\n    changeCurrWidget(widget) {\r\n      this.setCurrWidget(widget);\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"changeCurrWidget\",\r\n          params: { id: widget.id },\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 调用物料拖拽移动(节流)\r\n    layerMove(e, index) {\r\n      this.throttle(this.layerMoveFun, 1)(e, index);\r\n    },\r\n\r\n    // 物料拖拽移动,控制waiting移动\r\n    layerMoveFun(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      console.log(\"物料拖拽移动,控制waiting移动\");\r\n\r\n      if (!this.control.dragstatus) return;\r\n\r\n      let type = e.target.getAttribute(\"type\");\r\n      let params = {\r\n        type: \"page\",\r\n      };\r\n\r\n      if (type == \"widget\") {\r\n        let [y, h] = [e.offsetY, e.target.offsetHeight];\r\n        params = {\r\n          id: e.target.getAttribute(\"id\"),\r\n          type: \"widget\",\r\n          direction: y < h / 2,\r\n        };\r\n      }\r\n\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"move\",\r\n          params,\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 发送信息，当前商城配置数据\r\n    messageInit() {\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"init\",\r\n          params: { project: this.project },\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 发送信息，同步iframe种物料数组\r\n    messageList() {\r\n      console.log(\"发送信息，同步iframe种物料数组\");\r\n      console.log(this.control.curPage);\r\n\r\n      console.log(this.control.curPage.componentList);\r\n\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"list\",\r\n          params: this.control.curPage.componentList,\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 节流\r\n    throttle(func, wait) {\r\n      let timeout;\r\n      return function () {\r\n        let context = this;\r\n        let args = arguments;\r\n        if (!timeout) {\r\n          timeout = setTimeout(() => {\r\n            timeout = null;\r\n            func.apply(context, args);\r\n          }, wait);\r\n        }\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.panel {\r\n  position: absolute;\r\n  left: 176px;\r\n  /*no*/\r\n  right: 360px;\r\n  /*no*/\r\n  height: calc(100% - 56px);\r\n  /*no*/\r\n  overflow: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n    /* Chrome Safari */\r\n  }\r\n\r\n  .panel-set {\r\n    position: absolute;\r\n    top: 10px;\r\n    left: -70px;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n\r\n    i {\r\n      font-size: 22px;\r\n      color: #b0afb2;\r\n    }\r\n  }\r\n\r\n  .page {\r\n    position: relative;\r\n    font-size: 0;\r\n\r\n    .page-iframe {\r\n      position: relative;\r\n      width: 100%;\r\n      z-index: 10;\r\n    }\r\n\r\n    .page-layer {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      min-height: 667px;\r\n      // background: cornflowerblue;\r\n\r\n      .page-layer-widget {\r\n        width: 100%;\r\n        z-index: 99999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/Control"}]}