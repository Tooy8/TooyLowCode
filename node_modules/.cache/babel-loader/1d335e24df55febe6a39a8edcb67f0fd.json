{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\components\\QrDialog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\components\\QrDialog\\index.vue","mtime":1693619752156},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBjcmVhdGVXWGNvZGUgfSBmcm9tICJAL2FwaS9wcm9qZWN0IjsKaW1wb3J0IGdsb2JhbCBmcm9tICJAL2NvbmZpZy9nbG9iYWwiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBXWENvZGU6ICIiLAogICAgICB1cmw6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJwcm9qZWN0Il0pKSwKICBtZXRob2RzOiB7CiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgICB0aGlzLmdldFdYUXIoKTsKICAgIH0sCiAgICBnZXRRcjogZnVuY3Rpb24gZ2V0UXIoKSB7CiAgICAgIHRoaXMudXJsID0gIiIuY29uY2F0KGdsb2JhbC52aWV3VXJsLCAicGFnZXMvaW5kZXgvdGFiYmFyL2hvbWU/aWQ9IikuY29uY2F0KHRoaXMucHJvamVjdC5pZCk7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIHBhZGRpbmc6IDEwLAogICAgICAgIC8vIOS6jOe7tOeggeWbm+i+ueepuueZve+8iOm7mOiupOS4ujEwcHjvvIkKICAgICAgICB3aWR0aDogMTYwLAogICAgICAgIC8vIOS6jOe7tOeggeWbvueJh+WuveW6pu+8iOm7mOiupOS4ujI1NnB477yJCiAgICAgICAgaGVpZ2h0OiAxNjAsCiAgICAgICAgLy8g5LqM57u056CB5Zu+54mH6auY5bqm77yI6buY6K6k5Li6MjU2cHjvvIkKICAgICAgICByZXZlcnNlOiBmYWxzZSwKICAgICAgICAvLyDlj43oibLkuoznu7TnoIHvvIzkuoznu7TnoIHpopzoibLkuLrkuIrlsYLlrrnlmajnmoTog4zmma/popzoibIKICAgICAgICBiYWNrZ3JvdW5kOiAiI2ZmZmZmZiIsCiAgICAgICAgLy8g5LqM57u056CB6IOM5pmv6aKc6Imy77yI6buY6K6k55m96Imy77yJCiAgICAgICAgZm9yZWdyb3VuZDogIiMwMDAwMDAiIC8vIOS6jOe7tOeggeminOiJsu+8iOm7mOiupOm7keiJsu+8iQoKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coIumihOiniOWcsOWdgDoiICsgdGhpcy51cmwpOwogICAgICByZXR1cm4ganJRcmNvZGUuZ2V0UXJCYXNlNjQodGhpcy51cmwsIG9wdGlvbnMpOwogICAgfSwKICAgIGdldFdYUXI6IGZ1bmN0aW9uIGdldFdYUXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkY3JlYXRlV1hjb2RlLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVXWGNvZGUoewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMucHJvamVjdC5pZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRjcmVhdGVXWGNvZGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRjcmVhdGVXWGNvZGUuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLldYQ29kZSA9IGRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCkgewogICAgICB3aW5kb3cub3Blbih0aGlzLnVybCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,YAAA,QAAA,eAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CATA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,OAAA;AACA,KAJA;AAMA,IAAA,KANA,mBAMA;AACA,WAAA,GAAA,aAAA,MAAA,CAAA,OAAA,wCAAA,KAAA,OAAA,CAAA,EAAA;AAEA,UAAA,OAAA,GAAA;AACA,QAAA,OAAA,EAAA,EADA;AACA;AACA,QAAA,KAAA,EAAA,GAFA;AAEA;AACA,QAAA,MAAA,EAAA,GAHA;AAGA;AACA,QAAA,OAAA,EAAA,KAJA;AAIA;AACA,QAAA,UAAA,EAAA,SALA;AAKA;AACA,QAAA,UAAA,EAAA,SANA,CAMA;;AANA,OAAA;AAQA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,KAAA,GAAA;AACA,aAAA,QAAA,CAAA,WAAA,CAAA,KAAA,GAAA,EAAA,OAAA,CAAA;AACA,KAnBA;AAqBA,IAAA,OArBA,qBAqBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,YAAA,CAAA;AAAA,kBAAA,EAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,IADA,uBACA,IADA;AAEA,gBAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAxBA;AA0BA,IAAA,IA1BA,kBA0BA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA;AACA;AA5BA;AAbA,CAAA","sourcesContent":["<!--\r\n * @Description: What's this for\r\n * @Autor: WangYuan\r\n * @Date: 2022-02-07 09:18:48\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-04-13 17:33:39\r\n-->\r\n<template>\r\n  <el-dialog title=\"二维码预览\" :visible.sync=\"show\" width=\"30%\">\r\n    <ul class=\"flex row-around pt20\">\r\n      <li>\r\n        <div class=\"flex-column row-center mb20\">\r\n          <img class=\"w200 h200 mb20\" :src=\"getQr()\" />\r\n          <span class=\"lb-1 f-h5-grey\">请扫码预览H5商城</span>\r\n        </div>\r\n      </li>\r\n      <li>\r\n        <div class=\"flex-column row-center\">\r\n          <img class=\"w200 h200 mb20\" :src=\"WXCode\" />\r\n          <span class=\"lb-1 f-h5-grey\">请扫码预览小程序商城</span>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"mt40\">\r\n      <el-input placeholder=\"请输入内容\" v-model=\"url\">\r\n        <template slot=\"append\"\r\n          ><el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-link\"\r\n            @click=\"link\"\r\n          ></el-button\r\n        ></template>\r\n      </el-input>\r\n      <h3 class=\"mt5 mb10 f12 f-h5-grey\">H5商城链接，可跳转直接在浏览器查看</h3>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { createWXcode } from \"@/api/project\";\r\nimport global from \"@/config/global\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      WXCode: \"\",\r\n      url: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  methods: {\r\n    open() {\r\n      this.show = true;\r\n      this.getWXQr();\r\n    },\r\n\r\n    getQr() {\r\n      this.url = `${global.viewUrl}pages/index/tabbar/home?id=${this.project.id}`;\r\n\r\n      let options = {\r\n        padding: 10, // 二维码四边空白（默认为10px）\r\n        width: 160, // 二维码图片宽度（默认为256px）\r\n        height: 160, // 二维码图片高度（默认为256px）\r\n        reverse: false, // 反色二维码，二维码颜色为上层容器的背景颜色\r\n        background: \"#ffffff\", // 二维码背景颜色（默认白色）\r\n        foreground: \"#000000\", // 二维码颜色（默认黑色）\r\n      };\r\n      console.log(\"预览地址:\" + this.url);\r\n      return jrQrcode.getQrBase64(this.url, options);\r\n    },\r\n\r\n    async getWXQr() {\r\n      let { data } = await createWXcode({ id: this.project.id });\r\n      this.WXCode = data;\r\n    },\r\n\r\n    link() {\r\n      window.open(this.url);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-dialog__header {\r\n  display: none !important;\r\n}\r\n</style>"],"sourceRoot":"src/components/QrDialog"}]}