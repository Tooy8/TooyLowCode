{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\goods-manager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\goods-manager\\index.vue","mtime":1693619752180},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRHb29kc0xpc3QsIGNvcHlHb29kcyB9IGZyb20gIkAvYXBpL2dvb2RzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJnb29kc01hbmFnZXIiLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsicHJvamVjdCJdKSksCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRnZXRHb29kc0xpc3QsIHN0YXR1cywgbGlzdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0R29vZHNMaXN0KHsKICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBfdGhpcy5wcm9qZWN0LmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldEdvb2RzTGlzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfeWllbGQkZ2V0R29vZHNMaXN0LnN0YXR1czsKICAgICAgICAgICAgICAgIGxpc3QgPSBfeWllbGQkZ2V0R29vZHNMaXN0Lmxpc3Q7CiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICIxMDAwMCIpIF90aGlzLmxpc3QgPSBsaXN0OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiZ29vZHMtZWRpdCIKICAgICAgfSk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChwYXJhbXMpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJnb29kcy1lZGl0IiwKICAgICAgICBwYXJhbXM6IHRoaXMuJGNsb25lRGVlcChwYXJhbXMpCiAgICAgIH0pOwogICAgfSwKICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkY29weUdvb2RzLCBzdGF0dXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gY29weUdvb2RzKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkY29weUdvb2RzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfeWllbGQkY29weUdvb2RzLnN0YXR1czsKCiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICIxMDAwMCIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWVhuWTgeWkjeWItuaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,YAAA,EAAA,SAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAGA,EAAA,OAHA,qBAGA;AACA,SAAA,OAAA;AACA,GALA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAaA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CAbA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,YAAA,CAAA;AAAA,kBAAA,SAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,MADA,uBACA,MADA;AACA,gBAAA,IADA,uBACA,IADA;AAEA,oBAAA,MAAA,IAAA,OAAA,EAAA,KAAA,CAAA,IAAA,GAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAMA,IAAA,GANA,iBAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KARA;AAUA,IAAA,IAVA,gBAUA,MAVA,EAUA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,YADA;AAEA,QAAA,MAAA,EAAA,KAAA,UAAA,CAAA,MAAA;AAFA,OAAA;AAIA,KAfA;AAiBA,IAAA,IAjBA,gBAiBA,IAjBA,EAiBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,SAAA,CAAA,IAAA,CADA;;AAAA;AAAA;AACA,gBAAA,MADA,oBACA,MADA;;AAGA,oBAAA,MAAA,IAAA,OAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA;AACA,oBAAA,KAAA,EAAA,IADA;AAEA,oBAAA,OAAA,EAAA,QAFA;AAGA,oBAAA,IAAA,EAAA;AAHA,mBAAA;AAKA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AA5BA;AAjBA,CAAA","sourcesContent":["<!--\r\n * @Description: 商品管理\r\n * @Autor: WangYuan\r\n * @Date: 2021-08-16 16:46:55\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2021-12-08 20:50:29\r\n-->\r\n<template>\r\n  <div class=\"m20 p20 bg-white\">\r\n    <div class=\"mb20\">\r\n      <el-button\r\n        size='small'\r\n        class='f-white bg-theme'\r\n        @click=\"add\"\r\n      >发布商品</el-button>\r\n    </div>\r\n\r\n    <!-- 表格 -->\r\n    <div class=\"mt30\">\r\n      <el-table\r\n        :data=\"list\"\r\n        :header-cell-style=\"{background:'#f7f8fa',color:'#323233',fontWeight:500}\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"商品名\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"商品封面\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              class=\"w50 h50\"\r\n              :src=\"scope.row.cover\"\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"price\"\r\n          label=\"价格（元）\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.price | moneyDec}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"originalPrice\"\r\n          label=\"原价（元）\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.originalPrice | moneyDec}}\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column\r\n          prop=\"inventory\"\r\n          label=\"库存\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n        </el-table-column> -->\r\n\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <span\r\n              class=\"mr5 f-theme pointer\"\r\n              @click=\"edit(scope.row)\"\r\n            >编辑</span>\r\n            <span\r\n              class=\"ml5 mr5 f-theme pointer\"\r\n              @click=\"copy(scope.row)\"\r\n            >复制</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoodsList, copyGoods } from \"@/api/goods\";\r\n\r\nexport default {\r\n  name: \"goodsManager\",\r\n\r\n  created() {\r\n    this.getList();\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  methods: {\r\n    async getList() {\r\n      let { status, list } = await getGoodsList({ projectId: this.project.id });\r\n      if (status == \"10000\") this.list = list;\r\n    },\r\n\r\n    add() {\r\n      this.$router.push({ name: \"goods-edit\" });\r\n    },\r\n\r\n    edit(params) {\r\n      this.$router.push({\r\n        name: \"goods-edit\",\r\n        params: this.$cloneDeep(params),\r\n      });\r\n    },\r\n\r\n    async copy(data) {\r\n      let { status } = await copyGoods(data);\r\n\r\n      if (status == \"10000\") {\r\n        this.getList();\r\n        this.$notify({\r\n          title: \"成功\",\r\n          message: \"商品复制成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/pages/mall/goods/goods-manager"}]}