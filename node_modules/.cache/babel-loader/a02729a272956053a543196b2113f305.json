{"remainingRequest":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\src\\components\\Control\\ControlPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\src\\components\\Control\\ControlPanel.vue","mtime":1694493283594},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU1RjAwXHU2RTkwXHU5ODc5XHU3NkVFL1x1NEY0RVx1NEVFM1x1NzgwMS9Ub295LUxvd0NvZGUvbG93Q29kZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvbnRyb2xXaWRnZXRTaGFwZSBmcm9tICIuL0NvbnRyb2xXaWRnZXRTaGFwZS52dWUiOwppbXBvcnQgZ2xvYmFsIGZyb20gIkAvY29uZmlnL2dsb2JhbCI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29udHJvbFdpZGdldFNoYXBlOiBDb250cm9sV2lkZ2V0U2hhcGUKICB9LAogIGluamVjdDogWyJjb250cm9sIl0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCLliJvlu7rpobXpnaIiKTsKICAgIHRoaXMuaW5pdElmcmFtZSA9IHRydWU7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jb250cm9sLmg1SWZyYW1lID0gdGhpcy4kcmVmcy5pZnJhbWU7CiAgICB0aGlzLmdldE1lc3NhZ2UoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgY29uc29sZS5sb2coIuazqOmUgOmhtemdoiIpOwogICAgdGhpcy5pbml0SWZyYW1lID0gZmFsc2U7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIHRoaXMuZ2V0TWVzc2FnZUhhbmRsZSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkZ2V0SW5mb0xpc3Q6IFtdLAogICAgICBpZnJhbWVIZWlnaHQ6IDY2NywKICAgICAgaW5pdElmcmFtZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsicHJvamVjdCJdKSksIHt9LCB7CiAgICBpZnJhbWVVcmw6IGZ1bmN0aW9uIGlmcmFtZVVybCgpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdChnbG9iYWwudmlld1VybCwgInBhZ2VzL2J1aWxkL2J1aWxkP29wZXJhdGU9YnVpbGQiKTsKICAgIH0KICB9KSwKICAvLyDnm5HlkKznianmlpnliJfooajlj5HnlJ/lj5jljJbvvIzpgJrnn6VpZnJhbWXlkIzmraXmm7TmlrAKICB3YXRjaDogewogICAgImNvbnRyb2wuY3VyUGFnZS5jb21wb25lbnRMaXN0IjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMubWVzc2FnZUxpc3QoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Y+R6YCB5L+h5oGv77yM5ZCM5q2l5Yid5aeL5YyWaWZyYW1lCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICBjb25zb2xlLmxvZygi5Yid5aeL5YyWLi4uIik7CiAgICAgIHRoaXMubWVzc2FnZUluaXQoKTsKICAgICAgdGhpcy5tZXNzYWdlTGlzdCgpOwogICAgfSwKICAgIC8vIOaOpeaUtmlmcmFtZeS/oeaBrwogICAgZ2V0TWVzc2FnZTogZnVuY3Rpb24gZ2V0TWVzc2FnZSgpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCB0aGlzLmdldE1lc3NhZ2VIYW5kbGUpOwogICAgfSwKICAgIGdldE1lc3NhZ2VIYW5kbGU6IGZ1bmN0aW9uIGdldE1lc3NhZ2VIYW5kbGUoZSkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBfZSRkYXRhID0gZS5kYXRhLAogICAgICAgICAgdHlwZSA9IF9lJGRhdGEudHlwZSwKICAgICAgICAgIHBhcmFtcyA9IF9lJGRhdGEucGFyYW1zOwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAic2V0TGlzdCI6CiAgICAgICAgICBzZWxmLnNldExpc3QocGFyYW1zKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJzZXRIZWlnaHQiOgogICAgICAgICAgc2VsZi5zZXRIZWlnaHQocGFyYW1zKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJzZXRDdXJyV2lkZ2V0IjoKICAgICAgICAgIHNlbGYuc2V0Q3VycldpZGdldChwYXJhbXMpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvLyDorr7nva7pobXpnaLpq5jluqYKICAgIHNldEhlaWdodDogZnVuY3Rpb24gc2V0SGVpZ2h0KHBhcmFtcykgewogICAgICB0aGlzLndpZGdldEluZm9MaXN0ID0gcGFyYW1zOwogICAgICB0aGlzLmlmcmFtZUhlaWdodCA9IHRoaXMud2lkZ2V0SW5mb0xpc3QucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgKyBiLmhlaWdodDsKICAgICAgfSwgMCk7IC8vIGNvbnNvbGUubG9nKGDlvZPliY3pq5jluqbvvJoke3RoaXMuaWZyYW1lSGVpZ2h0fWApOwogICAgfSwKICAgIC8vIGlmcmFtZeWGheeJqeaWmeWIl+ihqOWPkeeUn+WPmOWMlu+8jOWQjOatpeabtOaWsAogICAgc2V0TGlzdDogZnVuY3Rpb24gc2V0TGlzdChwYXJhbXMpIHsKICAgICAgY29uc29sZS5sb2coIiBpZnJhbWXlhoXnianmlpnliJfooajlj5HnlJ/lj5jljJbvvIzlkIzmraXmm7TmlrAiKTsKICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsKICAgICAgY29uc29sZS5sb2codGhpcy5jb250cm9sLmN1clBhZ2UubmFtZSk7CiAgICAgIHZhciBsaXN0ID0gcGFyYW1zLmxpc3Q7CiAgICAgIHRoaXMuY29udHJvbC5jdXJQYWdlLmNvbXBvbmVudExpc3QgPSBsaXN0OwogICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2plY3QpOwogICAgfSwKICAgIC8vIOiuvue9rumAieS4reeJqeaWmQogICAgc2V0Q3VycldpZGdldDogZnVuY3Rpb24gc2V0Q3VycldpZGdldChwYXJhbXMpIHsKICAgICAgdmFyIGlkID0gcGFyYW1zLmlkOwogICAgICB0aGlzLmNvbnRyb2wuY3VyV2lkZ2V0ID0gdGhpcy5jb250cm9sLmN1clBhZ2UuY29tcG9uZW50TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGlkID09IGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/ruaUuemAieS4reeJqeaWme+8jOW5tumAmuefpWlmcmFtZe+8jOWQjOatpeabtOaWsAogICAgY2hhbmdlQ3VycldpZGdldDogZnVuY3Rpb24gY2hhbmdlQ3VycldpZGdldCh3aWRnZXQpIHsKICAgICAgdGhpcy5zZXRDdXJyV2lkZ2V0KHdpZGdldCk7CiAgICAgIHRoaXMuJHJlZnMuaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoewogICAgICAgIGV2ZW46ICJjaGFuZ2VDdXJyV2lkZ2V0IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB3aWRnZXQuaWQKICAgICAgICB9CiAgICAgIH0sICIqIik7CiAgICB9LAogICAgLy8g6LCD55So54mp5paZ5ouW5ou956e75YqoKOiKgua1gSkKICAgIGxheWVyTW92ZTogZnVuY3Rpb24gbGF5ZXJNb3ZlKGUsIGluZGV4KSB7CiAgICAgIHRoaXMudGhyb3R0bGUodGhpcy5sYXllck1vdmVGdW4sIDEpKGUsIGluZGV4KTsKICAgIH0sCiAgICAvLyDnianmlpnmi5bmi73np7vliqgs5o6n5Yi2d2FpdGluZ+enu+WKqAogICAgbGF5ZXJNb3ZlRnVuOiBmdW5jdGlvbiBsYXllck1vdmVGdW4oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGNvbnNvbGUubG9nKCLnianmlpnmi5bmi73np7vliqgs5o6n5Yi2d2FpdGluZ+enu+WKqCIpOwogICAgICBpZiAoIXRoaXMuY29udHJvbC5kcmFnc3RhdHVzKSByZXR1cm47CiAgICAgIHZhciB0eXBlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJ0eXBlIik7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgdHlwZTogInBhZ2UiCiAgICAgIH07CgogICAgICBpZiAodHlwZSA9PSAid2lkZ2V0IikgewogICAgICAgIHZhciBfcmVmID0gW2Uub2Zmc2V0WSwgZS50YXJnZXQub2Zmc2V0SGVpZ2h0XSwKICAgICAgICAgICAgeSA9IF9yZWZbMF0sCiAgICAgICAgICAgIGggPSBfcmVmWzFdOwogICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgIGlkOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImlkIiksCiAgICAgICAgICB0eXBlOiAid2lkZ2V0IiwKICAgICAgICAgIGRpcmVjdGlvbjogeSA8IGggLyAyCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy5pZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7CiAgICAgICAgZXZlbjogIm1vdmUiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0sICIqIik7CiAgICB9LAogICAgLy8g5Y+R6YCB5L+h5oGv77yM5b2T5YmN5ZWG5Z+O6YWN572u5pWw5o2uCiAgICBtZXNzYWdlSW5pdDogZnVuY3Rpb24gbWVzc2FnZUluaXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoewogICAgICAgIGV2ZW46ICJpbml0IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2plY3Q6IHRoaXMucHJvamVjdAogICAgICAgIH0KICAgICAgfSwgIioiKTsKICAgIH0sCiAgICAvLyDlj5HpgIHkv6Hmga/vvIzlkIzmraVpZnJhbWXnp43nianmlpnmlbDnu4QKICAgIG1lc3NhZ2VMaXN0OiBmdW5jdGlvbiBtZXNzYWdlTGlzdCgpIHsKICAgICAgY29uc29sZS5sb2coIuWPkemAgeS/oeaBr++8jOWQjOatpWlmcmFtZeenjeeJqeaWmeaVsOe7hCIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRyb2wuY3VyUGFnZSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udHJvbC5jdXJQYWdlLmNvbXBvbmVudExpc3QpOwogICAgICB0aGlzLiRyZWZzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHsKICAgICAgICBldmVuOiAibGlzdCIsCiAgICAgICAgcGFyYW1zOiB0aGlzLmNvbnRyb2wuY3VyUGFnZS5jb21wb25lbnRMaXN0CiAgICAgIH0sICIqIik7CiAgICB9LAogICAgLy8g6IqC5rWBCiAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCkgewogICAgICB2YXIgdGltZW91dDsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7CiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7CgogICAgICAgIGlmICghdGltZW91dCkgewogICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDsKICAgICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTsKICAgICAgICAgIH0sIHdhaXQpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ControlPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 面板\r\n\r\n-->\r\n<template>\r\n  <div class=\"panel\">\r\n    <phone-ctn>\r\n      <div class=\"page\">\r\n        <iframe v-if=\"initIframe\" ref=\"iframe\" class=\"page-iframe\" frameborder=\"no\" :style=\"{\r\n          height: iframeHeight + 'px',\r\n          pointerEvents: control.dragstatus ? 'none' : 'auto',\r\n        }\" :src=\"iframeUrl\" @load=\"init\"></iframe>\r\n\r\n        <!-- 拖拽与iframe交互蒙层 -->\r\n        <div class=\"page-layer\" type=\"page\" :style=\"{\r\n          height: iframeHeight + 'px',\r\n          zIndex: control.dragstatus ? '20' : '1',\r\n        }\" @dragover=\"layerMove\">\r\n          <control-widget-shape v-for=\"item in widgetInfoList\" :key=\"item.id\" :data=\"item\"\r\n            @changeCurrWidget=\"changeCurrWidget\">\r\n            <div ref=\"layerWidget\" class=\"page-layer-widget\" type=\"widget\" :id=\"item.id\"\r\n              :style=\"{ height: item.height + 'px' }\"></div>\r\n          </control-widget-shape>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 页面设置 -->\r\n      <el-tooltip effect=\"light\" content=\"页面设置\" placement=\"bottom\">\r\n        <div class=\"panel-set flex-center\" @click=\"control.curWidget = undefined\">\r\n          <i class=\"el-icon-setting\"></i>\r\n        </div>\r\n      </el-tooltip>\r\n    </phone-ctn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ControlWidgetShape from \"./ControlWidgetShape.vue\";\r\nimport global from \"@/config/global\";\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: { ControlWidgetShape },\r\n\r\n  inject: [\"control\"],\r\n\r\n  created() {\r\n    console.log(\"创建页面\");\r\n\r\n    this.initIframe = true;\r\n  },\r\n\r\n  mounted() {\r\n    this.control.h5Iframe = this.$refs.iframe;\r\n    this.getMessage();\r\n  },\r\n\r\n  destroyed() {\r\n    console.log(\"注销页面\");\r\n\r\n    this.initIframe = false;\r\n    window.removeEventListener(\"message\", this.getMessageHandle);\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      widgetInfoList: [],\r\n      iframeHeight: 667,\r\n      initIframe: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n\r\n    iframeUrl() {\r\n      return `${global.viewUrl}pages/build/build?operate=build`;\r\n    },\r\n  },\r\n\r\n  // 监听物料列表发生变化，通知iframe同步更新\r\n  watch: {\r\n    \"control.curPage.componentList\": {\r\n      handler() {\r\n        this.messageList();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 发送信息，同步初始化iframe\r\n    init() {\r\n      console.log(\"初始化...\");\r\n\r\n      this.messageInit();\r\n      this.messageList();\r\n    },\r\n\r\n    // 接收iframe信息\r\n    getMessage() {\r\n      window.addEventListener(\"message\", this.getMessageHandle);\r\n    },\r\n\r\n    getMessageHandle(e) {\r\n      let self = this;\r\n      let { type, params } = e.data;\r\n      switch (type) {\r\n        case \"setList\":\r\n          self.setList(params);\r\n          break;\r\n        case \"setHeight\":\r\n          self.setHeight(params);\r\n          break;\r\n        case \"setCurrWidget\":\r\n          self.setCurrWidget(params);\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 设置页面高度\r\n    setHeight(params) {\r\n      this.widgetInfoList = params;\r\n      this.iframeHeight = this.widgetInfoList.reduce((a, b) => a + b.height, 0);\r\n      // console.log(`当前高度：${this.iframeHeight}`);\r\n    },\r\n\r\n    // iframe内物料列表发生变化，同步更新\r\n    setList(params) {\r\n      console.log(\" iframe内物料列表发生变化，同步更新\");\r\n      console.log(params);\r\n      console.log(this.control.curPage.name);\r\n\r\n      let { list } = params;\r\n      this.control.curPage.componentList = list;\r\n      console.log(this.project);\r\n    },\r\n\r\n    // 设置选中物料\r\n    setCurrWidget(params) {\r\n      let { id } = params;\r\n      this.control.curWidget = this.control.curPage.componentList.find(\r\n        (item) => id == item.id\r\n      );\r\n    },\r\n\r\n    // 修改选中物料，并通知iframe，同步更新\r\n    changeCurrWidget(widget) {\r\n      this.setCurrWidget(widget);\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"changeCurrWidget\",\r\n          params: { id: widget.id },\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 调用物料拖拽移动(节流)\r\n    layerMove(e, index) {\r\n      this.throttle(this.layerMoveFun, 1)(e, index);\r\n    },\r\n\r\n    // 物料拖拽移动,控制waiting移动\r\n    layerMoveFun(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      console.log(\"物料拖拽移动,控制waiting移动\");\r\n\r\n      if (!this.control.dragstatus) return;\r\n\r\n      let type = e.target.getAttribute(\"type\");\r\n      let params = {\r\n        type: \"page\",\r\n      };\r\n\r\n      if (type == \"widget\") {\r\n        let [y, h] = [e.offsetY, e.target.offsetHeight];\r\n        params = {\r\n          id: e.target.getAttribute(\"id\"),\r\n          type: \"widget\",\r\n          direction: y < h / 2,\r\n        };\r\n      }\r\n\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"move\",\r\n          params,\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 发送信息，当前商城配置数据\r\n    messageInit() {\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"init\",\r\n          params: { project: this.project },\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 发送信息，同步iframe种物料数组\r\n    messageList() {\r\n      console.log(\"发送信息，同步iframe种物料数组\");\r\n      console.log(this.control.curPage);\r\n\r\n      console.log(this.control.curPage.componentList);\r\n\r\n      this.$refs.iframe.contentWindow.postMessage(\r\n        {\r\n          even: \"list\",\r\n          params: this.control.curPage.componentList,\r\n        },\r\n        \"*\"\r\n      );\r\n    },\r\n\r\n    // 节流\r\n    throttle(func, wait) {\r\n      let timeout;\r\n      return function () {\r\n        let context = this;\r\n        let args = arguments;\r\n        if (!timeout) {\r\n          timeout = setTimeout(() => {\r\n            timeout = null;\r\n            func.apply(context, args);\r\n          }, wait);\r\n        }\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.panel {\r\n  position: absolute;\r\n  left: 176px;\r\n  /*no*/\r\n  right: 360px;\r\n  /*no*/\r\n  height: calc(100% - 56px);\r\n  /*no*/\r\n  overflow: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n    /* Chrome Safari */\r\n  }\r\n\r\n  .panel-set {\r\n    position: absolute;\r\n    top: 10px;\r\n    left: -70px;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n\r\n    i {\r\n      font-size: 22px;\r\n      color: #b0afb2;\r\n    }\r\n  }\r\n\r\n  .page {\r\n    position: relative;\r\n    font-size: 0;\r\n\r\n    .page-iframe {\r\n      position: relative;\r\n      width: 100%;\r\n      z-index: 10;\r\n    }\r\n\r\n    .page-layer {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      min-height: 667px;\r\n      // background: cornflowerblue;\r\n\r\n      .page-layer-widget {\r\n        width: 100%;\r\n        z-index: 99999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/Control"}]}