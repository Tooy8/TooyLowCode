{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaGoods\\GoodsConfigChoose.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaGoods\\GoodsConfigChoose.vue","mtime":1693619752171},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NUYwMFx1NkU5MFx1OTg3OVx1NzZFRS9cdTU1NDZcdTU3Q0VcdTRGNEVcdTRFRTNcdTc4MDEvbWFsbC1jb29rL3BhY2thZ2VzL21hbGwtY29vay1wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRHb29kc0xpc3QgfSBmcm9tICJAL2FwaS9nb29kcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR29vZHNDb25maWdDaG9vc2UiLAogIHByb3BzOiB7CiAgICBzaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RMaXN0OiBbXSwKICAgICAgbGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInByb2plY3QiXSkpLAogIHdhdGNoOiB7CiAgICBzaG93OiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLnNob3c7CiAgICAgIH0KICAgIH0sCiAgICB2aXNpYmxlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6c2hvdyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5ZWG5Z+O5ZWG5ZOB5YiX6KGoCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldEdvb2RzTGlzdCwgc3RhdHVzLCBsaXN0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRHb29kc0xpc3QoewogICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IF90aGlzLnByb2plY3QuaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0R29vZHNMaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF95aWVsZCRnZXRHb29kc0xpc3Quc3RhdHVzOwogICAgICAgICAgICAgICAgbGlzdCA9IF95aWVsZCRnZXRHb29kc0xpc3QubGlzdDsKCiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICIxMDAwMCIpIHsKICAgICAgICAgICAgICAgICAgLy8g562b6YCJ5a2X5q61CiAgICAgICAgICAgICAgICAgIF90aGlzLmxpc3QgPSBsaXN0OyAvLyDmoLnmja7pgInkuK3liJfooahpZO+8jOetm+mAieWMuemFjeWvueW6lOaVsOe7hO+8jOeUqOS6juWLvumAieWbnuaYvgoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0TGlzdCA9IF90aGlzLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlLmluY2x1ZGVzKGl0ZW0uaWQpOwogICAgICAgICAgICAgICAgICB9KTsgLy8g5Yu+6YCJ5Zue5pi+5Zue6LCD5pa55rOVCgogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVTZWxlY3Rpb24oX3RoaXMuc2VsZWN0TGlzdCk7CiAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yu+6YCJ5Zue5pi+CiAgICB0b2dnbGVTZWxlY3Rpb246IGZ1bmN0aW9uIHRvZ2dsZVNlbGVjdGlvbihyb3dzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHJvd3MpIHsKICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgX3RoaXMyLiRyZWZzLm11bHRpcGxlVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDli77pgInpgInkuK0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdExpc3QgPSB2YWw7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdGhpcy4kZW1pdCgic3VibWl0IiwgdGhpcy5zZWxlY3RMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KSk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["GoodsConfigChoose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,YAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AALA,GAFA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,OAAA;AACA,GAfA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAvBA;AAyBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CAzBA;AA6BA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,QAFA,EAEA,QAFA,EAEA;AACA,aAAA,OAAA,GAAA,KAAA,IAAA;AACA;AAJA,KADA;AAOA,IAAA,OAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,QAFA,EAEA,QAFA,EAEA;AACA,aAAA,KAAA,CAAA,aAAA,EAAA,QAAA;AACA;AAJA;AAPA,GA7BA;AA4CA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,YAAA,CAAA;AAAA,kBAAA,SAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,MADA,uBACA,MADA;AACA,gBAAA,IADA,uBACA,IADA;;AAGA,oBAAA,MAAA,IAAA,OAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAFA,CAIA;;AACA,kBAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,2BAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,EAAA,CAAA;AACA,mBAFA,CAAA,CALA,CASA;;AACA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,KAAA,CAAA,eAAA,CAAA,KAAA,CAAA,UAAA;AACA,mBAFA,EAEA,CAFA,CAAA;AAGA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAnBA;AAqBA;AACA,IAAA,eAtBA,2BAsBA,IAtBA,EAsBA;AAAA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,GAAA;AACA,SAFA;AAGA;AACA,KA5BA;AA8BA;AACA,IAAA,qBA/BA,iCA+BA,GA/BA,EA+BA;AACA,WAAA,UAAA,GAAA,GAAA;AACA,KAjCA;AAmCA;AACA,IAAA,MApCA,oBAoCA;AACA,WAAA,KAAA,CACA,QADA,EAEA,KAAA,UAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,EAAA;AAAA,OAAA,CAFA;AAIA,WAAA,OAAA,GAAA,KAAA;AACA;AA1CA;AA5CA,CAAA","sourcesContent":["<!--\r\n * @Description: What's this for\r\n * @Autor: WangYuan\r\n * @Date: 2021-06-24 10:29:52\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2021-10-08 16:05:41\r\n-->\r\n<template>\r\n  <el-dialog\r\n    title=\"选择商品\"\r\n    :visible.sync=\"visible\"\r\n    :close-on-click-modal='false'\r\n    :append-to-body='true'\r\n    width=\"45%\"\r\n  >\r\n    <el-table\r\n      ref=\"multipleTable\"\r\n      :data=\"list\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"width: 100%\"\r\n      max-height=\"300\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column\r\n        type=\"selection\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"商品名\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"商品封面\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <img\r\n            class=\"w50 h50\"\r\n            :src=\"scope.row.cover\"\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"price\"\r\n        label=\"价格（元）\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"originalPrice\"\r\n        label=\"原价（元）\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n    </el-table>\r\n    <span\r\n      slot=\"footer\"\r\n      class=\"dialog-footer\"\r\n    >\r\n      <el-button @click=\"visible = false\">取 消</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"submit\"\r\n      >确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoodsList } from \"@/api/goods\";\r\n\r\nexport default {\r\n  name: \"GoodsConfigChoose\",\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getList();\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      selectList: [],\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  watch: {\r\n    show: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.visible = this.show;\r\n      },\r\n    },\r\n    visible: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.$emit(\"update:show\", newValue);\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 获取商城商品列表\r\n    async getList() {\r\n      let { status, list } = await getGoodsList({ projectId: this.project.id });\r\n\r\n      if (status == \"10000\") {\r\n        // 筛选字段\r\n        this.list = list;\r\n\r\n        // 根据选中列表id，筛选匹配对应数组，用于勾选回显\r\n        this.selectList = this.list.filter((item) => {\r\n          return this.value.includes(item.id);\r\n        });\r\n\r\n        // 勾选回显回调方法\r\n        setTimeout(() => {\r\n          this.toggleSelection(this.selectList);\r\n        }, 0);\r\n      }\r\n    },\r\n\r\n    // 勾选回显\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach((row) => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      }\r\n    },\r\n\r\n    // 勾选选中\r\n    handleSelectionChange(val) {\r\n      this.selectList = val;\r\n    },\r\n\r\n    // 提交\r\n    submit() {\r\n      this.$emit(\r\n        \"submit\",\r\n        this.selectList.map((item) => item.id)\r\n      );\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-dialog {\r\n  .el-dialog__title {\r\n    font-size: 14px !important;\r\n    font-weight: 600;\r\n  }\r\n  .el-dialog__body {\r\n    padding: 10px 20px 30px 20px !important;\r\n  }\r\n}\r\n\r\n.wrap {\r\n  background: #f2f2f6;\r\n  height: 400px;\r\n  border-radius: 5px;\r\n}\r\n</style>"],"sourceRoot":"src/custom-schema-template/components/SchemaGoods"}]}