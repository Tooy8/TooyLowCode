{"remainingRequest":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\src\\store\\project.js","dependencies":[{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\src\\store\\project.js","mtime":1693619752212},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\低代码\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CgovKg0KICogQERlc2NyaXB0aW9uOiDpobnnm67mlbDmja7nrqHnkIYNCiAqIEBBdXRvcjogV2FuZ1l1YW4NCiAqIEBEYXRlOiAyMDIxLTA1LTIxIDE3OjMyOjU3DQogKiBATGFzdEVkaXRvcnM6IFdhbmdZdWFuDQogKiBATGFzdEVkaXRUaW1lOiAyMDIyLTAzLTIxIDE1OjAyOjMxDQogKi8KaW1wb3J0IHsgZml4ZWRQYWdlcyB9IGZyb20gJ0AvY29uZmlnL3Byb2plY3QnOwppbXBvcnQgeyBnZXRQcm9qZWN0LCBzZXR0aW5nUHJvamVjdCwgcmVtb3ZlUHJvamVjdCB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgcHJvamVjdDogZ2V0UHJvamVjdCgpLAogICAgZml4ZWRQYWdlczogZml4ZWRQYWdlcywKICAgIC8vIOmdmeaAgemhtemdoumbhuWQiAogICAgY3VyUGFnZTogbnVsbCwKICAgIC8vIOW9k+WJjemhtemdogogICAgY3VyQ29tcG9uZW50OiBudWxsLAogICAgLy8g5b2T5YmN54mp5paZCiAgICBkcmFnQ29tcG9uZW50OiBudWxsLAogICAgLy8g5ouW5ou954mp5paZCiAgICBkcmFnU3RhdHVzOiBmYWxzZSAvLyDmi5bmi73lhaXpobXpnaLnirbmgIEKCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBwcm9qZWN0OiBmdW5jdGlvbiBwcm9qZWN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9qZWN0OwogICAgfSwKICAgIGZpeGVkUGFnZXM6IGZ1bmN0aW9uIGZpeGVkUGFnZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmZpeGVkUGFnZXM7CiAgICB9LAogICAgY3VyUGFnZTogZnVuY3Rpb24gY3VyUGFnZShzdGF0ZSkgewogICAgICB2YXIgX3N0YXRlJHByb2plY3QsIF9zdGF0ZSRwcm9qZWN0JHBhZ2VzOwoKICAgICAgcmV0dXJuIHN0YXRlLmN1clBhZ2UgfHwgKChfc3RhdGUkcHJvamVjdCA9IHN0YXRlLnByb2plY3QpID09PSBudWxsIHx8IF9zdGF0ZSRwcm9qZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3N0YXRlJHByb2plY3QkcGFnZXMgPSBfc3RhdGUkcHJvamVjdC5wYWdlcykgPT09IG51bGwgfHwgX3N0YXRlJHByb2plY3QkcGFnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSRwcm9qZWN0JHBhZ2VzLmZpbmQoZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICByZXR1cm4gcGFnZS5ob21lOwogICAgICB9KSkgfHwgbnVsbDsKICAgIH0sCiAgICBjdXJDb21wb25lbnQ6IGZ1bmN0aW9uIGN1ckNvbXBvbmVudChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VyQ29tcG9uZW50OwogICAgfSwKICAgIGRyYWdDb21wb25lbnQ6IGZ1bmN0aW9uIGRyYWdDb21wb25lbnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRyYWdDb21wb25lbnQ7CiAgICB9LAogICAgZHJhZ1N0YXR1czogZnVuY3Rpb24gZHJhZ1N0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZHJhZ1N0YXR1czsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgLy8g5Yid5aeL5YyW6YeN572u6aG555uuCiAgICBzZXRQcm9qZWN0OiBmdW5jdGlvbiBzZXRQcm9qZWN0KHN0YXRlLCBwcm9qZWN0KSB7CiAgICAgIHN0YXRlLnByb2plY3QgPSBwcm9qZWN0OwogICAgICBzZXR0aW5nUHJvamVjdChzdGF0ZS5wcm9qZWN0KTsKICAgICAgc3RhdGUuY3VyUGFnZSA9IHN0YXRlLnByb2plY3QucGFnZXMuZmluZChmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHJldHVybiBwYWdlLmhvbWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpOmhueebrgogICAgZHJvcFByb2plY3Q6IGZ1bmN0aW9uIGRyb3BQcm9qZWN0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnByb2plY3QgPSB7fTsKICAgICAgc3RhdGUuY3VyUGFnZSA9IHt9OwogICAgICBzdGF0ZS5jdXJDb21wb25lbnQgPSBudWxsOwogICAgICBzdGF0ZS5kcmFnQ29tcG9uZW50ID0gbnVsbDsKICAgICAgc3RhdGUuZHJhZ1N0YXR1cyA9IGZhbHNlOwogICAgICByZW1vdmVQcm9qZWN0KCk7CiAgICB9LAogICAgLy8g6K6+572u6aaW6aG15Li65b2T5YmN6aG1CiAgICBzZXRIb21lUGFnZTogZnVuY3Rpb24gc2V0SG9tZVBhZ2Uoc3RhdGUsIHBhZ2UpIHsKICAgICAgc3RhdGUuY3VyUGFnZSA9IHN0YXRlLnByb2plY3QucGFnZXMuZmluZChmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHJldHVybiBwYWdlLmhvbWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiuvue9ruW9k+WJjemhtemdogogICAgc2V0Q3VyUGFnZTogZnVuY3Rpb24gc2V0Q3VyUGFnZShzdGF0ZSwgcGFnZSkgewogICAgICBjb25zb2xlLmxvZygn6K6+572u5b2T5YmN6aG16Z2iJyk7CiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBhZ2UpKTsKICAgICAgc3RhdGUuY3VyUGFnZSA9IHBhZ2U7CiAgICB9LAogICAgLy8g5b2T5YmN5pON5L2c5pON5L2c54mp5paZCiAgICBzZXRjdXJDb21wb25lbnQ6IGZ1bmN0aW9uIHNldGN1ckNvbXBvbmVudChzdGF0ZSwgY29tcG9uZW50KSB7CiAgICAgIHN0YXRlLmN1ckNvbXBvbmVudCA9IGNvbXBvbmVudDsKICAgIH0sCiAgICAvLyDlvZPliY3mi5bmi73nianmlpkKICAgIHNldERyYWdDb21wb25lbnQ6IGZ1bmN0aW9uIHNldERyYWdDb21wb25lbnQoc3RhdGUsIGNvbXBvbmVudCkgewogICAgICBzdGF0ZS5kcmFnQ29tcG9uZW50ID0gY29tcG9uZW50OwogICAgfSwKICAgIC8vIOa3u+WKoOeJqeaWmQogICAgYWRkQ29tcG9uZW50TGlzdDogZnVuY3Rpb24gYWRkQ29tcG9uZW50TGlzdChzdGF0ZSwgY29tcG9uZW50KSB7CiAgICAgIHN0YXRlLmN1clBhZ2UuY29tcG9uZW50TGlzdC5wdXNoKGNvbXBvbmVudCk7CiAgICB9LAogICAgLy8g5Yig6Zmk54mp5paZCiAgICBkZWxDb21wb25lbnQ6IGZ1bmN0aW9uIGRlbENvbXBvbmVudChzdGF0ZSwgaWQpIHsKICAgICAgLy8g5p+l5om+54mp5paZ5a+55bqU5LiL5qCHCiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmN1clBhZ2UuY29tcG9uZW50TGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHByZSwgY3VyLCBpKSB7CiAgICAgICAgaWYgKGN1ci5pZCA9PSBpZCkgcHJlID0gaTsKICAgICAgICByZXR1cm4gcHJlOwogICAgICB9LCAtMSk7CiAgICAgIHN0YXRlLmN1clBhZ2UuY29tcG9uZW50TGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICBzdGF0ZS5jdXJDb21wb25lbnQgPSBudWxsOwogICAgfSwKICAgIHNldERyYWdTdGF0dXM6IGZ1bmN0aW9uIHNldERyYWdTdGF0dXMoc3RhdGUsIHN0YXR1cykgewogICAgICBzdGF0ZS5kcmFnU3RhdHVzID0gc3RhdHVzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/开源项目/低代码/Tooy-LowCode/lowCode/src/store/project.js"],"names":["fixedPages","getProject","settingProject","removeProject","state","project","curPage","curComponent","dragComponent","dragStatus","getters","pages","find","page","home","mutations","setProject","dropProject","setHomePage","setCurPage","console","log","JSON","stringify","setcurComponent","component","setDragComponent","addComponentList","componentList","push","delComponent","id","index","reduce","pre","cur","i","splice","setDragStatus","status"],"mappings":"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","sourcesContent":["/*\r\n * @Description: 项目数据管理\r\n * @Autor: WangYuan\r\n * @Date: 2021-05-21 17:32:57\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-03-21 15:02:31\r\n */\r\nimport { fixedPages } from '@/config/project'\r\nimport { getProject, settingProject, removeProject } from '@/utils/auth'\r\n\r\nexport default {\r\n    state: {\r\n        project: getProject(),\r\n        fixedPages,             // 静态页面集合\r\n        curPage: null,          // 当前页面\r\n        curComponent: null,     // 当前物料\r\n        dragComponent: null,    // 拖拽物料\r\n        dragStatus: false,      // 拖拽入页面状态\r\n    },\r\n    getters: {\r\n        project: state => state.project,\r\n        fixedPages: state => state.fixedPages,\r\n        curPage: state => state.curPage || state.project?.pages?.find(page => page.home) || null,\r\n        curComponent: state => state.curComponent,\r\n        dragComponent: state => state.dragComponent,\r\n        dragStatus: state => state.dragStatus,\r\n    },\r\n    mutations: {\r\n\r\n        // 初始化重置项目\r\n        setProject(state, project) {\r\n            state.project = project\r\n            settingProject(state.project)\r\n            state.curPage = state.project.pages.find(page => page.home)\r\n        },\r\n\r\n        // 删除项目\r\n        dropProject(state) {\r\n            state.project = {}\r\n            state.curPage = {}\r\n            state.curComponent = null\r\n            state.dragComponent = null\r\n            state.dragStatus = false\r\n            removeProject()\r\n        },\r\n\r\n        // 设置首页为当前页\r\n        setHomePage(state, page) {\r\n            state.curPage = state.project.pages.find(page => page.home)\r\n        },\r\n\r\n        // 设置当前页面\r\n        setCurPage(state, page) {\r\n            console.log('设置当前页面');\r\n            console.log(JSON.stringify(page));\r\n            \r\n            \r\n            state.curPage = page\r\n        },\r\n\r\n        // 当前操作操作物料\r\n        setcurComponent(state, component) {\r\n            state.curComponent = component\r\n        },\r\n\r\n        // 当前拖拽物料\r\n        setDragComponent(state, component) {\r\n            state.dragComponent = component\r\n        },\r\n\r\n        // 添加物料\r\n        addComponentList(state, component) {\r\n            state.curPage.componentList.push(component)\r\n        },\r\n\r\n        // 删除物料\r\n        delComponent(state, id) {\r\n\r\n            // 查找物料对应下标\r\n            let index = state.curPage.componentList.reduce((pre, cur, i) => {\r\n                if (cur.id == id)\r\n                    pre = i\r\n\r\n                return pre\r\n            }, -1)\r\n\r\n            state.curPage.componentList.splice(index, 1)\r\n            state.curComponent = null\r\n        },\r\n\r\n        setDragStatus(state, status) {\r\n            state.dragStatus = status\r\n        },\r\n    },\r\n}"]}]}