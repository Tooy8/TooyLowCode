{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\group-manager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\group-manager\\index.vue","mtime":1693619752180},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU1RjAwXHU2RTkwXHU5ODc5XHU3NkVFL1x1NTU0Nlx1NTdDRVx1NEY0RVx1NEVFM1x1NzgwMS9tYWxsLWNvb2svcGFja2FnZXMvbWFsbC1jb29rLXBsYXRmb3JtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEVkaXQgZnJvbSAiLi9lZGl0LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZ3JvdXBNYW5hZ2VyIiwKICBjb21wb25lbnRzOiB7CiAgICBFZGl0OiBFZGl0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJwcm9qZWN0Il0pKSwKICBtZXRob2RzOiB7CiAgICAvLyDmipjlj6AKICAgIGZvbGQ6IGZ1bmN0aW9uIGZvbGQoZ3JvdXApIHsKICAgICAgZ3JvdXAuZm9sZCA/IHRoaXMuJHNldChncm91cCwgImZvbGQiLCBmYWxzZSkgOiB0aGlzLiRzZXQoZ3JvdXAsICJmb2xkIiwgdHJ1ZSk7CiAgICB9LAogICAgLy8g5oqY5Y+g5YWo6YOoCiAgICBhbGxGb2xkOiBmdW5jdGlvbiBhbGxGb2xkKCkgewogICAgICB0aGlzLnByb2plY3QuY29uZmlnLmdvb2RzR3JvdXBzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmZvbGQgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5bGV5byA5YWo6YOoCiAgICBhbGxVbkZvbGQ6IGZ1bmN0aW9uIGFsbFVuRm9sZCgpIHsKICAgICAgdGhpcy5wcm9qZWN0LmNvbmZpZy5nb29kc0dyb3Vwcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5mb2xkID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5paw5aKe5LiA57qn5YiG57uECiAgICBhZGRHcm91cDogZnVuY3Rpb24gYWRkR3JvdXAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdC5vcGVuKDEpOwogICAgfSwKICAgIC8vIOe8lui+keS4gOe6p+WIhue7hAogICAgZWRpdEdyb3VwOiBmdW5jdGlvbiBlZGl0R3JvdXAoZGF0YSkgewogICAgICB0aGlzLiRyZWZzLmVkaXQub3BlbigxLCBkYXRhKTsKICAgIH0sCiAgICAvLyDliKDpmaTkuIDnuqfliIbnu4QKICAgIGRlbEdyb3VwOiBmdW5jdGlvbiBkZWxHcm91cCh0eXBlKSB7CiAgICAgIHZhciBncm91cHMgPSB0aGlzLnByb2plY3QuY29uZmlnLmdvb2RzR3JvdXBzOwogICAgICB2YXIgaW5kZXggPSBncm91cHMucmVkdWNlKGZ1bmN0aW9uIChwcmUsIGN1ciwgaSkgewogICAgICAgIGlmIChjdXIudHlwZSA9PSB0eXBlKSBwcmUgPSBpOwogICAgICAgIHJldHVybiBwcmU7CiAgICAgIH0sIDApOwogICAgICBncm91cHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDmlrDlop7kuoznuqfliIbnu4QKICAgIGFkZFR5cGU6IGZ1bmN0aW9uIGFkZFR5cGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdC5vcGVuKDIpOwogICAgfSwKICAgIC8vIOe8lui+keS6jOe6p+WIhue7hAogICAgZWRpdFR5cGU6IGZ1bmN0aW9uIGVkaXRUeXBlKGRhdGEpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Lm9wZW4oMiwgZGF0YSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5LqM57qn5YiG57uECiAgICBkZWxUeXBlOiBmdW5jdGlvbiBkZWxUeXBlKGRhdGEpIHsKICAgICAgdmFyIHRlbXAgPSB0aGlzLnByb2plY3QuY29uZmlnLmdvb2RzR3JvdXBzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50eXBlID09IGRhdGEucGFyZW50VHlwZTsKICAgICAgfSk7CiAgICAgIHZhciBpbmRleCA9IHRlbXAuY2hpbGQucmVkdWNlKGZ1bmN0aW9uIChwcmUsIGN1ciwgaSkgewogICAgICAgIGlmIChjdXIudHlwZSA9PSBkYXRhLnR5cGUpIHByZSA9IGk7CiAgICAgICAgcmV0dXJuIHByZTsKICAgICAgfSwgMCk7CiAgICAgIHRlbXAuY2hpbGQuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,IAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA,EAAA;AACA,GATA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA,CAXA;AAeA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,gBAEA,KAFA,EAEA;AACA,MAAA,KAAA,CAAA,IAAA,GACA,KAAA,IAAA,CAAA,KAAA,EAAA,MAAA,EAAA,KAAA,CADA,GAEA,KAAA,IAAA,CAAA,KAAA,EAAA,MAAA,EAAA,IAAA,CAFA;AAGA,KANA;AAQA;AACA,IAAA,OATA,qBASA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,WAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,GAAA,KAAA;AAAA,OAAA;AACA,KAXA;AAaA;AACA,IAAA,SAdA,uBAcA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,WAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AAAA,OAAA;AACA,KAhBA;AAkBA;AACA,IAAA,QAnBA,sBAmBA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,KArBA;AAuBA;AACA,IAAA,SAxBA,qBAwBA,IAxBA,EAwBA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA;AACA,KA1BA;AA4BA;AACA,IAAA,QA7BA,oBA6BA,IA7BA,EA6BA;AACA,UAAA,MAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,WAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,IAAA,EAAA,GAAA,GAAA,CAAA;AACA,eAAA,GAAA;AACA,OAHA,EAGA,CAHA,CAAA;AAIA,MAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KApCA;AAsCA;AACA,IAAA,OAvCA,qBAuCA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,KAzCA;AA2CA;AACA,IAAA,QA5CA,oBA4CA,IA5CA,EA4CA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA;AACA,KA9CA;AAgDA;AACA,IAAA,OAjDA,mBAiDA,IAjDA,EAiDA;AACA,UAAA,IAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CACA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,IAAA,IAAA,CAAA,UAAA;AAAA,OADA,CAAA;AAGA,UAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,IAAA,CAAA,IAAA,EAAA,GAAA,GAAA,CAAA;AACA,eAAA,GAAA;AACA,OAHA,EAGA,CAHA,CAAA;AAIA,MAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AA1DA;AAfA,CAAA","sourcesContent":["<!--\r\n * @Description: 商品分类管理\r\n * @Autor: WangYuan\r\n * @Date: 2021-09-07 11:49:30\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-02-11 11:46:31\r\n-->\r\n<template>\r\n  <div class=\"m20 p20 bg-white\">\r\n    <div class=\"mt10 mb20\">\r\n      <span class=\"mr20 f14\">商品分组</span>\r\n      <span class=\"f12 f-grey\">拖拽可调整分组顺序，保存生效</span>\r\n    </div>\r\n\r\n    <div class=\"p10 bg-grey\">\r\n\r\n      <!-- 按钮栏 -->\r\n      <div class=\"flex row-between p15 r8 bg-white\">\r\n        <div>\r\n          <el-button\r\n            class=\"mr10\"\r\n            size=\"small\"\r\n            @click=\"allUnFold\"\r\n          >展开全部</el-button>\r\n          <el-button\r\n            size=\"small\"\r\n            @click=\"allFold\"\r\n          >折叠全部</el-button>\r\n        </div>\r\n        <el-button\r\n          size=\"small\"\r\n          @click=\"addGroup\"\r\n        >新增一级分组</el-button>\r\n      </div>\r\n\r\n      <!-- 分组拖拽列表 -->\r\n      <draggable v-model=\"project.config.goodsGroups\">\r\n        <div\r\n          v-for=\"group in project.config.goodsGroups\"\r\n          :key=\"group.type\"\r\n          class=\"group mt10 p10 bg-white\"\r\n        >\r\n\r\n          <!-- 分组头部 -->\r\n          <div class=\"group-head flex row-between col-center p15\">\r\n            <div>\r\n              <i\r\n                v-if=\"!group.fold\"\r\n                class=\"el-icon-arrow-right f14 mr10 pointer\"\r\n                @click=\"fold(group)\"\r\n              ></i>\r\n              <i\r\n                v-else\r\n                class=\"el-icon-arrow-down f14 mr10 pointer\"\r\n                @click=\"fold(group)\"\r\n              ></i>\r\n              <span class=\"f12\">{{group.name}}</span>\r\n            </div>\r\n            <div class=\"f-theme f12\">\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"addType\"\r\n              >新增二级分组</span>\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"editGroup(group)\"\r\n              >编辑</span>\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"delGroup(group.type)\"\r\n              >删除</span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 分组内容 -->\r\n          <ul\r\n            v-if=\"group.child.length && group.fold\"\r\n            class=\"group-body\"\r\n          >\r\n            <li\r\n              v-for=\"item in group.child\"\r\n              :key=\"item.type\"\r\n              class=\"group-body-item\"\r\n            >\r\n              <div class=\"flex-center\">\r\n                <img\r\n                class=\"w35 h35 mr15\"\r\n                  :src=\"item.image\"\r\n                />\r\n                <span>{{item.name}}</span>\r\n              </div>\r\n              <div class=\"f-theme f12\">\r\n                <span\r\n                  class=\"mr10 pointer\"\r\n                  @click=\"editType(item)\"\r\n                >编辑</span>\r\n                <span\r\n                  class=\"pointer\"\r\n                  @click=\"delType(item)\"\r\n                >删除</span>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </draggable>\r\n    </div>\r\n\r\n    <edit ref=\"edit\"></edit>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport Edit from \"./edit.vue\";\r\n\r\nexport default {\r\n  name: \"groupManager\",\r\n\r\n  components: {\r\n    Edit,\r\n  },\r\n\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  methods: {\r\n    // 折叠\r\n    fold(group) {\r\n      group.fold\r\n        ? this.$set(group, \"fold\", false)\r\n        : this.$set(group, \"fold\", true);\r\n    },\r\n\r\n    // 折叠全部\r\n    allFold() {\r\n      this.project.config.goodsGroups.map((item) => (item.fold = false));\r\n    },\r\n\r\n    // 展开全部\r\n    allUnFold() {\r\n      this.project.config.goodsGroups.map((item) => (item.fold = true));\r\n    },\r\n\r\n    // 新增一级分组\r\n    addGroup() {\r\n      this.$refs.edit.open(1);\r\n    },\r\n\r\n    // 编辑一级分组\r\n    editGroup(data) {\r\n      this.$refs.edit.open(1, data);\r\n    },\r\n\r\n    // 删除一级分组\r\n    delGroup(type) {\r\n      let groups = this.project.config.goodsGroups;\r\n      let index = groups.reduce((pre, cur, i) => {\r\n        if (cur.type == type) pre = i;\r\n        return pre;\r\n      }, 0);\r\n      groups.splice(index, 1);\r\n    },\r\n\r\n    // 新增二级分组\r\n    addType() {\r\n      this.$refs.edit.open(2);\r\n    },\r\n\r\n    // 编辑二级分组\r\n    editType(data) {\r\n      this.$refs.edit.open(2, data);\r\n    },\r\n\r\n    // 删除二级分组\r\n    delType(data) {\r\n      let temp = this.project.config.goodsGroups.find(\r\n        (item) => item.type == data.parentType\r\n      );\r\n      let index = temp.child.reduce((pre, cur, i) => {\r\n        if (cur.type == data.type) pre = i;\r\n        return pre;\r\n      }, 0);\r\n      temp.child.splice(index, 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.group {\r\n  .group-head {\r\n    border: 1px solid #e3e2e5;\r\n    border-top-left-radius: 10px;\r\n    border-top-right-radius: 10px;\r\n  }\r\n\r\n  .group-body {\r\n    padding: 5px 15px 5px 50px;\r\n    border-left: 1px solid #e3e2e5;\r\n    border-right: 1px solid #e3e2e5;\r\n    border-bottom: 1px solid #e3e2e5;\r\n    border-bottom-left-radius: 6px;\r\n    border-bottom-right-radius: 6px;\r\n    font-size: 13px;\r\n\r\n    .group-body-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 10px 10px 10px 0;\r\n      border-bottom: 1px solid #e3e2e5;\r\n\r\n      &:last-child {\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/pages/mall/goods/group-manager"}]}