{"remainingRequest":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js!D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\utils\\request.js","dependencies":[{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\src\\utils\\request.js","mtime":1693619752214},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\Tooy-LowCode\\lowCode\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoNCiAqIEBEZXNjcmlwdGlvbjogV2hhdCdzIHRoaXMgZm9yDQogKiBAQXV0b3I6IFdhbmdZdWFuDQogKiBARGF0ZTogMjAyMS0wMy0yNCAxNjowNzo0Ng0KICogQExhc3RFZGl0b3JzOiBXYW5nWXVhbg0KICogQExhc3RFZGl0VGltZTogMjAyMi0wMi0xMSAxMDoxNDowOA0KICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgZ2xvYmFsIGZyb20gJ0AvY29uZmlnL2dsb2JhbCc7IC8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQoKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IGdsb2JhbC5iYXNlQXBpLAogIC8vIHVybCA9IGJhc2UgdXJsICsgcmVxdWVzdCB1cmwKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy8gc2VuZCBjb29raWVzIHdoZW4gY3Jvc3MtZG9tYWluIHJlcXVlc3RzCiAgdGltZW91dDogMTUwMDAgLy8gcmVxdWVzdCB0aW1lb3V0Cgp9KTsgLy8gcmVxdWVzdCBpbnRlcmNlcHRvcgoKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gc3RvcmUuZ2V0dGVycy50b2tlbjsKICB9CgogIHJldHVybiBjb25maWc7Cn0pOyAvLyByZXNwb25zZSBpbnRlcmNlcHRvcgoKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciB0b2tlbiA9IHJlc3BvbnNlLmhlYWRlcnNbJ3JpZ2h0LXRva2VuJ107CiAgdG9rZW4gJiYgc3RvcmUuY29tbWl0KCdzZXRUb2tlbicsIHRva2VuKTsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["D:/开源项目/Tooy-LowCode/lowCode/src/utils/request.js"],"names":["Vue","axios","store","global","request","create","baseURL","baseApi","withCredentials","timeout","interceptors","use","config","getters","token","headers","response","commit","data"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CAEA;;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEH,MAAM,CAACI,OADW;AACF;AACzBC,EAAAA,eAAe,EAAE,IAFU;AAEJ;AACvBC,EAAAA,OAAO,EAAE,KAHkB,CAGZ;;AAHY,CAAb,CAAhB,C,CAMA;;AACAL,OAAO,CAACM,YAAR,CAAqBN,OAArB,CAA6BO,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACzC,MAAIV,KAAK,CAACW,OAAN,CAAcC,KAAlB,EAAyB;AACvBF,IAAAA,MAAM,CAACG,OAAP,CAAe,eAAf,IAAkCb,KAAK,CAACW,OAAN,CAAcC,KAAhD;AACD;;AAED,SAAOF,MAAP;AACD,CAND,E,CAQA;;AACAR,OAAO,CAACM,YAAR,CAAqBM,QAArB,CAA8BL,GAA9B,CAAkC,UAAAK,QAAQ,EAAI;AAC5C,MAAMF,KAAK,GAAGE,QAAQ,CAACD,OAAT,CAAiB,aAAjB,CAAd;AACAD,EAAAA,KAAK,IAAIZ,KAAK,CAACe,MAAN,CAAa,UAAb,EAAyBH,KAAzB,CAAT;AAEA,SAAOE,QAAQ,CAACE,IAAhB;AACD,CALD;AAOA,eAAed,OAAf","sourcesContent":["/*\r\n * @Description: What's this for\r\n * @Autor: WangYuan\r\n * @Date: 2021-03-24 16:07:46\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-02-11 10:14:08\r\n */\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport store from '@/store'\r\nimport global from '@/config/global'\r\n\r\n// create an axios instance\r\nconst request = axios.create({\r\n  baseURL: global.baseApi, // url = base url + request url\r\n  withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 15000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nrequest.interceptors.request.use(config => {\r\n  if (store.getters.token) {\r\n    config.headers['Authorization'] = store.getters.token\r\n  }\r\n\r\n  return config\r\n})\r\n\r\n// response interceptor\r\nrequest.interceptors.response.use(response => {\r\n  const token = response.headers['right-token']\r\n  token && store.commit('setToken', token)\r\n\r\n  return response.data\r\n})\r\n\r\nexport default request\r\n"]}]}