{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaCapCube\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaCapCube\\index.vue","mtime":1693619752169},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc2NoZW1hTWl4aW4gZnJvbSAiQC9taXhpbi9zY2hlbWFNaXhpbiI7DQppbXBvcnQgQ2FwQ3ViZUxheW91dCBmcm9tICIuL0NhcEN1YmVMYXlvdXQiOw0KaW1wb3J0IHsgaW5pdGlhbE1vZGVscywgbW9kZWxPcHRpb25zIH0gZnJvbSAiLi9jb25maWciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTY2hlbWFDYXBDdWJlIiwNCg0KICBtaXhpbnM6IFtzY2hlbWFNaXhpbl0sDQoNCiAgY29tcG9uZW50czogew0KICAgIENhcEN1YmVMYXlvdXQsDQogIH0sDQoNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4ge30sDQogICAgfSwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtb2RlbE9wdGlvbnMsDQogICAgICBhY3RpdmVJdGVtOiBudWxsLA0KICAgIH07DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC8vIOWIh+aNouaooeWeiw0KICAgIGNoYW5nZU1vZGVsKG1vZGVsKSB7DQogICAgICBpZiAobW9kZWwpIHsNCiAgICAgICAgLy8g6K6+572u5qih5p2/5a+55bqU6KGM5pWwDQogICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLm1vZGVsT3B0aW9ucy5maW5kKChtKSA9PiBtLnZhbHVlID09IG1vZGVsKTsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMubVZhbHVlLCAicm93IiwgdGFyZ2V0LnJvdyk7DQoNCiAgICAgICAgLy8g6YeN572u5qih5p2/DQogICAgICAgIHRoaXMuJHJlZnMubGF5b3V0LnJlc2V0KCk7DQoNCiAgICAgICAgLy8g6K6+572u5qih5p2/5a+55bqU5Yid5aeL5pWw5o2uDQogICAgICAgIGlmIChtb2RlbCA9PSAiY3VzdG9tIikgew0KICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm1WYWx1ZSwgImxpc3QiLCBbXSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kc2V0KA0KICAgICAgICAgICAgdGhpcy5tVmFsdWUsDQogICAgICAgICAgICAibGlzdCIsDQogICAgICAgICAgICB0aGlzLl8uY2xvbmVEZWVwKGluaXRpYWxNb2RlbHNbbW9kZWxdKQ0KICAgICAgICAgICk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g5YiH5o2i6KGM5pWwDQogICAgY2hhbmdlUm93KCkgew0KICAgICAgdGhpcy4kcmVmcy5sYXlvdXQucmVzZXQoKTsNCiAgICB9LA0KDQogICAgLy8g5YiH5o2i5Y2V5YWD5Z2X6K6+572uIA0KICAgIG9uQ3V1ckluZGV4KGl0ZW0pIHsNCiAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IG51bGw7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gaXRlbTsNCiAgICAgIH0sIDEwKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/custom-schema-template/components/SchemaCapCube","sourcesContent":["<!--\r\n * @Description: 魔方多维布局配置\r\n * @Autor: WangYuan\r\n * @Date: 2021-06-03 13:59:00\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-06-27 11:29:14\r\n-->\r\n<template>\r\n  <div>\r\n    <!-- 魔方行数选择 -->\r\n    <config-item v-show=\"mValue.model == 'custom'\" label=\"魔方行数\">\r\n      <el-select\r\n        v-model=\"mValue.row\"\r\n        placeholder=\"请选择\"\r\n        size=\"small\"\r\n        @change=\"changeRow\"\r\n      >\r\n        <el-option\r\n          v-for=\"key in 10\"\r\n          :key=\"key\"\r\n          :label=\"key + '行'\"\r\n          :value=\"key\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n    </config-item>\r\n\r\n    <!-- 魔方布局 -->\r\n    <template>\r\n      <div class=\"f-red f13 mb15 pl10 pr10\">魔方布局</div>\r\n      <div class=\"f-grey f12 mb15 pl10 pr10\">移动鼠标选定布局区域大小</div>\r\n      <div class=\"pl10 pl10\">\r\n        <cap-cube-layout\r\n          ref=\"layout\"\r\n          :row=\"mValue.row\"\r\n          :model=\"mValue.model\"\r\n          v-model=\"mValue.list\"\r\n          @onCuurIndex=\"onCuurIndex\"\r\n        ></cap-cube-layout>\r\n      </div>\r\n    </template>\r\n\r\n    <!-- 魔方模板选择 -->\r\n    <SchemaSelect\r\n      class=\"mt15 mb20\"\r\n      label=\"模板选择\"\r\n      v-model=\"mValue.model\"\r\n      :data=\"modelOptions\"\r\n      @change=\"changeModel\"\r\n    >\r\n    </SchemaSelect>\r\n\r\n    <div v-if=\"activeItem\" class=\"nav ml10 mr10 mb20\">\r\n      {{ activeItem }}\r\n      <SchemaUpload label=\"魔方图片\" v-model=\"activeItem.image\" />\r\n      <SchemaJump label=\"跳转页面\" v-model=\"activeItem.jump\"></SchemaJump>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport schemaMixin from \"@/mixin/schemaMixin\";\r\nimport CapCubeLayout from \"./CapCubeLayout\";\r\nimport { initialModels, modelOptions } from \"./config\";\r\n\r\nexport default {\r\n  name: \"SchemaCapCube\",\r\n\r\n  mixins: [schemaMixin],\r\n\r\n  components: {\r\n    CapCubeLayout,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      modelOptions,\r\n      activeItem: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 切换模型\r\n    changeModel(model) {\r\n      if (model) {\r\n        // 设置模板对应行数\r\n        let target = this.modelOptions.find((m) => m.value == model);\r\n        this.$set(this.mValue, \"row\", target.row);\r\n\r\n        // 重置模板\r\n        this.$refs.layout.reset();\r\n\r\n        // 设置模板对应初始数据\r\n        if (model == \"custom\") {\r\n          this.$set(this.mValue, \"list\", []);\r\n        } else {\r\n          this.$set(\r\n            this.mValue,\r\n            \"list\",\r\n            this._.cloneDeep(initialModels[model])\r\n          );\r\n        }\r\n      }\r\n    },\r\n\r\n    // 切换行数\r\n    changeRow() {\r\n      this.$refs.layout.reset();\r\n    },\r\n\r\n    // 切换单元块设置 \r\n    onCuurIndex(item) {\r\n      this.activeItem = null;\r\n      setTimeout(() => {\r\n        this.activeItem = item;\r\n      }, 10);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}