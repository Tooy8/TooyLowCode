{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaGoods\\GoodsConfigChoose.vue?vue&type=style&index=0&id=257bd410&lang=scss&scoped=true&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\custom-schema-template\\components\\SchemaGoods\\GoodsConfigChoose.vue","mtime":1693619752171},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693619861603},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693619864566},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\px2rem-loader\\index.js","mtime":1693619901908},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\postcss-loader\\src\\index.js","mtime":1693619864324},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693619903311},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\sass-resources-loader\\lib\\loader.js","mtime":1693619810749},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQo6OnYtZGVlcCAuZWwtZGlhbG9nIHsNCiAgLmVsLWRpYWxvZ19fdGl0bGUgew0KICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50Ow0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogIH0NCiAgLmVsLWRpYWxvZ19fYm9keSB7DQogICAgcGFkZGluZzogMTBweCAyMHB4IDMwcHggMjBweCAhaW1wb3J0YW50Ow0KICB9DQp9DQoNCi53cmFwIHsNCiAgYmFja2dyb3VuZDogI2YyZjJmNjsNCiAgaGVpZ2h0OiA0MDBweDsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KfQ0K"},{"version":3,"sources":["GoodsConfigChoose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"GoodsConfigChoose.vue","sourceRoot":"src/custom-schema-template/components/SchemaGoods","sourcesContent":["<!--\r\n * @Description: What's this for\r\n * @Autor: WangYuan\r\n * @Date: 2021-06-24 10:29:52\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2021-10-08 16:05:41\r\n-->\r\n<template>\r\n  <el-dialog\r\n    title=\"选择商品\"\r\n    :visible.sync=\"visible\"\r\n    :close-on-click-modal='false'\r\n    :append-to-body='true'\r\n    width=\"45%\"\r\n  >\r\n    <el-table\r\n      ref=\"multipleTable\"\r\n      :data=\"list\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"width: 100%\"\r\n      max-height=\"300\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column\r\n        type=\"selection\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"商品名\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"商品封面\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <img\r\n            class=\"w50 h50\"\r\n            :src=\"scope.row.cover\"\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"price\"\r\n        label=\"价格（元）\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"originalPrice\"\r\n        label=\"原价（元）\"\r\n        align='center'\r\n        header-align='center'\r\n      >\r\n      </el-table-column>\r\n    </el-table>\r\n    <span\r\n      slot=\"footer\"\r\n      class=\"dialog-footer\"\r\n    >\r\n      <el-button @click=\"visible = false\">取 消</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"submit\"\r\n      >确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoodsList } from \"@/api/goods\";\r\n\r\nexport default {\r\n  name: \"GoodsConfigChoose\",\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getList();\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      selectList: [],\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  watch: {\r\n    show: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.visible = this.show;\r\n      },\r\n    },\r\n    visible: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        this.$emit(\"update:show\", newValue);\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 获取商城商品列表\r\n    async getList() {\r\n      let { status, list } = await getGoodsList({ projectId: this.project.id });\r\n\r\n      if (status == \"10000\") {\r\n        // 筛选字段\r\n        this.list = list;\r\n\r\n        // 根据选中列表id，筛选匹配对应数组，用于勾选回显\r\n        this.selectList = this.list.filter((item) => {\r\n          return this.value.includes(item.id);\r\n        });\r\n\r\n        // 勾选回显回调方法\r\n        setTimeout(() => {\r\n          this.toggleSelection(this.selectList);\r\n        }, 0);\r\n      }\r\n    },\r\n\r\n    // 勾选回显\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach((row) => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      }\r\n    },\r\n\r\n    // 勾选选中\r\n    handleSelectionChange(val) {\r\n      this.selectList = val;\r\n    },\r\n\r\n    // 提交\r\n    submit() {\r\n      this.$emit(\r\n        \"submit\",\r\n        this.selectList.map((item) => item.id)\r\n      );\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-dialog {\r\n  .el-dialog__title {\r\n    font-size: 14px !important;\r\n    font-weight: 600;\r\n  }\r\n  .el-dialog__body {\r\n    padding: 10px 20px 30px 20px !important;\r\n  }\r\n}\r\n\r\n.wrap {\r\n  background: #f2f2f6;\r\n  height: 400px;\r\n  border-radius: 5px;\r\n}\r\n</style>"]}]}