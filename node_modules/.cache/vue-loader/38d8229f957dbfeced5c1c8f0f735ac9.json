{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\goods-manager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\goods-manager\\index.vue","mtime":1693619752180},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1693619820336},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBnZXRHb29kc0xpc3QsIGNvcHlHb29kcyB9IGZyb20gIkAvYXBpL2dvb2RzIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiZ29vZHNNYW5hZ2VyIiwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0TGlzdCgpOw0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3Q6IFtdLA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsicHJvamVjdCJdKSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0TGlzdCgpIHsNCiAgICAgIGxldCB7IHN0YXR1cywgbGlzdCB9ID0gYXdhaXQgZ2V0R29vZHNMaXN0KHsgcHJvamVjdElkOiB0aGlzLnByb2plY3QuaWQgfSk7DQogICAgICBpZiAoc3RhdHVzID09ICIxMDAwMCIpIHRoaXMubGlzdCA9IGxpc3Q7DQogICAgfSwNCg0KICAgIGFkZCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImdvb2RzLWVkaXQiIH0pOw0KICAgIH0sDQoNCiAgICBlZGl0KHBhcmFtcykgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAiZ29vZHMtZWRpdCIsDQogICAgICAgIHBhcmFtczogdGhpcy4kY2xvbmVEZWVwKHBhcmFtcyksDQogICAgICB9KTsNCiAgICB9LA0KDQogICAgYXN5bmMgY29weShkYXRhKSB7DQogICAgICBsZXQgeyBzdGF0dXMgfSA9IGF3YWl0IGNvcHlHb29kcyhkYXRhKTsNCg0KICAgICAgaWYgKHN0YXR1cyA9PSAiMTAwMDAiKSB7DQogICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwNCiAgICAgICAgICBtZXNzYWdlOiAi5ZWG5ZOB5aSN5Yi25oiQ5YqfIiwNCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/mall/goods/goods-manager","sourcesContent":["<!--\r\n * @Description: 商品管理\r\n * @Autor: WangYuan\r\n * @Date: 2021-08-16 16:46:55\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2021-12-08 20:50:29\r\n-->\r\n<template>\r\n  <div class=\"m20 p20 bg-white\">\r\n    <div class=\"mb20\">\r\n      <el-button\r\n        size='small'\r\n        class='f-white bg-theme'\r\n        @click=\"add\"\r\n      >发布商品</el-button>\r\n    </div>\r\n\r\n    <!-- 表格 -->\r\n    <div class=\"mt30\">\r\n      <el-table\r\n        :data=\"list\"\r\n        :header-cell-style=\"{background:'#f7f8fa',color:'#323233',fontWeight:500}\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"商品名\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"商品封面\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              class=\"w50 h50\"\r\n              :src=\"scope.row.cover\"\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"price\"\r\n          label=\"价格（元）\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.price | moneyDec}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"originalPrice\"\r\n          label=\"原价（元）\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.originalPrice | moneyDec}}\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column\r\n          prop=\"inventory\"\r\n          label=\"库存\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n        </el-table-column> -->\r\n\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align='center'\r\n          header-align='center'\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <span\r\n              class=\"mr5 f-theme pointer\"\r\n              @click=\"edit(scope.row)\"\r\n            >编辑</span>\r\n            <span\r\n              class=\"ml5 mr5 f-theme pointer\"\r\n              @click=\"copy(scope.row)\"\r\n            >复制</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoodsList, copyGoods } from \"@/api/goods\";\r\n\r\nexport default {\r\n  name: \"goodsManager\",\r\n\r\n  created() {\r\n    this.getList();\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  methods: {\r\n    async getList() {\r\n      let { status, list } = await getGoodsList({ projectId: this.project.id });\r\n      if (status == \"10000\") this.list = list;\r\n    },\r\n\r\n    add() {\r\n      this.$router.push({ name: \"goods-edit\" });\r\n    },\r\n\r\n    edit(params) {\r\n      this.$router.push({\r\n        name: \"goods-edit\",\r\n        params: this.$cloneDeep(params),\r\n      });\r\n    },\r\n\r\n    async copy(data) {\r\n      let { status } = await copyGoods(data);\r\n\r\n      if (status == \"10000\") {\r\n        this.getList();\r\n        this.$notify({\r\n          title: \"成功\",\r\n          message: \"商品复制成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}