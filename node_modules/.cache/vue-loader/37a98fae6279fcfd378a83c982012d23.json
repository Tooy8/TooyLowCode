{"remainingRequest":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\group-manager\\index.vue?vue&type=style&index=0&id=6439a59c&lang=scss&scoped=true&","dependencies":[{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\src\\pages\\mall\\goods\\group-manager\\index.vue","mtime":1693619752180},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693619861603},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693619864566},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\px2rem-loader\\index.js","mtime":1693619901908},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\postcss-loader\\src\\index.js","mtime":1693619864324},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693619903311},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\sass-resources-loader\\lib\\loader.js","mtime":1693619810749},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693619820390},{"path":"D:\\开源项目\\商城低代码\\mall-cook\\packages\\mall-cook-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1693619864566}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmdyb3VwIHsNCiAgLmdyb3VwLWhlYWQgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNlM2UyZTU7DQogICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTBweDsNCiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTBweDsNCiAgfQ0KDQogIC5ncm91cC1ib2R5IHsNCiAgICBwYWRkaW5nOiA1cHggMTVweCA1cHggNTBweDsNCiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlM2UyZTU7DQogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2UzZTJlNTsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UzZTJlNTsNCiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA2cHg7DQogICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDZweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQoNCiAgICAuZ3JvdXAtYm9keS1pdGVtIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMDsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTNlMmU1Ow0KDQogICAgICAmOmxhc3QtY2hpbGQgew0KICAgICAgICBib3JkZXI6IDA7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/mall/goods/group-manager","sourcesContent":["<!--\r\n * @Description: 商品分类管理\r\n * @Autor: WangYuan\r\n * @Date: 2021-09-07 11:49:30\r\n * @LastEditors: WangYuan\r\n * @LastEditTime: 2022-02-11 11:46:31\r\n-->\r\n<template>\r\n  <div class=\"m20 p20 bg-white\">\r\n    <div class=\"mt10 mb20\">\r\n      <span class=\"mr20 f14\">商品分组</span>\r\n      <span class=\"f12 f-grey\">拖拽可调整分组顺序，保存生效</span>\r\n    </div>\r\n\r\n    <div class=\"p10 bg-grey\">\r\n\r\n      <!-- 按钮栏 -->\r\n      <div class=\"flex row-between p15 r8 bg-white\">\r\n        <div>\r\n          <el-button\r\n            class=\"mr10\"\r\n            size=\"small\"\r\n            @click=\"allUnFold\"\r\n          >展开全部</el-button>\r\n          <el-button\r\n            size=\"small\"\r\n            @click=\"allFold\"\r\n          >折叠全部</el-button>\r\n        </div>\r\n        <el-button\r\n          size=\"small\"\r\n          @click=\"addGroup\"\r\n        >新增一级分组</el-button>\r\n      </div>\r\n\r\n      <!-- 分组拖拽列表 -->\r\n      <draggable v-model=\"project.config.goodsGroups\">\r\n        <div\r\n          v-for=\"group in project.config.goodsGroups\"\r\n          :key=\"group.type\"\r\n          class=\"group mt10 p10 bg-white\"\r\n        >\r\n\r\n          <!-- 分组头部 -->\r\n          <div class=\"group-head flex row-between col-center p15\">\r\n            <div>\r\n              <i\r\n                v-if=\"!group.fold\"\r\n                class=\"el-icon-arrow-right f14 mr10 pointer\"\r\n                @click=\"fold(group)\"\r\n              ></i>\r\n              <i\r\n                v-else\r\n                class=\"el-icon-arrow-down f14 mr10 pointer\"\r\n                @click=\"fold(group)\"\r\n              ></i>\r\n              <span class=\"f12\">{{group.name}}</span>\r\n            </div>\r\n            <div class=\"f-theme f12\">\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"addType\"\r\n              >新增二级分组</span>\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"editGroup(group)\"\r\n              >编辑</span>\r\n              <span\r\n                class=\"mr10 pointer\"\r\n                @click=\"delGroup(group.type)\"\r\n              >删除</span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 分组内容 -->\r\n          <ul\r\n            v-if=\"group.child.length && group.fold\"\r\n            class=\"group-body\"\r\n          >\r\n            <li\r\n              v-for=\"item in group.child\"\r\n              :key=\"item.type\"\r\n              class=\"group-body-item\"\r\n            >\r\n              <div class=\"flex-center\">\r\n                <img\r\n                class=\"w35 h35 mr15\"\r\n                  :src=\"item.image\"\r\n                />\r\n                <span>{{item.name}}</span>\r\n              </div>\r\n              <div class=\"f-theme f12\">\r\n                <span\r\n                  class=\"mr10 pointer\"\r\n                  @click=\"editType(item)\"\r\n                >编辑</span>\r\n                <span\r\n                  class=\"pointer\"\r\n                  @click=\"delType(item)\"\r\n                >删除</span>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </draggable>\r\n    </div>\r\n\r\n    <edit ref=\"edit\"></edit>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport Edit from \"./edit.vue\";\r\n\r\nexport default {\r\n  name: \"groupManager\",\r\n\r\n  components: {\r\n    Edit,\r\n  },\r\n\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"project\"]),\r\n  },\r\n\r\n  methods: {\r\n    // 折叠\r\n    fold(group) {\r\n      group.fold\r\n        ? this.$set(group, \"fold\", false)\r\n        : this.$set(group, \"fold\", true);\r\n    },\r\n\r\n    // 折叠全部\r\n    allFold() {\r\n      this.project.config.goodsGroups.map((item) => (item.fold = false));\r\n    },\r\n\r\n    // 展开全部\r\n    allUnFold() {\r\n      this.project.config.goodsGroups.map((item) => (item.fold = true));\r\n    },\r\n\r\n    // 新增一级分组\r\n    addGroup() {\r\n      this.$refs.edit.open(1);\r\n    },\r\n\r\n    // 编辑一级分组\r\n    editGroup(data) {\r\n      this.$refs.edit.open(1, data);\r\n    },\r\n\r\n    // 删除一级分组\r\n    delGroup(type) {\r\n      let groups = this.project.config.goodsGroups;\r\n      let index = groups.reduce((pre, cur, i) => {\r\n        if (cur.type == type) pre = i;\r\n        return pre;\r\n      }, 0);\r\n      groups.splice(index, 1);\r\n    },\r\n\r\n    // 新增二级分组\r\n    addType() {\r\n      this.$refs.edit.open(2);\r\n    },\r\n\r\n    // 编辑二级分组\r\n    editType(data) {\r\n      this.$refs.edit.open(2, data);\r\n    },\r\n\r\n    // 删除二级分组\r\n    delType(data) {\r\n      let temp = this.project.config.goodsGroups.find(\r\n        (item) => item.type == data.parentType\r\n      );\r\n      let index = temp.child.reduce((pre, cur, i) => {\r\n        if (cur.type == data.type) pre = i;\r\n        return pre;\r\n      }, 0);\r\n      temp.child.splice(index, 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.group {\r\n  .group-head {\r\n    border: 1px solid #e3e2e5;\r\n    border-top-left-radius: 10px;\r\n    border-top-right-radius: 10px;\r\n  }\r\n\r\n  .group-body {\r\n    padding: 5px 15px 5px 50px;\r\n    border-left: 1px solid #e3e2e5;\r\n    border-right: 1px solid #e3e2e5;\r\n    border-bottom: 1px solid #e3e2e5;\r\n    border-bottom-left-radius: 6px;\r\n    border-bottom-right-radius: 6px;\r\n    font-size: 13px;\r\n\r\n    .group-body-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 10px 10px 10px 0;\r\n      border-bottom: 1px solid #e3e2e5;\r\n\r\n      &:last-child {\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}